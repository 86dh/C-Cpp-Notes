<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-01-13 Mon 15:22 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CPP / C++ - Debuggers</title>
<meta name="generator" content="Org mode" />
<meta name="description" content="C++ Debuggers reverse engineering introspection"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<link href="theme/org-nav-theme.css" rel="stylesheet">
<script src="theme/org-nav-theme.js"></script>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">CPP / C++ - Debuggers</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org53a3ca8">1. GDB - GNU Debugger - Command Line</a>
<ul>
<li><a href="#org7fca237">1.1. Overview</a></li>
<li><a href="#orgb2d3137">1.2. Command Summary</a>
<ul>
<li><a href="#orgfa93ac5">1.2.1. GDB Commands for C and C++</a></li>
<li><a href="#org4ce2f18">1.2.2. GDB Commands for Assembly and reverse engineering</a></li>
<li><a href="#org1b7f9b2">1.2.3. Key Bindings for Terminal</a></li>
<li><a href="#org18a5da1">1.2.4. Command Line Options</a></li>
</ul>
</li>
<li><a href="#orgb1ea9ae">1.3. Example with source code</a>
<ul>
<li><a href="#org08389ad">1.3.1. Overview</a></li>
<li><a href="#org47b139d">1.3.2. File: gdb-test.cpp</a></li>
<li><a href="#orga8ab8ea">1.3.3. Debugging with GDB</a></li>
</ul>
</li>
<li><a href="#org37dd647">1.4. Example and workflow</a></li>
<li><a href="#org9015dcd">1.5. Example - Debugging Assembly x86 (IA32) Code</a></li>
<li><a href="#org6751768">1.6. Examples by task</a>
<ul>
<li><a href="#org1b1d576">1.6.1. Print/List function source code</a></li>
<li><a href="#org324433e">1.6.2. Print memory address as c-string</a></li>
<li><a href="#org3551b49">1.6.3. Print object vtable</a></li>
<li><a href="#org3822ae6">1.6.4. Show Current function arguments</a></li>
<li><a href="#orgdc07f1e">1.6.5. Show information about signals</a></li>
<li><a href="#org85838e1">1.6.6. List shared libraries loaded into current process</a></li>
<li><a href="#orgf69d67f">1.6.7. Execute shell command</a></li>
<li><a href="#org4c2debf">1.6.8. Install Debugging Symbols on Linux</a></li>
<li><a href="#orga155b74">1.6.9. Using GDB to monitor Python interpreter</a></li>
</ul>
</li>
<li><a href="#org778a8e3">1.7. Session automation with command files</a></li>
<li><a href="#org0852466">1.8. Extensions and scripts</a></li>
<li><a href="#org00495a8">1.9. References, Bookmarks and Further Reading</a>
<ul>
<li><a href="#orgadef64c">1.9.1. Selected GDB Documentation</a></li>
<li><a href="#org644f6d9">1.9.2. Bookmarks and further reading</a></li>
<li><a href="#org145dd58">1.9.3. Videos</a></li>
<li><a href="#org97d3600">1.9.4. Reverse Engineering</a></li>
<li><a href="#org092ab92">1.9.5. References</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd174135">2. <span class="todo TODO">TODO</span> LLDB - Lllvm Debugger</a>
<ul>
<li><a href="#org2556063">2.1. Overview</a></li>
<li><a href="#orgeadc432">2.2. Example - Debugging a source code</a>
<ul>
<li><a href="#org20cc4d7">2.2.1. Sample program</a></li>
<li><a href="#org7afc926">2.2.2. Debug Session</a></li>
</ul>
</li>
<li><a href="#org1b3c5f3">2.3. References</a></li>
</ul>
</li>
<li><a href="#org0031705">3. WindBG - Windows Debugger</a>
<ul>
<li><a href="#org0477cba">3.1. Overview</a></li>
<li><a href="#org37ec336">3.2. Command Summary</a></li>
<li><a href="#org5dc03d4">3.3. Basic Debugger Commands</a>
<ul>
<li><a href="#org887ff32">3.3.1. Show hlep</a></li>
<li><a href="#org86d014e">3.3.2. Clear screen</a></li>
<li><a href="#orgc865cc8">3.3.3. Display version</a></li>
<li><a href="#orgfea7e6d">3.3.4. Display source search path</a></li>
<li><a href="#org27dff6b">3.3.5. Display loaded modules</a></li>
<li><a href="#orgf7022cf">3.3.6. Display loaded modules with file name</a></li>
<li><a href="#orgc72ccb9">3.3.7. Show verbose information about module</a></li>
<li><a href="#org530c284">3.3.8. Show module headers</a></li>
<li><a href="#org51123a9">3.3.9. Show memory of module</a></li>
<li><a href="#orgd03d618">3.3.10. Show formatted output about the Process Environment Block (PEB)</a></li>
<li><a href="#org1ef0933">3.3.11. Show variables</a></li>
<li><a href="#org1d00141">3.3.12. Show HANDLEs or Kernel objects used by process</a></li>
<li><a href="#orgeb91282">3.3.13. Show CPU Registers</a></li>
<li><a href="#org47c5c3f">3.3.14. Show threads</a></li>
<li><a href="#orga774b41">3.3.15. Show stack</a></li>
<li><a href="#orgbe169cf">3.3.16. List Processes</a></li>
<li><a href="#org619450b">3.3.17. Show all symbols exported by a module</a></li>
<li><a href="#orgc6f4ee3">3.3.18. Evaluate C++ Expressions</a></li>
<li><a href="#orgcd78716">3.3.19. Exceptions</a></li>
<li><a href="#orgcc7b04b">3.3.20. Inspect data structures</a></li>
</ul>
</li>
<li><a href="#orgfef8988">3.4. References</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org53a3ca8" class="outline-2">
<h2 id="org53a3ca8"><span class="section-number-2">1</span> GDB - GNU Debugger - Command Line</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org7fca237" class="outline-3">
<h3 id="org7fca237"><span class="section-number-3">1.1</span> Overview</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<b>What is a debugger?</b>
</p>

<ul class="org-ul">
<li>A program which allows to inspect the execution of a program
compiled with or without debugging symbols. Essentialy a debugger
is an "execution monitor".</li>
</ul>

<p>
<b>Common Debuggers</b>
</p>

<ul class="org-ul">
<li>GDB - GNU Debugger</li>

<li>LLDB - CLang Debugger</li>

<li>WinDBG, Visual Studio Debugger (Windows-only) - Both are front-ends
to the Windows Debugger which is just a DLL - Dynamic Linked
Library.</li>

<li><a href="http://www.ollydbg.de/">OllyDBG</a> (Windows-only) - Debugger designed for reverse engineering
with better capabilities to operate without debugging symbols.</li>

<li><a href="https://www.hex-rays.com/products/ida/debugger/index.shtml">IDA</a> - Interactive Disassemble and debugger designed for reverse
engineering. In addition Linux, Windows and OSX binaries, IDA can
also disassemble firmwares.</li>

<li><a href="http://www.valgrind.org/">Valgrind</a> Memory leaking debugger (Unix-like operating systems) - No
exactly a debugger, however it is useful for detecting memory
leaks, profiling and so on.</li>
</ul>

<p>
<b>Capabilities:</b>
</p>

<ul class="org-ul">
<li>Inspect any running programs or process allowing to observer
variables and manipulating memory.</li>

<li>Attach to running process in local machine.</li>

<li>Core Dump Analysis, aka crash dump analysis - post mortem analysis
of a program.</li>

<li>Attach to running process in remote machine (GDB - Server)
<ul class="org-ul">
<li>It allows remote debugging of a program running in a remote
machine over the network; Android device or program/firmware
running in a embedded system.</li>
</ul></li>

<li>Automation with user scripts, just a file containing GDB commands.</li>

<li>Automation with Python scripts.</li>
</ul>

<p>
<b>Use case:</b>
</p>

<ul class="org-ul">
<li>Development tools as it helps to understand the inner working of
some program:

<ul class="org-ul">
<li>execute an application step-by-step</li>
<li>solve bugs such as <span class="underline">segmentation faults</span> and <span class="underline">uncaught exceptions</span>.</li>
<li>trace function-calls</li>
<li>trace system-calls</li>
<li>view process state.</li>
</ul></li>

<li>Reverse Engineering
<ul class="org-ul">
<li>=&gt; Inspect and manipulate any process at runtime.</li>
</ul></li>

<li>Vunerability research.</li>
</ul>

<p>
<b>Some platforms and operating systems supported by GDB:</b>
</p>

<ul class="org-ul">
<li>Linux</li>
<li>Embedded Linux</li>
<li>MacOSX</li>
<li>Android</li>
<li>iOS</li>
<li><a href="https://en.wikipedia.org/wiki/Raspberry_Pi">Raspberry PI board</a> (Well-known single-board computer powered by ARM
processor which supports many operating systems, namely, GNU/Linux
compiled for ARM, Embedded Linux, Windows-CE, BSD, Android and so
on.)</li>
<li><a href="https://en.wikipedia.org/wiki/BeagleBoard">Beaglebone black</a>  - Single-board computer powered by ARM-based
processors. It is similar to Raspberry PI, however it has more
peripherals and the hardware is open source.</li>
<li>Atmega AVR microcontrollers</li>
</ul>

<p>
<b>Languages supported by GDB:</b>
</p>

<ul class="org-ul">
<li><b>C</b></li>
<li><b>C++</b></li>
<li>Ada</li>
<li><b>Fortran</b></li>
<li><b>Objective-C</b></li>
<li>D (D-Language)</li>
<li>Go</li>
<li>OpenCL</li>
<li>Rust</li>
<li>Modula-2</li>
<li>Pascal</li>
</ul>

<p>
<b>Other useful tools for debugging / instrospection and reverse engineering:</b>
</p>

<ul class="org-ul">
<li>strace =&gt; Trace system calls.</li>
<li>ltrace =&gt; Trace system calls.</li>

<li>lsof =&gt; View process' file descriptors, sockets, file mappings and
so on.</li>

<li>lslk =&gt; View process' locks.</li>

<li>ls -l <code>/proc/&lt;pid-of-process/&gt;/fd</code>
<ul class="org-ul">
<li>Show file descriptors opened by process.</li>
</ul></li>

<li><span class="underline">Wireshark and TCPDump</span> =&gt; Debug and reverse engineer network
protocols.</li>

<li><span class="underline">netcat</span> - Can create socket clients or socket servers on the fly. It
is useful for testing network servers or clients.</li>
</ul>

<p>
<b>Front-ends for GDB (Graphical User Interfaces):</b>
</p>

<p>
Graphical user interfaces makes easier to set breakpoints, watch
variables and modify at runtime the execution control flow. However,
not all GDB commands are accessible from the GDB graphical user
interfaces, thus, the command line and terminal interface $ gdb is
more powerful.
</p>

<ul class="org-ul">
<li><a href="https://github.com/cs01/gdbgui/">GdbGUI</a> - Brower GUI user interface - it opens a webpage at
localhost containing a front-end for GDB.
<ul class="org-ul">
<li>Supports commands: YES</li>
<li>Video: <a href="https://www.youtube.com/watch?v=Cd0BOOdGjrw">gdbgui demonstration - browser based gdb frontend</a></li>
</ul></li>

<li><a href="https://wiki.gnome.org/Apps/Nemiver/Features">Nemiver</a>
<ul class="org-ul">
<li><a href="https://people.gnome.org/~dodji/vids/variable-tooltip.ogg">Screencast</a></li>
<li>Supports commands: NO.</li>
</ul></li>
<li><a href="https://www.gnu.org/software/ddd/">DDD - Data Display Debugger</a>
<ul class="org-ul">
<li>Supports commands: YES.</li>
<li><a href="https://www.gnu.org/software/ddd/manual/html_mono/ddd.html#Summary">Manual</a></li>
<li>Video: <a href="https://www.youtube.com/watch?v=cKQ1qdo79As">GDNU DDD - Software Debugging</a></li>
</ul></li>

<li>Eclipse CDT IDE
<ul class="org-ul">
<li>Video: <a href="https://www.youtube.com/watch?v=KbN1UyybsV4">GDB Remote Debugging using LUbuntu Linux and Eclipse CDT Neon 3</a></li>
<li>Video: <a href="https://www.youtube.com/watch?v=T9yFyWsyyGk">Debian C/C++ Cross-Compilation for Embedded Linux using Eclipse (Luna), CDT, RSE &amp; Remote Debug</a></li>
</ul></li>

<li><a href="https://www.youtube.com/watch?v=wUZyoAnPdCY">JetBrain CLion IDE</a></li>

<li><a href="https://www.youtube.com/watch?v=-3toI8L3Oug">Microsft Visual Studio</a> - (Visual Stdio Debugger can connect from
Windows to a GDB server remotely over the network)</li>

<li>Emacs
<ul class="org-ul">
<li>Supports commands: YES.</li>
<li>Video: <a href="https://youtu.be/Vn1kDWVxq4s?t=344">AoD_1: Debugging with GDB in Emacs</a></li>
</ul></li>

<li>More info, see: <a href="https://sourceware.org/gdb/wiki/GDB%20Front%20Ends">GDB Front Ends - GDB Wiki</a></li>
</ul>

<p>
Side notes:
</p>
<ul class="org-ul">
<li>Supports commands: Means commands such as ($ b main), ($ i locals)&#x2026;</li>
<li>?? -&gt; Not known.</li>
</ul>
</div>
</div>

<div id="outline-container-orgb2d3137" class="outline-3">
<h3 id="orgb2d3137"><span class="section-number-3">1.2</span> Command Summary</h3>
<div class="outline-text-3" id="text-1-2">
</div>
<div id="outline-container-orgfa93ac5" class="outline-4">
<h4 id="orgfa93ac5"><span class="section-number-4">1.2.1</span> GDB Commands for C and C++</h4>
<div class="outline-text-4" id="text-1-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> GDB Command table</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">help or h</td>
<td class="org-left">Show help</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">info</td>
<td class="org-left">Show help about all (i) or info commands</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Debug Program or Process</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">file [path/to/program]</td>
<td class="org-left">Load  some program/executable file (ELF format on U*nix).</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">start</td>
<td class="org-left">Start debugging a loaded program</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">attach [PID]</td>
<td class="org-left">Attach debugger to a running process.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">detach</td>
<td class="org-left">Detach debugger from process.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r or run</td>
<td class="org-left">Run the loaded program</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r [ARG0] [ARG1]  &#x2026;</td>
<td class="org-left">Run program with arguments ARG0, ARG1 &#x2026;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r &gt; logging.fil</td>
<td class="org-left">Run program redirecting output to file.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">tty /dev/pts/4</td>
<td class="org-left">Redirect program input and ouput to another terminal</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">q or quit</td>
<td class="org-left">Quit GNU debugger.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">kill</td>
<td class="org-left">Kill the process being debugged</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Break Points</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i b or i breakpoints</td>
<td class="org-left">Show brakpoints</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break main</td>
<td class="org-left">Set break point at main function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break [FUNCTION]</td>
<td class="org-left">Set break point at some function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break [OBJECT.method]</td>
<td class="org-left">Set break point at some class method.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break [LINE ]</td>
<td class="org-left">Set break point at some line.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break [FILE]:[LINE]</td>
<td class="org-left">Set break point at some line of a given file.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">watch n == 10</td>
<td class="org-left">Set watchpoint, that pauses program when n == 10 is true.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sycall catch fork</td>
<td class="org-left">Stop execution whenever this syscall, fork, is invoked.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">syscall catch read</td>
<td class="org-left">Set break point at read system call.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Setepping through</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">s or step</td>
<td class="org-left">Execute next line, stepping over any function calls.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n or next</td>
<td class="org-left">Execute next line, stepping into function calls.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">c, cont or continue</td>
<td class="org-left">Resume execution until next break point</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">pop [RETURN VALUE]</td>
<td class="org-left">Pop current stack frame, returning from current function.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">finish</td>
<td class="org-left">Run until the current function returns</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">jump [LINE]  or *address</td>
<td class="org-left">Resume execution at different address</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">lines</td>
<td class="org-left">Show lines of srouce around current line</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">where</td>
<td class="org-left">Show current location</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">bt or backtrace</td>
<td class="org-left">Show backtrace</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Variables</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i locals</td>
<td class="org-left">Show local variables</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i args</td>
<td class="org-left">Show arguments of current function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p [VAR] or print [VAR]</td>
<td class="org-left">Print some variable</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">display [VAR]</td>
<td class="org-left">Add variable to display list</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">watch [VAR]</td>
<td class="org-left">Watch variable</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">set [VAR] = [VALUE]</td>
<td class="org-left">Set variable with some value</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i registers</td>
<td class="org-left">Show CPU registers</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p $pc</td>
<td class="org-left">Print program counter CPU Register</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p $sp</td>
<td class="org-left">Print stack pointer</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p $fp</td>
<td class="org-left">Print frame pointer</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">ptype &lt;VARIABLE&gt;</td>
<td class="org-left">Print variable type</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i vtbl &lt;VARIBLE&gt;</td>
<td class="org-left">Display vtable or virtual table layout for the variable class.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Process Information</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i proc</td>
<td class="org-left">Display basic information about current process.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i proc status</td>
<td class="org-left">Show process status</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i proc all</td>
<td class="org-left">Show all information about current process</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i inferior</td>
<td class="org-left">Show path to executable and PID of debugged process.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">pwd</td>
<td class="org-left">Current process working directory</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">cd [DIRECTORY]</td>
<td class="org-left">Change process working directory.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show args</td>
<td class="org-left">Show arguments used to invoke the program being debugged.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show environment</td>
<td class="org-left">Show environment variables of the process being debugged.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show paths</td>
<td class="org-left">Show PATH variable or serach paths.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Misc</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i threads</td>
<td class="org-left">Show threads information</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i functions</td>
<td class="org-left">Show all functions and symbols in the program</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">set print pretty on</td>
<td class="org-left">Turn on pretty print</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">call Function()</td>
<td class="org-left">Call some function and print returned value.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">layout asm</td>
<td class="org-left">Show a window within current terminal with assembly code.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">laytout src</td>
<td class="org-left">Show a window within current terminal with source code.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Backtrace</b></td>
<td class="org-left">Debug exceptions and signals such as segmentation fault.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">backtrace or bt</td>
<td class="org-left">Show backtrace.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">backtrace full or bt full</td>
<td class="org-left">Show full backtrace</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org4ce2f18" class="outline-4">
<h4 id="org4ce2f18"><span class="section-number-4">1.2.2</span> GDB Commands for Assembly and reverse engineering</h4>
<div class="outline-text-4" id="text-1-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Full</th>
<th scope="col" class="org-left">Short</th>
<th scope="col" class="org-left">Description</th>
</tr>

<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Deubgging Session</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">quit</td>
<td class="org-left">-</td>
<td class="org-left">Exit GDB session</td>
</tr>

<tr>
<td class="org-left">run</td>
<td class="org-left">r</td>
<td class="org-left">Start/Restart process being debugged</td>
</tr>

<tr>
<td class="org-left">kill</td>
<td class="org-left">-</td>
<td class="org-left">Kill process being debugged</td>
</tr>

<tr>
<td class="org-left">file /path/to/executable</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Load executable into a GDB session</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>General Info</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">show version</td>
<td class="org-left">-</td>
<td class="org-left">Show GDB version</td>
</tr>

<tr>
<td class="org-left">info source</td>
<td class="org-left">i source</td>
<td class="org-left">Show inf. about source files, language and debugging format.</td>
</tr>

<tr>
<td class="org-left">info program</td>
<td class="org-left">i program</td>
<td class="org-left">Show inf. about current executable or program</td>
</tr>

<tr>
<td class="org-left">info target</td>
<td class="org-left">i target</td>
<td class="org-left">Show inf. about executable being deubugged and its entry point and sections.</td>
</tr>

<tr>
<td class="org-left">info line 100</td>
<td class="org-left">i line 100</td>
<td class="org-left">Show inf. about line 100</td>
</tr>

<tr>
<td class="org-left">info proc cwd</td>
<td class="org-left">i proc cwd</td>
<td class="org-left">Show current working directory of the process being debugged</td>
</tr>

<tr>
<td class="org-left">info proc exe</td>
<td class="org-left">i proc exe</td>
<td class="org-left">Show path to executable being debugged</td>
</tr>

<tr>
<td class="org-left">info proc cmdline</td>
<td class="org-left">i proc cmdline</td>
<td class="org-left">Show command line used to start the process being debugged</td>
</tr>

<tr>
<td class="org-left">show args</td>
<td class="org-left">-</td>
<td class="org-left">Show command line (CLI) arguments used to start the current process.</td>
</tr>

<tr>
<td class="org-left">show envs</td>
<td class="org-left">-</td>
<td class="org-left">Show environment variables of current process</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Configuration</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">set disassembly-flavor att</td>
<td class="org-left">-</td>
<td class="org-left">Set disassembly syntax to AT&amp;T syntax (default)</td>
</tr>

<tr>
<td class="org-left">set disassembly-flavor intel</td>
<td class="org-left">-</td>
<td class="org-left">Set disassembly syntax to Intel syntax</td>
</tr>

<tr>
<td class="org-left">show disassembly-flavor</td>
<td class="org-left">-</td>
<td class="org-left">Show current disassembly flavor</td>
</tr>

<tr>
<td class="org-left">layout asm</td>
<td class="org-left">-</td>
<td class="org-left">Open a TUI showing the current instruction being executed with opcodes.</td>
</tr>

<tr>
<td class="org-left">layout src</td>
<td class="org-left">-</td>
<td class="org-left">Open a TUI showing the source and current line being executed</td>
</tr>

<tr>
<td class="org-left">layout regs</td>
<td class="org-left">-</td>
<td class="org-left">Open a TUI showing the current CPU registers that highlights the modified ones.</td>
</tr>

<tr>
<td class="org-left">tui enable</td>
<td class="org-left">-</td>
<td class="org-left">Enable all TUI panels</td>
</tr>

<tr>
<td class="org-left">tui disable</td>
<td class="org-left">-</td>
<td class="org-left">Disable all TUI (Terminal User Interface) panels</td>
</tr>

<tr>
<td class="org-left">display /i $pc</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Shwo the the next instruction being executed on every step and shows the location of $PC.</td>
</tr>

<tr>
<td class="org-left">display /3i $pc</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Always the next 3 instructions being executed showing the location of $PC on every step.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Set Break Point</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">break 100</td>
<td class="org-left">b 100</td>
<td class="org-left">Set breaking point at line 100 of the main file.</td>
</tr>

<tr>
<td class="org-left">break file2.cpp:10</td>
<td class="org-left">b file2.cpp:10</td>
<td class="org-left">Set breaking point at line 10 of file2.cpp</td>
</tr>

<tr>
<td class="org-left">break app.asm:55</td>
<td class="org-left">b app.asm:10</td>
<td class="org-left">Set breaking point at line 55 of file app.asm</td>
</tr>

<tr>
<td class="org-left">break SomeFunction</td>
<td class="org-left">b SomeFunction</td>
<td class="org-left">Set breaking point at function SomeFunction</td>
</tr>

<tr>
<td class="org-left">delete</td>
<td class="org-left">-</td>
<td class="org-left">Delete all breaking points</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Stepping through the code</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">run</td>
<td class="org-left">r</td>
<td class="org-left">Start/Restart debugging session</td>
</tr>

<tr>
<td class="org-left">continue</td>
<td class="org-left">c</td>
<td class="org-left">Continue execution until next breaking point</td>
</tr>

<tr>
<td class="org-left">stepi</td>
<td class="org-left">si</td>
<td class="org-left">Step program into next machine intruction</td>
</tr>

<tr>
<td class="org-left">nexti</td>
<td class="org-left">ni</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">reverse-stepi</td>
<td class="org-left">-</td>
<td class="org-left">Reverse backward one instruction (GDB version 7 - 2009)</td>
</tr>

<tr>
<td class="org-left">reverse-continue</td>
<td class="org-left">-</td>
<td class="org-left">Continue program being debugged until previous breaking point (GDB &gt;= v7 2009)</td>
</tr>

<tr>
<td class="org-left">reverse-nexit</td>
<td class="org-left">rni</td>
<td class="org-left">Reverse program backward one instruction proceeding through function calls.</td>
</tr>

<tr>
<td class="org-left">set exec-direction foward</td>
<td class="org-left">-</td>
<td class="org-left">Set execution directory as forward</td>
</tr>

<tr>
<td class="org-left">set exec-direction reverse</td>
<td class="org-left">-</td>
<td class="org-left">Set execution direction as reverse</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Disassembly Functions</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">disas main</td>
<td class="org-left">-</td>
<td class="org-left">Show the main function disassembled and all its instructions</td>
</tr>

<tr>
<td class="org-left">disas puts</td>
<td class="org-left">-</td>
<td class="org-left">Show the puts function disassembled and all its instructions</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Print memory size in bytes</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p sizeof(char)</td>
<td class="org-left">-</td>
<td class="org-left">Print size of a char in bytes</td>
</tr>

<tr>
<td class="org-left">p sizeof(long double)</td>
<td class="org-left">-</td>
<td class="org-left">Print size of long double in bytes</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Print Virtual Memory</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/s 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Show string at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/2s 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Display two strings at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/c 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Show character or byte at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/20c 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Show 20 characters or bytes at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/bx   0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print raw byte at 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/10bx 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print 10 raw bytes at 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/t 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print first byte at address 0x804a014 in binary format</td>
</tr>

<tr>
<td class="org-left">x/5t 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print 5 bytes at address 0x804a014 in binary format</td>
</tr>

<tr>
<td class="org-left">x/f 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print float point at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/15f 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print 10 float point at address 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/wd 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print one DWORD or integer 4 bytes at 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/30wd 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print 30 DWORDs or 30 integers at 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/g 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print a QWORD or integer of 8 bytes at 0x804a014</td>
</tr>

<tr>
<td class="org-left">x/20g 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print 20 integers of 8 bytes at this address.</td>
</tr>

<tr>
<td class="org-left">print (char*) 0x804a014</td>
<td class="org-left">-</td>
<td class="org-left">Print content of memory address 0x804a014 as a string.</td>
</tr>

<tr>
<td class="org-left">print <code>*(char*) 0x804a014</code></td>
<td class="org-left">-</td>
<td class="org-left">Print content of memory address 0x804a014 as a single character.</td>
</tr>

<tr>
<td class="org-left">print (char*) (0x804a014 + 1)</td>
<td class="org-left">-</td>
<td class="org-left">Print content of address (0x804a014 + 1) as a character or the second char at 0x804a014</td>
</tr>

<tr>
<td class="org-left">print (char*) (0x804a014 + 2)</td>
<td class="org-left">-</td>
<td class="org-left">Print content of address (0x804a014 + 2) as a character or the second char at 0x804a014</td>
</tr>

<tr>
<td class="org-left">print <code>*(char (*) [50]) 0x804a014</code></td>
<td class="org-left">-</td>
<td class="org-left">Print contents of address 0x804a014 as an array of  50 characters or 50 bytes</td>
</tr>

<tr>
<td class="org-left">print <code>*(int*)  0x804a014)</code></td>
<td class="org-left">-</td>
<td class="org-left">Print content of address 0x804a014 as an integer</td>
</tr>

<tr>
<td class="org-left">print (<code>*(int*)  0x804a014) &amp; 0xFF</code></td>
<td class="org-left">-</td>
<td class="org-left">Print content of address 0x804a014 as byte</td>
</tr>

<tr>
<td class="org-left">print (<code>*(int*)  (0x804a014 + 10)) &amp; 0xFF</code></td>
<td class="org-left">-</td>
<td class="org-left">Print content of address 0x804a014 + 10 as a byte</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Print Registers</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">info registers</td>
<td class="org-left">i reg</td>
<td class="org-left">Show CPU registers and its values</td>
</tr>

<tr>
<td class="org-left">info all-registers</td>
<td class="org-left">i all-reg</td>
<td class="org-left">Show all CPU registers including status flags</td>
</tr>

<tr>
<td class="org-left">info register eax</td>
<td class="org-left">i reg eax</td>
<td class="org-left">Show info. about register eax</td>
</tr>

<tr>
<td class="org-left">info register eip</td>
<td class="org-left">i reg eip</td>
<td class="org-left">Show info. about register eip</td>
</tr>

<tr>
<td class="org-left">print $eax</td>
<td class="org-left">p $eax</td>
<td class="org-left">Print register EAX value numerical value</td>
</tr>

<tr>
<td class="org-left">print $esp</td>
<td class="org-left">p $esp</td>
<td class="org-left">Print register ESP (stack pointer) value</td>
</tr>

<tr>
<td class="org-left">print /d $esp</td>
<td class="org-left">p /d $esp</td>
<td class="org-left">Print register ESP in decimal</td>
</tr>

<tr>
<td class="org-left">print /x $ebp</td>
<td class="org-left">p /x $ebp</td>
<td class="org-left">Print register EBP (base pointer) in hexadecimal</td>
</tr>

<tr>
<td class="org-left">print /t $ebp</td>
<td class="org-left">p /b $ebp</td>
<td class="org-left">Print register EBP in binary</td>
</tr>

<tr>
<td class="org-left">print (int*) ($ebp + 0x08)</td>
<td class="org-left">-</td>
<td class="org-left">Print address EBP + 0x08 casted as a pointer to int (DWORD)</td>
</tr>

<tr>
<td class="org-left">print <code>*((int*) ($ebp + 0x08))</code></td>
<td class="org-left">-</td>
<td class="org-left">Print content or interger value (DWORD) stored at memory address (EBP + 0x08)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Notes: 
</p>

<ul class="org-ul">
<li>The default assembly syntax used by GDB and other GNU tools is <b>AT&amp;T</b>
<b>Assembly</b> Syntax that is ugly and hard to read.</li>

<li>inf. - Abbreviation for information.</li>

<li>TUI - Terminal User interface</li>

<li>$PC - Program Counter or Instruction Pointer
<ul class="org-ul">
<li>For Intel x86 (IA32): Register is <b>EIP</b></li>
<li>For Intel or AMD x86-64 (IA64): Register is <b>RIP</b></li>
</ul></li>

<li>Registers are CPU dependent, so there is no EIP, EBP on programs
compiled for ARM.</li>

<li>Registers EIP, EBP, EAX &#x2026; are for CPU Intel x86 IA32 (32
bits) or for a program compiled in 32 bits legacy mode. On a 64
bits CPU Intel/AMD x86-64, the equivalent registers are EIP, RBP,
RAX &#x2026; and so on.</li>
</ul>

<p>
Format selectors: 
</p>

<div class="org-src-container">
<pre class="src src-text">/x  hexadecimal       /f  float
/o  octal               /a  address
/d  decimal             /i  instruction
/u  unsigned decimal  /c  char
/t  binary              /s  string
</pre>
</div>

<p>
Other Useful Reading: 
</p>

<ul class="org-ul">
<li><a href="http://dbp-consulting.com/tutorials/debugging/basicAsmDebuggingGDB.html">Basic Assembler Debugging with GDB - or you thought you only need to know C/C++</a></li>

<li><a href="https://www.gnu.org/software/gdb/news/reversible.html">GDB and Reverse Deubugging</a></li>

<li><a href="https://secgroup.dais.unive.it/teaching/security-course/gdb/">Program analysis with GDB</a></li>

<li>White Paper: <a href="https://www.exploit-db.com/papers/13205">Using GDB to Develop Exploits - A Basic Run Through</a></li>
</ul>
</div>
</div>

<div id="outline-container-org1b7f9b2" class="outline-4">
<h4 id="org1b7f9b2"><span class="section-number-4">1.2.3</span> Key Bindings for Terminal</h4>
<div class="outline-text-4" id="text-1-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> GDB Terminal shel/REPL/console Keybindings</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Key Bindign</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Crtl + z</td>
<td class="org-left">Suspend GDB process, type fg to resume</td>
</tr>

<tr>
<td class="org-left">Crtl + c</td>
<td class="org-left">Terminate debugged process</td>
</tr>

<tr>
<td class="org-left">Ctrl + l</td>
<td class="org-left">Clear screen</td>
</tr>

<tr>
<td class="org-left">Ctrl + x + a</td>
<td class="org-left">Open a window in the terminal which shows the source code around the current line.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Line Editor</b></td>
<td class="org-left">Note: The liner editor is based on Emacs and Lib. GNUReadline</td>
</tr>

<tr>
<td class="org-left">Ctrl + a</td>
<td class="org-left">Move cursor to beggining of line</td>
</tr>

<tr>
<td class="org-left">Ctrl + e</td>
<td class="org-left">Move cursor to end of line</td>
</tr>

<tr>
<td class="org-left">Ctrl + d</td>
<td class="org-left">Send EOF (End of File char) 0x4 - means end of input</td>
</tr>

<tr>
<td class="org-left">Ctrl + p</td>
<td class="org-left">Previous command from history</td>
</tr>

<tr>
<td class="org-left">Ctrl + n</td>
<td class="org-left">Next command from history</td>
</tr>

<tr>
<td class="org-left">Ctrl + k</td>
<td class="org-left">Delete characters from current cursor location to end of line.</td>
</tr>

<tr>
<td class="org-left">Ctrl + u</td>
<td class="org-left">Delete characters from current cursor location to beggining of line.</td>
</tr>

<tr>
<td class="org-left">Ctrl + x + 2</td>
<td class="org-left">Switch to other window.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org18a5da1" class="outline-4">
<h4 id="org18a5da1"><span class="section-number-4">1.2.4</span> Command Line Options</h4>
<div class="outline-text-4" id="text-1-2-4">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command line example</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">$ gdb &#x2013;help</td>
<td class="org-left">Show help options</td>
</tr>

<tr>
<td class="org-left">$ gdb</td>
<td class="org-left">Start gdb interactive shell</td>
</tr>

<tr>
<td class="org-left">$ gdb &#x2013;tui</td>
<td class="org-left">Start gdb interactive shell with a TUI - Terminal User Interface</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Debug Executable</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$ gdb ./executable</td>
<td class="org-left">Load executable (Unix ELF or PE32 / PE64) on GDB shell.</td>
</tr>

<tr>
<td class="org-left">$ gdb &#x2013;args ./executable arg1 arg2 &#x2026; argN</td>
<td class="org-left">Load executable passing arguments to it.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Debug Running Process</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$ gdb -pid=9478</td>
<td class="org-left">Attach GDB to process of PID (9478)</td>
</tr>

<tr>
<td class="org-left">$ gdb &#x2013;tui &#x2013;pid=9478</td>
<td class="org-left">Attach GDB to process of PID (9478) and use a TUI</td>
</tr>

<tr>
<td class="org-left">$ ps -ef</td>
<td class="org-left">Show all processes and theirs PIDs on Unix-like Oses</td>
</tr>

<tr>
<td class="org-left">$ tasklist</td>
<td class="org-left">Show all processes and theirs PIDs on MS-Windows</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Session automation</b></td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">$ gdb -x script.gdb</td>
<td class="org-left">Run a GDB (command) script containing session commands.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Notes: 
</p>

<ul class="org-ul">
<li>Unix-like: Linux, BSD, QNX, Android, MacOSX, iOS &#x2026;</li>
<li>TUI - Old fashioned Terminal-User Interface.</li>
</ul>

<p>
<b>View Process Input/Output in a different terminal than GDB</b> [Unix only]
</p>

<p>
Note: To run the process input/output in a different terminal window
that the GDB shell is running.
</p>

<ul class="org-ul">
<li>Step 1: Open another terminal for displaying debugged program's
output and get its name with command $ tty.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">$ tty
/dev/pts/3
</pre>
</div>

<ul class="org-ul">
<li>Step 2: Open GDB use the following command to redirect the
program's stdout, stderr and stdin output to the terminal
/dev/pts/3</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; file program.bin 
&gt;&gt;&gt; tty /dev/pts/3
&gt;&gt;&gt; start 
&gt;&gt;&gt; b main 
&gt;&gt;&gt; b 198
&gt;&gt;&gt; c <span class="org-comment-delimiter"># </span><span class="org-comment">Continue until next break point. </span>
&gt;&gt;&gt; c  
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgb1ea9ae" class="outline-3">
<h3 id="orgb1ea9ae"><span class="section-number-3">1.3</span> Example with source code</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org08389ad" class="outline-4">
<h4 id="org08389ad"><span class="section-number-4">1.3.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
This GDB example shows how to: 
</p>

<ul class="org-ul">
<li>Build a C++ program in debug mode.</li>
<li>Monitor the program execution.</li>
<li>Set and delete breakpoints</li>
<li>Set and delete watchpoints for monitoring variable changes</li>
<li>Inspect the call stack</li>
<li>Perform forensic analysis of the process being debugged</li>
<li>Change variables at runtime</li>
<li>Create variables and objects without recompilation</li>
<li>Call functions without at recompilation</li>
</ul>
</div>
</div>

<div id="outline-container-org47b139d" class="outline-4">
<h4 id="org47b139d"><span class="section-number-4">1.3.2</span> File: gdb-test.cpp</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
See also: 
</p>
<ul class="org-ul">
<li><a href="https://www.slideshare.net/linaroorg/connect12-q2-gdb">Debugging with GDB - Linaro</a> [BEST]</li>
<li><a href="https://stackoverflow.com/questions/6835728">How to break when a specific exception type is thrown in GDB?</a></li>
<li><a href="https://ftp.gnu.org/old-gnu/Manuals/gdb/html_node/gdb_28.html">GDB Manual - Setting Breakpoints</a></li>
<li><a href="https://undo.io/resources/gdb-watchpoint/gdb-catchpoints/">GDB Catchpoints</a> - Undo.io</li>
<li><a href="https://reversed.top/2016-05-26/skipping-standard-library-in-gdb/">Skipping standard C++ library during debug session in gdb</a></li>
<li><a href="https://stackoverflow.com/questions/33661179/debug-c-template-with-gdb">debug c++ template with gdb</a></li>
</ul>

<p>
Compilation: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ g++ gdb-test.cpp -o <span class="org-keyword">gdb-test.bin</span> -std=c++1z -ggdb -O0 -Wall -Wextra -pedantic
</pre>
</div>

<p>
File: gdb-test.cpp 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">memory</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">functional</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-keyword">struct</span> <span class="org-type">Functor</span><span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-type">double</span> <span class="org-variable-name">a</span> = 0.0;
  <span class="org-type">double</span> <span class="org-variable-name">b</span> = 0.0;

  <span class="org-function-name">Functor</span><span class="org-rainbow-delimiters-depth-2">(){}</span>;
  <span class="org-function-name">Functor</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span> <span class="org-variable-name">aa</span>, <span class="org-type">double</span> <span class="org-variable-name">bb</span><span class="org-rainbow-delimiters-depth-2">)</span>: a<span class="org-rainbow-delimiters-depth-2">(</span>aa<span class="org-rainbow-delimiters-depth-2">)</span>, b<span class="org-rainbow-delimiters-depth-2">(</span>bb<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-rainbow-delimiters-depth-2">}</span>

  <span class="org-type">double</span> <span class="org-keyword">operator</span><span class="org-function-name"><span class="org-rainbow-delimiters-depth-2">()</span></span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span> <span class="org-variable-name">x</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span>
    <span class="org-keyword">return</span> a * x + b;
  <span class="org-rainbow-delimiters-depth-2">}</span>    
<span class="org-rainbow-delimiters-depth-1">}</span>;


<span class="org-type">int</span> <span class="org-function-name">factorial</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">n</span><span class="org-rainbow-delimiters-depth-1">){</span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>n &lt;= 0<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">return</span> 1;    
    <span class="org-keyword">return</span> n * factorial<span class="org-rainbow-delimiters-depth-2">(</span>n - 1<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>

<span class="org-keyword">struct</span> <span class="org-type">Date</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">int</span> <span class="org-variable-name">year</span>;
    <span class="org-type">int</span> <span class="org-variable-name">month</span>;
    <span class="org-type">int</span> <span class="org-variable-name">day</span>;

    <span class="org-function-name">Date</span><span class="org-rainbow-delimiters-depth-2">(){}</span>
    <span class="org-function-name">Date</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">year</span>, <span class="org-type">int</span> <span class="org-variable-name">month</span>, <span class="org-type">int</span> <span class="org-variable-name">day</span><span class="org-rainbow-delimiters-depth-2">)</span>
        : year<span class="org-rainbow-delimiters-depth-2">(</span>year<span class="org-rainbow-delimiters-depth-2">)</span>
        , month<span class="org-rainbow-delimiters-depth-2">(</span>month<span class="org-rainbow-delimiters-depth-2">)</span>
        , day<span class="org-rainbow-delimiters-depth-2">(</span>day<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Comparison operator required by  EXPECT_EQ</span>
    <span class="org-type">bool</span> <span class="org-keyword">operator</span><span class="org-function-name">==</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">Date</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">rhs</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">return</span> year  == rhs.year
            &amp;&amp; month == rhs.month
            &amp;&amp; day   == rhs.day;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for make class printable in GTest</span>
    <span class="org-keyword">friend</span> <span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-keyword">operator</span><span class="org-function-name">&lt;&lt;</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-variable-name">os</span>, <span class="org-type">Date</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">rhs</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">return</span> os &lt;&lt; <span class="org-string">"Date { "</span> &lt;&lt; rhs.year &lt;&lt; <span class="org-string">" ; "</span>
                  &lt;&lt; rhs.month &lt;&lt; <span class="org-string">" ; "</span>
                  &lt;&lt; rhs.day &lt;&lt; <span class="org-string">" } "</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
<span class="org-rainbow-delimiters-depth-1">}</span>;

<span class="org-type">Date</span>
<span class="org-function-name">GregorianEasterSunday</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">y</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
        <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>y &lt; 1000<span class="org-rainbow-delimiters-depth-2">)</span>
                <span class="org-keyword">throw</span> <span class="org-constant">std</span>::domain_error<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Invalid year"</span><span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-type">int</span> <span class="org-variable-name">c</span> = y / 100;
    <span class="org-type">int</span> <span class="org-variable-name">n</span> = y - 19 * <span class="org-rainbow-delimiters-depth-2">(</span> y / 19 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">k</span> = <span class="org-rainbow-delimiters-depth-2">(</span> c - 17 <span class="org-rainbow-delimiters-depth-2">)</span> / 25;
    <span class="org-type">int</span> <span class="org-variable-name">i</span> = c - c / 4 - <span class="org-rainbow-delimiters-depth-2">(</span> c - k <span class="org-rainbow-delimiters-depth-2">)</span> / 3 + 19 * n + 15;
    i = i - 30 * <span class="org-rainbow-delimiters-depth-2">(</span> i / 30 <span class="org-rainbow-delimiters-depth-2">)</span>;
    i = i - <span class="org-rainbow-delimiters-depth-2">(</span> i / 28 <span class="org-rainbow-delimiters-depth-2">)</span> * <span class="org-rainbow-delimiters-depth-2">(</span> 1 - <span class="org-rainbow-delimiters-depth-3">(</span> i / 28 <span class="org-rainbow-delimiters-depth-3">)</span>
          * <span class="org-rainbow-delimiters-depth-3">(</span> 29 / <span class="org-rainbow-delimiters-depth-4">(</span> i + 1 <span class="org-rainbow-delimiters-depth-4">)</span> <span class="org-rainbow-delimiters-depth-3">)</span>
          * <span class="org-rainbow-delimiters-depth-3">(</span> <span class="org-rainbow-delimiters-depth-4">(</span> 21 - n <span class="org-rainbow-delimiters-depth-4">)</span> / 11 <span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">j</span> = y + y / 4 + i + 2 - c + c / 4;
    j = j - 7 * <span class="org-rainbow-delimiters-depth-2">(</span> j / 7 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">l</span> = i - j;
    <span class="org-type">int</span> <span class="org-variable-name">m</span> = 3 + <span class="org-rainbow-delimiters-depth-2">(</span> l + 40 <span class="org-rainbow-delimiters-depth-2">)</span> / 44;
    <span class="org-type">int</span> <span class="org-variable-name">d</span> = l + 28 - 31 * <span class="org-rainbow-delimiters-depth-2">(</span> m / 4 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">return</span> Date<span class="org-rainbow-delimiters-depth-2">(</span>y, m, d<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>

<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span>** <span class="org-variable-name">argv</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-keyword">auto</span> <span class="org-variable-name">f1</span> = Functor<span class="org-rainbow-delimiters-depth-2">(</span>3, 5<span class="org-rainbow-delimiters-depth-2">)</span>;
  <span class="org-keyword">auto</span> <span class="org-variable-name">f2</span> = Functor<span class="org-rainbow-delimiters-depth-2">(</span>6, 10<span class="org-rainbow-delimiters-depth-2">)</span>;

  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>5.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(7) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>7.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(8) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>8.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(5) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>5.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(7) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>7.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(8) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>8.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"========================================="</span><span class="org-rainbow-delimiters-depth-2">)</span>;

  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2005, 3, 27), GregorianEasterSunday(2005));</span>
  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2008, 3, 23), GregorianEasterSunday(2008));</span>
  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2010, 4, 4),  GregorianEasterSunday(2010));</span>
  <span class="org-type">Date</span> <span class="org-variable-name">dt</span>;

  dt = GregorianEasterSunday<span class="org-rainbow-delimiters-depth-2">(</span>2010<span class="org-rainbow-delimiters-depth-2">)</span>;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" GregorianEasterSunday(2010)  = "</span> &lt;&lt; dt &lt;&lt; <span class="org-constant">std</span>::endl;

  dt = GregorianEasterSunday<span class="org-rainbow-delimiters-depth-2">(</span>2008<span class="org-rainbow-delimiters-depth-2">)</span>;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" GregorianEasterSunday(208)  = "</span> &lt;&lt; dt &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-type">int</span> <span class="org-variable-name">y</span>;
  <span class="org-keyword">while</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-constant">true</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">{</span>   
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; Enter a year: "</span>;
     <span class="org-constant">std</span>::cin &gt;&gt; y;
     <span class="org-keyword">auto</span> <span class="org-variable-name">date</span> = GregorianEasterSunday<span class="org-rainbow-delimiters-depth-3">(</span>y<span class="org-rainbow-delimiters-depth-3">)</span>;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Gregorian Easter Monday is: "</span> &lt;&lt; date &lt;&lt; <span class="org-string">"\n"</span>;
  <span class="org-rainbow-delimiters-depth-2">}</span>


  <span class="org-keyword">return</span> 0;
<span class="org-rainbow-delimiters-depth-1">}</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-orga8ab8ea" class="outline-4">
<h4 id="orga8ab8ea"><span class="section-number-4">1.3.3</span> Debugging with GDB</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
Load executable in GDB session: 
</p>

<ul class="org-ul">
<li>(-q) =&gt; Don't show GDB startup banner.</li>
<li>(&#x2013;nh) and (&#x2013;nx) =&gt; Do not read ~/.gdbinit and local ./.gdbinit</li>
<li>(&#x2013;args) =&gt; Pass arguments arg0 arg1 arg2 to program</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">$ gdb -q --nh --nx --args ./gdb-test.bin arg0 arg1 arg2
</pre>
</div>

<p>
List all info commands: 
</p>
<ul class="org-ul">
<li>$ i</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i
<span class="org-string">"info"</span> must be followed by the name of an info command.
List of info subcommands:

info address -- Describe where symbol SYM is stored
info all-registers -- List of all registers and their contents
info args -- Argument variables of current stack frame
info auto-load -- Print current status of auto-loaded files
info auxv -- Display the inferior<span class="org-string">'s auxiliary vector</span>
<span class="org-string">info bookmarks -- Status of user-settable bookmarks</span>

<span class="org-string"> ... ... ... ... .... </span>
</pre>
</div>

<p>
Show information about current process: 
</p>
<ul class="org-ul">
<li>$ i proc</li>
<li>The current process ID (PID) is 840 (Unique identifier number)</li>
<li>exe =&gt; Executable used to instantiate the process.</li>
<li>cwd =&gt; Process' current directory.</li>
<li>cmdline =&gt; Process command line argument</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i proc
process 840
<span class="org-function-name">warning</span>: target file /proc/840/cmdline contained unexpected null characters
cmdline = <span class="org-string">'/home/archbox/projects/gdb-test.bin'</span>
cwd = <span class="org-string">'/home/archbox/projects'</span>
exe = <span class="org-string">'/home/archbox/projects/gdb-test.bin'</span>
(gdb) 
</pre>
</div>

<p>
Show environment variables of current process: 
</p>
<ul class="org-ul">
<li>$ show env</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) show env
<span class="org-variable-name">GS_LIB</span>=
<span class="org-variable-name">QTINC</span>=/usr/lib64/qt-3.3/include
<span class="org-variable-name">KDE_FULL_SESSION</span>=true
<span class="org-variable-name">LC_ALL</span>=en_US.UTF-8
<span class="org-variable-name">LD_LIBRARY_PATH</span>=:/home/archbox/opt/root/lib:/home/archbox/opt/cling_2018-09-16_fedora27/lib/:/home/archbox/opt/root/lib:/home/archbox/opt/cling_2018-09-16_fedora27/lib/
<span class="org-variable-name">TERMINATOR_UUID</span>=urn:uuid:34feab2a-6587-41dc-9901-b355f3144d59
<span class="org-variable-name">XDG_MENU_PREFIX</span>=kf5-
<span class="org-variable-name">MODULES_RUN_QUARANTINE</span>=LD_LIBRARY_PATH
<span class="org-variable-name">LANG</span>=en_CA.UTF-8
 ... ...  ... ...  ... ...  ... ...  ... ...  ... ... 
 ... ...  ... ...  ... ...  ... ...  ... ...  ... ... 
</pre>
</div>

<p>
List all shared libraries loaded by the current process: 
</p>
<ul class="org-ul">
<li>$ i sharedlib</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i sharedlibrary 
From                To                  Syms Read   Shared Object Library
0x00007ffff7dd6f60  0x00007ffff7df50d0  Yes (*)     /lib64/ld-linux-x86-64.so.2
0x00007ffff7ad0630  0x00007ffff7b867fe  Yes (*)     /lib64/libstdc++.so.6
0x00007ffff76bb9f0  0x00007ffff776deda  Yes (*)     /lib64/libm.so.6
0x00007ffff749aad0  0x00007ffff74ab735  Yes (*)     /lib64/libgcc_s.so.1
0x00007ffff70fb3a0  0x00007ffff7241eaf  Yes (*)     /lib64/libc.so.6
(*): Shared library is missing debugging information.
</pre>
</div>

<p>
Show information about loaded symbols: 
</p>
<ul class="org-ul">
<li>$ i file</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i file

Symbols from <span class="org-string">"/home/archbox/projects/gdb-test.bin"</span>.
Native process:
        Using the running image of child process 24301.
        While running this, GDB does not access memory from...
Local exec file:
        <span class="org-sh-quoted-exec">`/home/archbox/projects/gdb-test.bin', file type elf64-x86-64.</span>
<span class="org-sh-quoted-exec">        Entry point: 0x400b20</span>
<span class="org-sh-quoted-exec">        0x0000000000400238 - 0x0000000000400254 is .interp</span>
<span class="org-sh-quoted-exec">        0x0000000000400254 - 0x0000000000400274 is .note.ABI-tag</span>
<span class="org-sh-quoted-exec">        0x0000000000400274 - 0x0000000000400298 is .note.gnu.build-id</span>
<span class="org-sh-quoted-exec">        0x0000000000400298 - 0x00000000004002d8 is .gnu.hash</span>
<span class="org-sh-quoted-exec">      ... ... ... ... ... ... ... ... ... ... ... </span>
<span class="org-sh-quoted-exec">    ... ... ... ... ... ... ... ... ... ... ... ... ... </span>

<span class="org-sh-quoted-exec">        0x00007ffff74921a0 - 0x00007ffff7493860 is .data in /lib64/libc.so.6</span>
<span class="org-sh-quoted-exec">        0x00007ffff7493860 - 0x00007ffff7497ae0 is .bss in /lib64/libc.so.6</span>
</pre>
</div>

<p>
Look for all function symbols matching the name <span class="underline">factorial</span>:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i <span class="org-keyword">function</span> <span class="org-function-name">factorial</span>
All functions matching regular expression <span class="org-string">"factorial"</span>:

File gdb-test.cpp:
int factorial(int);
static void _GLOBAL__sub_I__Z9factoriali();
</pre>
</div>

<p>
Look for all variables symbols matching the name environ:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i variable environ
All variables matching regular expression <span class="org-string">"environ"</span>:

Non-debugging symbols:
0x00007ffff7ffe0c8  __environ
0x00007ffff7ffe0c8  _environ
0x00007ffff7ffe0c8  environ
0x00007ffff7493d58  last_environ
0x00007ffff7495080  __environ
0x00007ffff7495080  _environ
0x00007ffff7495080  environ
</pre>
</div>


<p>
Show all available sources: 
</p>
<ul class="org-ul">
<li>$ i source</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i sources
Source files for which symbols have been read<span class="org-keyword"> in</span>:

/home/archbox/projects/gdb-test.cpp, /usr/include/c++/8/iostream, /usr/include/c++/8/cwchar, 
/usr/include/c++/8/new, /usr/include/c++/8/bits/exception_ptr.h, /usr/include/c++/8/type_traits, 
/usr/include/c++/8/x86_64-redhat-linux/bits/c++config.h, /usr/include/c++/8/bits/stl_pair.h, 

... ... ... ... ... ... ... ... ... ... ... ... ... ... 
</pre>
</div>

<p>
Disassembly function factorial (1)
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) disas factorial
Dump of assembler code for <span class="org-keyword">function</span> <span class="org-function-name">factorial</span>(int):
   0x0000000000400c06 &lt;+0&gt;:     push   %rbp
   0x0000000000400c07 &lt;+1&gt;:     mov    %rsp,%rbp
   0x0000000000400c0a &lt;+4&gt;:     sub    $<span class="org-variable-name">0</span>x10,%rsp
   0x0000000000400c0e &lt;+8&gt;:     mov    %edi,-0x4(%rbp)
   0x0000000000400c11 &lt;+11&gt;:    cmpl   $<span class="org-variable-name">0</span>x0,-0x4(%rbp)
... ... ... ... ... ... ... ... ... ... ... ... 
   0x0000000000400c24 &lt;+30&gt;:    mov    %eax,%edi
   0x0000000000400c26 &lt;+32&gt;:    callq  0x400c06 &lt;factorial(int)&gt;
   0x0000000000400c2b &lt;+37&gt;:    imul   -0x4(%rbp),%eax
   0x0000000000400c2f &lt;+41&gt;:    leaveq 
   0x0000000000400c30 &lt;+42&gt;:    retq   
End of assembler dump.
</pre>
</div>

<p>
Disassembly function factorial  (2)
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) disas /m factorial
Dump of assembler code for <span class="org-keyword">function</span> <span class="org-function-name">factorial</span>(int):
20      int factorial(int n){
   0x0000000000400c06 &lt;+0&gt;:     push   %rbp
   0x0000000000400c07 &lt;+1&gt;:     mov    %rsp,%rbp
   0x0000000000400c0a &lt;+4&gt;:     sub    $<span class="org-variable-name">0</span>x10,%rsp
   0x0000000000400c0e &lt;+8&gt;:     mov    %edi,-0x4(%rbp)

21          if(n &lt;= 0) <span class="org-keyword">return</span> 1;        
   0x0000000000400c11 &lt;+11&gt;:    cmpl   $<span class="org-variable-name">0</span>x0,-0x4(%rbp)
   0x0000000000400c15 &lt;+15&gt;:    jg     0x400c1e &lt;factorial(int)+24&gt;
   0x0000000000400c17 &lt;+17&gt;:    mov    $<span class="org-variable-name">0</span>x1,%eax
   0x0000000000400c1c &lt;+22&gt;:    jmp    0x400c2f &lt;factorial(int)+41&gt;

22          return n * factorial(n - 1);
   0x0000000000400c1e &lt;+24&gt;:    mov    -0x4(%rbp),%eax
   0x0000000000400c21 &lt;+27&gt;:    sub    $<span class="org-variable-name">0</span>x1,%eax
   0x0000000000400c24 &lt;+30&gt;:    mov    %eax,%edi
   0x0000000000400c26 &lt;+32&gt;:    callq  0x400c06 &lt;factorial(int)&gt;
   0x0000000000400c2b &lt;+37&gt;:    imul   -0x4(%rbp),%eax

23      }
   0x0000000000400c2f &lt;+41&gt;:    leaveq 
   0x0000000000400c30 &lt;+42&gt;:    retq   

---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
End of assembler dump.

</pre>
</div>

<p>
Disassembly function factorial with Intel syntaxe (3)
</p>

<div class="org-src-container">
<pre class="src src-asm">(gdb) <span class="org-keyword">set</span> disassembly-flavor intel  

(gdb) <span class="org-keyword">disas</span> /m factorial
<span class="org-function-name">Dump</span> <span class="org-keyword">of</span> assembler code for function factorial(int):
<span class="org-function-name">20</span>      <span class="org-keyword">int</span> factorial(int n){
   <span class="org-keyword">0x0000000000400c06</span> &lt;+0&gt;:     push   rbp
   <span class="org-keyword">0x0000000000400c07</span> &lt;+1&gt;:     mov    rbp,rsp
   <span class="org-keyword">0x0000000000400c0a</span> &lt;+4&gt;:     sub    rsp,0x10
   <span class="org-keyword">0x0000000000400c0e</span> &lt;+8&gt;:     mov    DWORD PTR [rbp-0x4],edi

<span class="org-function-name">21</span>          <span class="org-keyword">if</span>(n &lt;= 0) return 1<span class="org-comment-delimiter">;        </span>
   <span class="org-keyword">0x0000000000400c11</span> &lt;+11&gt;:    cmp    DWORD PTR [rbp-0x4],0x0
   <span class="org-keyword">0x0000000000400c15</span> &lt;+15&gt;:    jg     0x400c1e &lt;factorial(int)+24&gt;
   <span class="org-keyword">0x0000000000400c17</span> &lt;+17&gt;:    mov    eax,0x1
   <span class="org-keyword">0x0000000000400c1c</span> &lt;+22&gt;:    jmp    0x400c2f &lt;factorial(int)+41&gt;

<span class="org-function-name">22</span>          <span class="org-keyword">return</span> n * factorial(n - 1)<span class="org-comment-delimiter">;</span>
   <span class="org-keyword">0x0000000000400c1e</span> &lt;+24&gt;:    mov    eax,DWORD PTR [rbp-0x4]
   <span class="org-keyword">0x0000000000400c21</span> &lt;+27&gt;:    sub    eax,0x1
   <span class="org-keyword">0x0000000000400c24</span> &lt;+30&gt;:    mov    edi,eax
   <span class="org-keyword">0x0000000000400c26</span> &lt;+32&gt;:    call   0x400c06 &lt;factorial(int)&gt;
   <span class="org-keyword">0x0000000000400c2b</span> &lt;+37&gt;:    imul   eax,DWORD PTR [rbp-0x4]

<span class="org-function-name">23</span>      }
   <span class="org-keyword">0x0000000000400c2f</span> &lt;+41&gt;:    leave  
   <span class="org-keyword">0x0000000000400c30</span> &lt;+42&gt;:    ret    

<span class="org-function-name">---Type</span> &lt;return&gt; to continue, or q &lt;return&gt; to quit---
<span class="org-function-name">End</span> <span class="org-keyword">of</span> assembler dump.
</pre>
</div>

<p>
Run program without any breaking points: 
</p>
<ul class="org-ul">
<li>(r) or (run)</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">(gdb) r
Starting program: /home/archbox/projects/gdb-test.bin arg0 arg1 arg2

f1(5) = 20
f1(7) = 26
f1(8) = 29
f2(5) = 40
f2(7) = 52
f2(8) = 58
=========================================
 GregorianEasterSunday(2010)  = Date { 2010 ; 4 ; 4 } 
 GregorianEasterSunday(208)  = Date { 2008 ; 3 ; 23 } 
 =&gt; Enter a year: 2010
 Gregorian Easter Monday is: Date { 2010 ; 4 ; 4 } 
 =&gt; Enter a year: 2014
 Gregorian Easter Monday is: Date { 2014 ; 4 ; 20 } 
 =&gt; Enter a year: 2015
 Gregorian Easter Monday is: Date { 2015 ; 4 ; 5 } 
 =&gt; Enter a year: 0
terminate called after throwing an instance of 'std::domain_error'
  what():  Invalid year
</pre>
</div>

<p>
Show <span class="underline">backtrace</span> - call stack until exception. 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) bt
<span class="org-comment-delimiter">#</span><span class="org-comment">0  0x00007ffff7110efb in raise () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x00007ffff70fb5b9 in abort () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">2  0x00007ffff7ad0b3b in __gnu_cxx::__verbose_terminate_handler() [clone .cold.1] ()</span>
   from /lib64/libstdc++.so.6
<span class="org-comment-delimiter">#</span><span class="org-comment">3  0x00007ffff7ad6fac in __cxxabiv1::__terminate(void (*)()) () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">4  0x00007ffff7ad7007 in std::terminate() () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">5  0x00007ffff7ad7268 in __cxa_throw () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">6  0x0000000000400c74 in GregorianEasterSunday (y=0) at gdb-test.cpp:58</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">7  0x0000000000401134 in main (argc=4, argv=0x7fffffffc668) at gdb-test.cpp:106</span>
(gdb) 
</pre>
</div>

<p>
Clear screen: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) <span class="org-negation-char">!</span> clear
</pre>
</div>

<p>
Set breakpoint at function main: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> b <span class="org-type">main</span>
<span class="org-variable-name">Breakpoint</span> 1 at 0x400ecc: file gdb-test.cpp, <span class="org-variable-name">line</span> 78.
</pre>
</div>

<p>
Set breakpoint at line 80 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> b 80
Breakpoint 3 at 0x400f04: file gdb-test.cpp, line 80.
</pre>
</div>

<p>
Set breakpoint at line 102 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> b 102
Breakpoint 4 at 0x40110a: file gdb-test.cpp, line 102.
</pre>
</div>

<p>
Set breakpoint at line 88 of file gdb-test.cpp 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">b</span> <span class="org-variable-name">gdb</span>-test.cpp:88
Breakpoint 5 at 0x401066: file gdb-test.cpp, <span class="org-variable-name">line</span> 88.
</pre>
</div>

<p>
List breakpoints: 
</p>
<ul class="org-ul">
<li>$ i b</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i b
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000400ecc<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:78
        breakpoint already hit 1 time
2       breakpoint     keep y   0x0000000000400ecc<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:78
        breakpoint already hit 1 time
3       breakpoint     keep y   0x0000000000400f04<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:80
4       breakpoint     keep y   0x000000000040110a<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:102
5       breakpoint     keep y   0x0000000000401066<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:88
</pre>
</div>

<p>
Run program again: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r arg0 arg1 arg2 arg3

The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /home/archbox/projects/gdb-test.bin arg0 arg1 arg2 arg3

Breakpoint 1, main (<span class="org-variable-name">argc</span>=5, <span class="org-variable-name">argv</span>=0x7fffffffc658) at gdb-test.cpp:78
78        auto f1 = Functor(3, 5);
</pre>
</div>

<p>
Show current location: 
</p>
<ul class="org-ul">
<li>$ where</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) where
<span class="org-comment-delimiter">#</span><span class="org-comment">0  main (argc=5, argv=0x7fffffffc658) at gdb-test.cpp:78</span>
</pre>
</div>

<p>
Display information about current stack frame: 
</p>
<ul class="org-ul">
<li>$ i frame</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i frame
Stack level 0, frame at 0x7fffffffc580:
 rip = 0x400ecc<span class="org-keyword"> in</span> main (gdb-test.cpp:78); saved rip = 0x7ffff70fd11b
 <span class="org-builtin">source</span> language c++.
 Arglist at 0x7fffffffc570, args: <span class="org-variable-name">argc</span>=5, <span class="org-variable-name">argv</span>=0x7fffffffc658
 Locals at 0x7fffffffc570, Previous frame<span class="org-string">'s sp is 0x7fffffffc580</span>
<span class="org-string"> Saved registers:</span>
<span class="org-string">  rbx at 0x7fffffffc568, rbp at 0x7fffffffc570, rip at 0x7fffffffc578</span>
</pre>
</div>

<p>
Display arguments of current function: 
</p>
<ul class="org-ul">
<li>$ i args</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i args
argc = 5
argv = 0x7fffffffc658

(gdb) p argv[0]
$<span class="org-variable-name">1</span> = 0x7fffffffcb0d <span class="org-string">"/home/archbox/projects/gdb-test.bin"</span>

(gdb) p argv[1]
$<span class="org-variable-name">2</span> = 0x7fffffffcb31 <span class="org-string">"arg0"</span>

(gdb) p argv[2]
$<span class="org-variable-name">3</span> = 0x7fffffffcb36 <span class="org-string">"arg1"</span>

(gdb) p argv[3]
$<span class="org-variable-name">4</span> = 0x7fffffffcb3b <span class="org-string">"arg2"</span>

(gdb) p argv[4]
$<span class="org-variable-name">5</span> = 0x7fffffffcb40 <span class="org-string">"arg3"</span>
</pre>
</div>

<p>
Display local variables (stack-allocated):
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i locals
f1 = {a = 2.0746567448655621e-317, b = 2.0736686135738796e-317}
f2 = {a = 6.9533490676080666e-310, b = 0}
dt = {year = 0, month = 4199221, day = 0}
y = 2
</pre>
</div>

<p>
Display CPU register for the current process (context): 
</p>
<ul class="org-ul">
<li>$ i reg</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i reg
rax            0x400ebc 4198076
rbx            0x0      0
rcx            0xa0     160
rdx            0x7fffffffc688   140737488340616
rsi            0x7fffffffc658   140737488340568
rdi            0x5      5
rbp            0x7fffffffc570   0x7fffffffc570
rsp            0x7fffffffc510   0x7fffffffc510
r8             0x7ffff7493d80   140737342160256
r9             0x0      0
r10            0xfffffffffffff70d       -2291
r11            0x7ffff7113a60   140737338489440
r12            0x400b20 4197152
r13            0x7fffffffc650   140737488340560
r14            0x0      0
r15            0x0      0
rip            0x400ecc 0x400ecc &lt;main(int, char**)+16&gt;
eflags         0x202    [ IF ]
cs             0x33     51
ss             0x2b     43
ds             0x0      0
es             0x0      0
fs             0x0      0
gs             0x0      0
</pre>
</div>

<p>
Single <span class="underline">step over</span> without descending into function: 
</p>
<ul class="org-ul">
<li>$ n</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
79        auto f2 = Functor(6, 10);
(gdb) n

Breakpoint 3, main (<span class="org-variable-name">argc</span>=5, <span class="org-variable-name">argv</span>=0x7fffffffc658) at gdb-test.cpp:81
81        std::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1(5.0) &lt;&lt; std::endl;
<span class="org-sh-heredoc">(gdb) </span>
<span class="org-sh-heredoc">f1(5) = 20</span>
<span class="org-sh-heredoc">82        std::cout &lt;&lt; "f1(7) = " &lt;&lt; f1(7.0) &lt;&lt; std::endl;</span>
<span class="org-sh-heredoc">(gdb) </span>
</pre>
</div>

<p>
Continue execution until next breakpoint: 
</p>
<ul class="org-ul">
<li>$ c or $ cont</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.
<span class="org-function-name">f1</span>(7) = 26
<span class="org-function-name">f1</span>(8) = 29
<span class="org-function-name">f2</span>(5) = 40
<span class="org-function-name">f2</span>(7) = 52
<span class="org-function-name">f2</span>(8) = 58

Breakpoint 5, main (<span class="org-variable-name">argc</span>=5, <span class="org-variable-name">argv</span>=0x7fffffffc658) at gdb-test.cpp:89
89        std::puts(<span class="org-string">"========================================="</span>);
(gdb) 
</pre>
</div>

<p>
Check current location: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) where
<span class="org-comment-delimiter">#</span><span class="org-comment">0  main (argc=5, argv=0x7fffffffc658) at gdb-test.cpp:89</span>
</pre>
</div>

<p>
Show local variables: 
</p>

<div class="org-src-container">
<pre class="src src-text">(gdb) i locals

f1 = {a = 3, b = 5}
f2 = {a = 6, b = 10}
dt = {year = 0, month = 4199221, day = 0}
y = 2
</pre>
</div>

<p>
Watch changes of variable <b>dt</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) watch dt
Hardware watchpoint 6: dt
</pre>
</div>

<p>
List all watchpoints: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i watchpoints
Num     Type           Disp Enb Address            What
6       hw watchpoint  keep y                      dt
        breakpoint already hit 4 times
(gdb) 
</pre>
</div>

<p>
Keep executing with <span class="underline">step over</span> (n):
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
 GregorianEasterSunday(2010)  = Date { 2010 ; 4 ; 4 } 
99        dt = GregorianEasterSunday(2008);
(gdb) n

Hardware watchpoint 6: dt

Old value = {year = 2010, month = 4, day = 4}
New value = {year = 2008, month = 3, day = 4}
0x00000000004010d1<span class="org-keyword"> in</span> main (<span class="org-variable-name">argc</span>=6, <span class="org-variable-name">argv</span>=0x7fffffffc648) at gdb-test.cpp:99
99        dt = GregorianEasterSunday(2008);
(gdb) n

Hardware watchpoint 6: dt

Old value = {year = 2008, month = 3, day = 4}
New value = {year = 2008, month = 3, day = 23}
<span class="org-function-name">main</span> (<span class="org-variable-name">argc</span>=6, <span class="org-variable-name">argv</span>=0x7fffffffc648) at gdb-test.cpp:100
100       std::cout &lt;&lt; <span class="org-string">" GregorianEasterSunday(208)  = "</span> &lt;&lt; dt &lt;&lt; std::endl;
<span class="org-sh-heredoc">(gdb) n</span>
<span class="org-sh-heredoc"> GregorianEasterSunday(208)  = Date { 2008 ; 3 ; 23 } </span>

<span class="org-sh-heredoc">Breakpoint 4, main (argc=6, argv=0x7fffffffc648) at gdb-test.cpp:104</span>
<span class="org-sh-heredoc">104               std::cout &lt;&lt; " =&gt; Enter a year: ";</span>
<span class="org-sh-heredoc">(gdb) </span>
</pre>
</div>

<p>
Rusume execution until next breakpoint: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.
 =&gt; Enter a year: 2010
 Gregorian Easter Monday is: Date { 2010 ; 4 ; 4 } 

Breakpoint 4, main (<span class="org-variable-name">argc</span>=6, <span class="org-variable-name">argv</span>=0x7fffffffc648) at gdb-test.cpp:104
104               std::cout &lt;&lt; <span class="org-string">" =&gt; Enter a year: "</span>;
<span class="org-sh-heredoc">(gdb) c</span>
<span class="org-sh-heredoc">Continuing.</span>
<span class="org-sh-heredoc"> =&gt; Enter a year: 2012</span>
<span class="org-sh-heredoc"> Gregorian Easter Monday is: Date { 2012 ; 4 ; 8 } </span>

<span class="org-sh-heredoc">Breakpoint 4, main (argc=6, argv=0x7fffffffc648) at gdb-test.cpp:104</span>
<span class="org-sh-heredoc">104               std::cout &lt;&lt; " =&gt; Enter a year: ";</span>
<span class="org-sh-heredoc">(gdb) c</span>
<span class="org-sh-heredoc">Continuing.</span>
<span class="org-sh-heredoc"> =&gt; Enter a year: 234</span>
<span class="org-sh-heredoc">terminate called after throwing an instance of 'std::domain_error'</span>
<span class="org-sh-heredoc">  what():  Invalid year</span>

<span class="org-sh-heredoc">Program received signal SIGABRT, Aborted.</span>
<span class="org-sh-heredoc">0x00007ffff7110efb in raise () from /lib64/libc.so.6</span>
<span class="org-sh-heredoc">(gdb) </span>
</pre>
</div>

<p>
Show backtrace: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) bt
<span class="org-comment-delimiter">#</span><span class="org-comment">0  0x00007ffff7110efb in raise () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x00007ffff70fb5b9 in abort () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">2  0x00007ffff7ad0b3b in __gnu_cxx::__verbose_terminate_handler() [clone .cold.1] ()</span>
   from /lib64/libstdc++.so.6
<span class="org-comment-delimiter">#</span><span class="org-comment">3  0x00007ffff7ad6fac in __cxxabiv1::__terminate(void (*)()) () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">4  0x00007ffff7ad7007 in std::terminate() () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">5  0x00007ffff7ad7268 in __cxa_throw () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">6  0x0000000000400c74 in GregorianEasterSunday (y=234) at gdb-test.cpp:58</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">7  0x0000000000401134 in main (argc=6, argv=0x7fffffffc648) at gdb-test.cpp:106</span>
</pre>
</div>

<p>
Delete all breakpoints and set them again: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) delete 1 2 3 4 5 6 

(gdb) b main
Breakpoint 7 at 0x400ecc: file gdb-test.cpp, line 78.

(gdb) b GregorianEasterSunday 
Breakpoint 8 at 0x400c3f: file gdb-test.cpp, line 57.


(gdb) i b
Num     Type           Disp Enb Address            What
7       breakpoint     keep y   0x0000000000400ecc<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:78
8       breakpoint     keep y   0x0000000000400c3f<span class="org-keyword"> in</span> GregorianEasterSunday(int) at gdb-test.cpp:57
</pre>
</div>

<p>
Restart program: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r 
Breakpoint 7, main (<span class="org-variable-name">argc</span>=6, <span class="org-variable-name">argv</span>=0x7fffffffc648) at gdb-test.cpp:78
78        auto f1 = Functor(3, 5);
</pre>
</div>

<p>
Print local variables <span class="underline">f1</span> and <span class="underline">f2</span>: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) p f1
$<span class="org-variable-name">6</span> = {a = 3, b = 5}

(gdb) p f2
$<span class="org-variable-name">7</span> = {a = 6, b = 10}
</pre>
</div>

<p>
Print type of variable <span class="underline">f1</span> and <span class="underline">dt</span>: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) ptype f1
<span class="org-builtin">type</span> = struct Functor {
    double a;
    double b;
  public:
    Functor(void);
    Functor(double, double);
    double operator()(double) const;
}

(gdb) ptype dt
<span class="org-builtin">type</span> = struct Date {
    int year;
    int month;
    int day;
  public:
    Date(void);
    Date(int, int, int);
    bool <span class="org-variable-name">operator</span>==(const Date &amp;) const;
}
</pre>
</div>

<p>
Call functor:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) p f1
$<span class="org-variable-name">22</span> = {a = 3, b = 5}

(gdb) call f1(10)
Invalid data type for <span class="org-keyword">function</span> <span class="org-function-name">to</span> be called.

(gdb) call f1.operator()(10)
$<span class="org-variable-name">20</span> = 35

(gdb) call f1.operator()(2.56)
$<span class="org-variable-name">21</span> = 12.68

(gdb) call f1.operator()(10)
$<span class="org-variable-name">23</span> = 95.97999999999999

(gdb) call f1.operator()(5)
$<span class="org-variable-name">24</span> = 43.364999999999995
(gdb) 

</pre>
</div>

<p>
Call function factorial(): 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) call factorial(4)
$<span class="org-variable-name">8</span> = 24

(gdb) call factorial(6)
$<span class="org-variable-name">9</span> = 720

(gdb) call factorial(10)
$<span class="org-variable-name">10</span> = 3628800
</pre>
</div>

<p>
Disable breakpoint of function GregorianEasterSunday():
</p>

<div class="org-src-container">
<pre class="src src-sh"> (gdb) i b
 Num     Type           Disp Enb Address            What
 7       breakpoint     keep y   0x0000000000400ecc<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:78
         breakpoint already hit 1 time
 8       breakpoint     keep y   0x0000000000400c3f<span class="org-keyword"> in</span> GregorianEasterSunday(int) at gdb-test.cpp:57
         breakpoint already hit 1 time

(gdb) disable 8
</pre>
</div>

<p>
Call function GregorianEasterSunday():
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) call GregorianEasterSunday(2010)
$<span class="org-variable-name">11</span> = {year = 2010, month = 4, day = 4}

(gdb) call GregorianEasterSunday(1995)
$<span class="org-variable-name">12</span> = {year = 1995, month = 4, day = 16}
</pre>
</div>

<p>
Create object (variable): 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) <span class="org-builtin">set</span> $<span class="org-variable-name">date_object</span> = GregorianEasterSunday(1998)

(gdb) p $<span class="org-variable-name">date_object</span>
$<span class="org-variable-name">13</span> = {year = 1998, month = 4, day = 12}
(gdb) p $<span class="org-variable-name">date_object</span>.year
$<span class="org-variable-name">14</span> = 1998

(gdb) p $<span class="org-variable-name">date_object</span>.month
$<span class="org-variable-name">15</span> = 4

(gdb) p $<span class="org-variable-name">date_object</span>.day
$<span class="org-variable-name">16</span> = 12
</pre>
</div>

<p>
Enable GregorianEasterSunday() breakpoint again: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) <span class="org-builtin">enable</span> 8
</pre>
</div>

<p>
Continue execution until next breakpoint: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.
<span class="org-function-name">f1</span>(5) = 43.365
<span class="org-function-name">f1</span>(7) = 64.411
<span class="org-function-name">f1</span>(8) = 74.934
<span class="org-function-name">f2</span>(5) = 40
<span class="org-function-name">f2</span>(7) = 52
<span class="org-function-name">f2</span>(8) = 58
=========================================

Breakpoint 8, GregorianEasterSunday (<span class="org-variable-name">y</span>=2010) at gdb-test.cpp:57
57              if(y &lt; 1000)
(gdb) 
</pre>
</div>

<p>
Check current stack frame: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) where
<span class="org-comment-delimiter">#</span><span class="org-comment">0  GregorianEasterSunday (y=2010) at gdb-test.cpp:57</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x0000000000401086 in main (argc=6, argv=0x7fffffffc648) at gdb-test.cpp:96</span>

(gdb) list
52      };
53      
54      Date
55      GregorianEasterSunday(int y)
56      {
57              if(y &lt; 1000)
58                      throw std::domain_error(<span class="org-string">"Invalid year"</span>);
59              
60          int c = y / 100;
61          int n = y - 19 * ( y / 19 );
(gdb) 
</pre>
</div>

<p>
Check current stack frame: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i frame

Stack level 0, frame at 0x7fffffffc500:
 rip = 0x400c3f<span class="org-keyword"> in</span> GregorianEasterSunday (gdb-test.cpp:57); saved rip = 0x401086
 called by frame at 0x7fffffffc570
 <span class="org-builtin">source</span> language c++.
 Arglist at 0x7fffffffc4f0, args: <span class="org-variable-name">y</span>=2010
 Locals at 0x7fffffffc4f0, Previous frame<span class="org-string">'s sp is 0x7fffffffc500</span>
<span class="org-string"> Saved registers:</span>
<span class="org-string">  rbx at 0x7fffffffc4e0, rbp at 0x7fffffffc4f0, r12 at 0x7fffffffc4e8, rip at 0x7fffffffc4f8</span>
</pre>
</div>

<p>
Check function arguments and local variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i args
y = 2010

(gdb) i locals
c = 0
n = 6299840
k = 0
i = 4197152
j = 32767
l = -149635822
m = 0
d = 4199368
(gdb) 
</pre>
</div>

<p>
Watch local variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) watch i
Hardware watchpoint 16: i

(gdb) watch j
Hardware watchpoint 17: j
(gdb) 
</pre>
</div>

<p>
Continue execution step-by-step: 
</p>

<pre class="example">
(gdb) n
60	    int c = y / 100;
(gdb) 
61	    int n = y - 19 * ( y / 19 );
(gdb) 
62	    int k = ( c - 17 ) / 25;
(gdb) 
63	    int i = c - c / 4 - ( c - k ) / 3 + 19 * n + 15;
(gdb) 

Hardware watchpoint 16: i

Old value = 4197152
New value = 309
GregorianEasterSunday (y=2010) at gdb-test.cpp:64
64	    i = i - 30 * ( i / 30 );
(gdb) 

... ... ... ... ... ... ... 
</pre>

<p>
Show local variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i locals
c = 20
n = 15
k = 0
i = 9
j = 2
l = 7
m = 4
d = 4
</pre>
</div>

<p>
Set a <span class="underline">throw</span> catchpoint that will pause the program when an exception
is thrown: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) catch throw
Catchpoint 18 (throw)

(gdb) i b
Num     Type           Disp Enb Address            What
7       breakpoint     keep y   0x0000000000400ecc<span class="org-keyword"> in</span> main(int, char**) at gdb-test.cpp:78
        breakpoint already hit 1 time
8       breakpoint     keep y   0x0000000000400c3f<span class="org-keyword"> in</span> GregorianEasterSunday(int) at gdb-test.cpp:57
        breakpoint already hit 1 time
16      hw watchpoint  keep y                      i
        breakpoint already hit 2 times
17      hw watchpoint  keep y                      j
        breakpoint already hit 2 times
18      breakpoint     keep y   0x00007ffff7ad7231 exception throw

(gdb) delete 7 8 16 17

(gdb) b main
Breakpoint 19 at 0x400ecc: file gdb-test.cpp, line 78.
</pre>
</div>

<p>
Restart program: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Breakpoint 19, main (<span class="org-variable-name">argc</span>=6, <span class="org-variable-name">argv</span>=0x7fffffffc648) at gdb-test.cpp:78
78        auto f1 = Functor(3, 5);
</pre>
</div>

<p>
Jump to line 101: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) jump 101
Continuing at 0x40110a.
 =&gt; Enter a year: 2010
 Gregorian Easter Monday is: Date { 2010 ; 4 ; 4 } 
 =&gt; Enter a year: 1995
 Gregorian Easter Monday is: Date { 1995 ; 4 ; 16 } 
 =&gt; Enter a year: 253

Catchpoint 18 (exception thrown), 0x00007ffff7ad7231<span class="org-keyword"> in</span> __cxa_throw () from /lib64/libstdc++.so.6
(gdb) 

(gdb) bt
<span class="org-comment-delimiter">#</span><span class="org-comment">0  0x00007ffff7ad7231 in __cxa_throw () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x0000000000400c74 in GregorianEasterSunday (y=253) at gdb-test.cpp:58</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">2  0x0000000000401134 in main (argc=6, argv=0x7fffffffc648) at gdb-test.cpp:106</span>

</pre>
</div>
</div>
</div>
</div>





<div id="outline-container-org37dd647" class="outline-3">
<h3 id="org37dd647"><span class="section-number-3">1.4</span> Example and workflow</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Compile program with Debug Symbols:
</p>

<p>
Note: To use the debugger, it is necessary to compile the program with
appropriate compiler option to build with <span class="underline">debug symbols</span>. In GCC and
Clang, this flag is (-g).
</p>

<div class="org-src-container">
<pre class="src src-sh">$ clang++ line-editor.cpp -o <span class="org-keyword">line-editor.bin</span> -g -std=c++1z -Wall -Wextra 
</pre>
</div>

<p>
<b>Open GDB:</b>
</p>

<p>
Run GDB shell. 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ gdb 
</pre>
</div>

<p>
Run GDB attached it to an executable: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ gdb PROGRAM.BIN 
</pre>
</div>

<p>
Run GDB attaching it to a running process: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">7081 is the process ID (PID) of the program to be debugged.</span>
$ gdp -pid 7081
</pre>
</div>


<p>
<b>Show help</b>
</p>

<ul class="org-ul">
<li>&gt;&gt;&gt; help</li>
<li>&gt;&gt;&gt; h</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; h
List of classes of commands:

aliases -- Aliases of other commands
breakpoints -- Making program stop at certain points
data -- Examining data
files -- Specifying and examining files
internals -- Maintenance commands
obscure -- Obscure features
running -- Running the program
stack -- Examining the stack
status -- Status inquiries
support -- Support facilities
tracepoints -- Tracing of program execution without stopping the program
user-defined -- User-defined commands

Type <span class="org-string">"help"</span> followed by a class name for a list of commands<span class="org-keyword"> in</span> that class.
Type <span class="org-string">"help all"</span> for the list of all commands.
Type <span class="org-string">"help"</span> followed by command name for full documentation.
Type <span class="org-string">"apropos word"</span> to search for commands related to <span class="org-string">"word"</span>.
Command name abbreviations are allowed if unambiguous.
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Load an executable inside GDB shell</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; file program.bin 
</pre>
</div>

<p>
<b>Attach to running process</b>
</p>

<p>
Attach GDB to a running process (inside GDB shell): 
</p>

<ul class="org-ul">
<li>attach &lt;PID&gt;</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; attach 18071
</pre>
</div>

<p>
<b>Detach GDB from current process</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; detach 
</pre>
</div>

<p>
<b>Show path to executable and PID of debugged process</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; i inferior
  Num  Description       Executable        
* 1    process 7343      /home/archbox/root-scripts/line-editor.bin 
</pre>
</div>

<p>
<b>Show current location</b>
</p>

<p>
Command <span class="underline">where</span> - show the current location: 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; where
<span class="org-comment-delimiter">#</span><span class="org-comment">0  0x00007f701345de21 in read () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x00007f70133ef6e0 in __GI__IO_file_underflow () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">2  0x00007f70133f07e2 in __GI__IO_default_uflow () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">3  0x00007f7013dceb11 in __gnu_cxx::stdio_sync_filebuf&lt;char, std::char_traits&lt;char&gt; &gt;::uflow() () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">4  0x00007f7013ddd61e in std::istream::get() () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">5  0x000000000040257d in main () at line-editor.cpp:182</span>
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Set break points:</b>
</p>

<ul class="org-ul">
<li>break &lt;LINE&gt;</li>
<li>break &lt;FILE&gt;:&lt;LINE&gt;</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; break 200 

&gt;&gt;&gt; break line-editor.cpp:183
Breakpoint 3 at 0x402593: file line-editor.cpp, line 183.

&gt;&gt;&gt; break line-editor.cpp:249
Breakpoint 1 at 0x402b92: file line-editor.cpp, line 249.
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Show breakpoints:</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; info breakpoints
No breakpoints or watchpoints.

&gt;&gt;&gt; info breakpoints
Num     Type           Disp Enb Address            What
1       breakpoint     keep y   0x0000000000402b92<span class="org-keyword"> in</span> main() at line-editor.cpp:249
2       breakpoint     keep y   0x0000000000402b92<span class="org-keyword"> in</span> main() at line-editor.cpp:249
&gt;&gt;&gt; 
</pre>
</div>

<p>
Continue until the program execution until the next breakpoint: 
</p>

<ul class="org-ul">
<li>cont</li>
<li>continue</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; continue 
&gt;&gt;&gt; cont 
</pre>
</div>

<p>
<b>Inspect Stack Variables</b>
</p>

<p>
At some breakpoint, it is possible to inspect local variables with the
command print:
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; print key
$<span class="org-variable-name">5</span> = 104 <span class="org-string">'h'</span>

&gt;&gt;&gt; print line_buffer
$<span class="org-variable-name">6</span> = <span class="org-string">""</span>

&gt;&gt;&gt; print linePos
$<span class="org-variable-name">7</span> = 0
&gt;&gt;&gt; 

&gt;&gt;&gt; p line_buffer.size()
$<span class="org-variable-name">7</span> = 12
&gt;&gt;&gt; 
</pre>
</div>

<p>
Print variable in binary format: 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; print /t linePos
$<span class="org-variable-name">1</span> = 1000

&gt;&gt;&gt; print /t line_buffer
$<span class="org-variable-name">2</span> = <span class="org-string">"adsadsad"</span>
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Print Variable Types</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; ptype line_buffer
<span class="org-builtin">type</span> = std::string

&gt;&gt;&gt; ptype linePos
<span class="org-builtin">type</span> = unsigned long
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Add variable to display list</b>
</p>

<ul class="org-ul">
<li>Once variables are added to display list, they will be
automatically printed on every new break point.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; display linePos
<span class="org-function-name">1</span>: linePos = 9
&gt;&gt;&gt; display line_buffer
<span class="org-function-name">2</span>: line_buffer = <span class="org-string">"safdsfdsf"</span>
&gt;&gt;&gt; 

<span class="org-comment-delimiter"># </span><span class="org-comment">Continue execution until next break point </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">the following variables are automatically displayed.</span>
&gt;&gt; cont 
Breakpoint 2, main () at line-editor.cpp:232
232                             if(logging)
<span class="org-function-name">1</span>: linePos = 3
<span class="org-function-name">2</span>: line_buffer = <span class="org-string">"asd"</span>
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Watch variables</b> 
</p>

<ul class="org-ul">
<li>The debugger will stop the program execution whenever the watched
variable is changed. Then the user has to type <span class="underline">continue</span> to run the
debugged program until the next change happens.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; watch linePos 

&gt;&gt;&gt; continue 

Hardware watchpoint 2: linePos

Old value = 7
New value = 8
<span class="org-function-name">main</span> () at line-editor.cpp:196
196                             line_buffer.push_back(key);
&gt;&gt;&gt; 

&gt;&gt;&gt; continue 

Hardware watchpoint 2: linePos

Old value = 11
New value = 12
<span class="org-function-name">main</span> () at line-editor.cpp:196
196                             line_buffer.push_back(key);
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Print individual CPU registers</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; print $<span class="org-variable-name">eax</span>
$<span class="org-variable-name">1</span> = -512

&gt;&gt;&gt; print $<span class="org-variable-name">rcx</span>
$<span class="org-variable-name">2</span> = 139647707258401

&gt;&gt;&gt; print $<span class="org-variable-name">rax</span>
$<span class="org-variable-name">3</span> = -512
</pre>
</div>

<p>
<b>Print registers:</b>
</p>

<ul class="org-ul">
<li>$ info rgisters</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; info registers
rax            0xfffffffffffffe00       -512
rbx            0x7f0244290a00   139647710202368
rcx            0x7f0243fc1e21   139647707258401
rdx            0x400    1024
rsi            0xb035a0 11548064
rdi            0x0      0
rbp            0xd68    0xd68
rsp            0x7ffdb09942d8   0x7ffdb09942d8
.... .... .... ... ... ... ... 
</pre>
</div>

<p>
<b>Show backtrace</b> 
</p>

<ul class="org-ul">
<li>backtrace</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; bt
<span class="org-comment-delimiter">#</span><span class="org-comment">0  0x00007fc0d7d4beab in raise () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">1  0x00007fc0d7d365b9 in abort () from /lib64/libc.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">2  0x00007fc0d870ca9b in __gnu_cxx::__verbose_terminate_handler() [clone .cold.1] () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">3  0x00007fc0d8712efc in __cxxabiv1::__terminate(void (*)()) () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">4  0x00007fc0d8712f57 in std::terminate() () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">5  0x00007fc0d87131b8 in __cxa_throw () from /lib64/libstdc++.so.6</span>
<span class="org-comment-delimiter">#</span><span class="org-comment">6  0x0000000000403061 in main () at line-editor.cpp:253</span>
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Show current working directory of debugged program</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh"> &gt;&gt;&gt; pwd
 Working directory /home/archbox/root-scripts.

<span class="org-comment-delimiter"># </span><span class="org-comment">Change current directory: </span>
 &gt;&gt;&gt; cd /
 Working directory /.

 &gt;&gt;&gt; pwd
 Working directory /.
 &gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Show arguments used to invoke the program</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; show args
Argument list to give program being debugged when it is started is <span class="org-string">""</span>.
</pre>
</div>

<p>
<b>Show environment variables of the debugged program</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; show environment
<span class="org-variable-name">LC_ALL</span>=en_US.UTF-8
<span class="org-variable-name">LD_LIBRARY_PATH</span>=:/home/archbox/opt/root/lib:/home/archbox/opt/cling_2018-09-16_fedora27/lib/:/home/archbox/opt/root/lib:/home/archbox/opt/cling_2018-09-16_fedora27/lib/
<span class="org-variable-name">XDG_CONFIG_HOME</span>=/home/archbox/.config
<span class="org-variable-name">TERMINATOR_UUID</span>=urn:uuid:16c59236-2dde-4517-9fec-c472df54476d
<span class="org-variable-name">XDG_MENU_PREFIX</span>=lxqt-
<span class="org-variable-name">LXQT_SESSION_CONFIG</span>=session
<span class="org-variable-name">MODULES_RUN_QUARANTINE</span>=LD_LIBRARY_PATH
<span class="org-variable-name">LANG</span>=en_CA.UTF-8
... ... ... ..
</pre>
</div>


<p>
<b>Show search paths / path variable for current process</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; show paths
Executable and object file path: /usr/share/Modules/bin:...
</pre>
</div>

<p>
<b>Current Stack frame</b> 
</p>

<p>
Show current function. 
</p>

<ul class="org-ul">
<li>$ frame or $ f</li>
</ul>


<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; f
<span class="org-comment-delimiter">#</span><span class="org-comment">0  main () at line-editor.cpp:232</span>
232                             if(logging)
&gt;&gt;&gt; 
</pre>
</div>

<p>
Show arguments of current function:
</p>

<ul class="org-ul">
<li>$ info args</li>
<li>$ i args</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; i args
No arguments.
&gt;&gt;&gt; 
</pre>
</div>

<p>
Show local variables: 
</p>

<ul class="org-ul">
<li>$ info locals</li>
<li>$ i locals</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; i locals
term = {
  m_tty_back = {
    c_iflag = 17664, 
    c_oflag = 5, 
    c_cflag = 191, 
    c_lflag = 35387, 
    c_line = 0 <span class="org-string">'\000'</span>, 
    c_cc = <span class="org-string">"\003\034\177\025\004\000\001\000\021\023\032\000\022\017\027\026"</span>, <span class="org-string">'\000'</span> &lt;repeats 15 times&gt;, 
    c_ispeed = 15, 
    c_ospeed = 15
  }, 
  m_fd = 1
}
key = 10 <span class="org-string">'\n'</span>
lineSize = 0
linePos = 8
logging = true
fd = &lt;incomplete type&gt;
line_buffer = <span class="org-string">"adsadsad"</span>
&gt;&gt;&gt; 

</pre>
</div>

<p>
<b>Call a function in the program</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; call nextChar()
$<span class="org-variable-name">1</span> = 115 <span class="org-string">'s'</span>

&gt;&gt;&gt; call printHello()
$<span class="org-variable-name">2</span> = 100
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Disassembly some function</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; disas printHello
Dump of assembler code for <span class="org-keyword">function</span> <span class="org-function-name">printHello</span>():
   0x0000000000402800 &lt;+0&gt;:     push   %rbp
   0x0000000000402801 &lt;+1&gt;:     mov    %rsp,%rbp
   0x0000000000402804 &lt;+4&gt;:     sub    $<span class="org-variable-name">0</span>x10,%rsp
   0x0000000000402808 &lt;+8&gt;:     movabs $<span class="org-variable-name">0</span>x6071a0,%rdi
   0x0000000000402812 &lt;+18&gt;:    movabs $<span class="org-variable-name">0</span>x405300,%rsi
   0x000000000040281c &lt;+28&gt;:    callq  0x4024c0 <a href="mailto:_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc%40plt">&lt;_ZStlsISt11char_traitsIcEERSt13basic_ostreamIcT_ES5_PKc@plt&gt;</a>
   0x0000000000402821 &lt;+33&gt;:    movabs $<span class="org-variable-name">0</span>x402420,%rsi
   0x000000000040282b &lt;+43&gt;:    mov    %rax,%rdi
   0x000000000040282e &lt;+46&gt;:    callq  0x4024f0 <a href="mailto:_ZNSolsEPFRSoS_E%40plt">&lt;_ZNSolsEPFRSoS_E@plt&gt;</a>
   0x0000000000402833 &lt;+51&gt;:    mov    $<span class="org-variable-name">0</span>x64,%ecx
   0x0000000000402838 &lt;+56&gt;:    mov    %rax,-0x8(%rbp)
   0x000000000040283c &lt;+60&gt;:    mov    %ecx,%eax
   0x000000000040283e &lt;+62&gt;:    add    $<span class="org-variable-name">0</span>x10,%rsp
   0x0000000000402842 &lt;+66&gt;:    pop    %rbp
   0x0000000000402843 &lt;+67&gt;:    retq   
End of assembler dump.
&gt;&gt;&gt; 

</pre>
</div>

<p>
<b>Show all functions in the program</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; info functions 

0x00007f173c67bd80  memcpy
0x00007f173c67bd80  memmove
0x00007f173c67bf60  memset
0x00007f173c67c040  __GI___setitimer
0x00007f173c67c040  __GI_setitimer
0x00007f173c67c040  __setitimer
0x00007f173c67c040  setitimer
0x00007f173c67c060  _etext
0x00007ffc86bbf9f0  __vdso_clock_gettime
0x00007ffc86bbf9f0  clock_gettime
0x00007ffc86bbfd20  __vdso_gettimeofday
0x00007ffc86bbfd20  gettimeofday
0x00007ffc86bbfed0  __vdso_time
0x00007ffc86bbfed0  time
0x00007ffc86bbfee0  __vdso_getcpu
0x00007ffc86bbfee0  getcpu
... ... ... ... ... ... ... ... 
</pre>
</div>

<p>
<b>Show basic information about the process</b>
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt;&gt; i proc
process 18214
cmdline = <span class="org-warning">'</span>./line-editor.bin<span class="org-warning">'</span>
cwd = <span class="org-warning">'</span>/home/archbox/root-scripts<span class="org-warning">'</span>
exe = <span class="org-warning">'</span>/home/archbox/root-scripts/line-editor.bin<span class="org-warning">'</span>
&gt;&gt;&gt; 
</pre>
</div>

<p>
<b>Show process status</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; i proc status

process 18214
<span class="org-function-name">Name</span>:   line-editor.bin
<span class="org-function-name">Umask</span>:  0002
<span class="org-function-name">State</span>:  t (tracing stop)
<span class="org-function-name">Tgid</span>:   18214
<span class="org-function-name">Ngid</span>:   0
<span class="org-function-name">Pid</span>:    18214
<span class="org-function-name">PPid</span>:   9944
<span class="org-function-name">TracerPid</span>:      13314
<span class="org-function-name">Uid</span>:    1000    1000    1000    1000
<span class="org-function-name">Gid</span>:    1000    1000    1000    1000
<span class="org-function-name">FDSize</span>: 256
<span class="org-function-name">Groups</span>: 10 971 1000 
<span class="org-function-name">NStgid</span>: 18214
<span class="org-function-name">NSpid</span>:  18214
<span class="org-function-name">NSpgid</span>: 18214
<span class="org-function-name">NSsid</span>:  9944
<span class="org-function-name">VmPeak</span>:    13856 kB
<span class="org-function-name">VmSize</span>:    13820 kB
<span class="org-function-name">VmLck</span>:         0 kB
<span class="org-function-name">VmPin</span>:         0 kB
<span class="org-function-name">VmHWM</span>:      1844 kB
<span class="org-function-name">VmRSS</span>:      1844 kB
<span class="org-function-name">RssAnon</span>:             148 kB
<span class="org-function-name">RssFile</span>:            1696 kB
<span class="org-function-name">RssShmem</span>:              0 kB
<span class="org-function-name">VmData</span>:      224 kB
<span class="org-function-name">VmStk</span>:       136 kB
<span class="org-function-name">VmExe</span>:        28 kB
<span class="org-function-name">VmLib</span>:      5160 kB
<span class="org-function-name">VmPTE</span>:        72 kB
<span class="org-function-name">VmSwap</span>:        0 kB
<span class="org-function-name">HugetlbPages</span>:          0 kB
<span class="org-function-name">CoreDumping</span>:    0
<span class="org-function-name">Threads</span>:        1
<span class="org-function-name">SigQ</span>:   0/62735
<span class="org-function-name">SigPnd</span>: 0000000000000000
<span class="org-function-name">ShdPnd</span>: 0000000000000000
<span class="org-function-name">SigBlk</span>: 0000000000000000
<span class="org-function-name">SigIgn</span>: 0000000000000000
<span class="org-function-name">SigCgt</span>: 0000000000000000
<span class="org-function-name">CapInh</span>: 0000000000000000
<span class="org-function-name">CapPrm</span>: 0000000000000000
<span class="org-function-name">CapEff</span>: 0000000000000000
<span class="org-function-name">CapBnd</span>: 0000003fffffffff
<span class="org-function-name">CapAmb</span>: 0000000000000000
<span class="org-function-name">NoNewPrivs</span>:     0
<span class="org-function-name">Seccomp</span>:        0
<span class="org-function-name">Speculation_Store_Bypass</span>:       thread vulnerable
<span class="org-function-name">Cpus_allowed</span>:   f
<span class="org-function-name">Cpus_allowed_list</span>:      0-3
<span class="org-function-name">Mems_allowed</span>:   00000000,00000000,00000000,00000000,00000000,... ... 
<span class="org-function-name">Mems_allowed_list</span>:      0
<span class="org-function-name">voluntary_ctxt_switches</span>:        2
<span class="org-function-name">nonvoluntary_ctxt_switches</span>:     0
&gt;&gt;&gt; 

</pre>
</div>

<p>
<b>Show all information about process</b>
</p>

<div class="org-src-container">
<pre class="src src-cpp">xe = <span class="org-warning">'</span>/home/archbox/root-scripts/line-editor.bin<span class="org-warning">'</span>
&gt;&gt;&gt; i proc all
process 18214
cmdline = <span class="org-warning">'</span>./line-editor.bin<span class="org-warning">'</span>
cwd = <span class="org-warning">'</span>/home/archbox/root-scripts<span class="org-warning">'</span>
exe = <span class="org-warning">'</span>/home/archbox/root-scripts/line-editor.bin<span class="org-warning">'</span>
Mapped address spaces:

          Start Addr           End Addr       Size     Offset objfile
            0x400000           0x407000     0x7000        0x0 /home/archbox/root-scripts/line-editor.bin
            0x606000           0x607000     0x1000     0x6000 /home/archbox/root-scripts/line-editor.bin
            0x607000           0x608000     0x1000     0x7000 /home/archbox/root-scripts/line-editor.bin
           0x1aff000          0x1b20000    0x21000        0x0 <span class="org-rainbow-delimiters-depth-1">[</span>heap<span class="org-rainbow-delimiters-depth-1">]</span>
           .. ... . ... ... ... ... ... 
      0x7f02752b3000     0x7f02752b4000     0x1000    0x27000 /usr/lib64/ld-2.27.so
      0x7f02752b4000     0x7f02752b5000     0x1000        0x0 
      0x7fffcf5fd000     0x7fffcf61f000    0x22000        0x0 <span class="org-rainbow-delimiters-depth-1">[</span>stack<span class="org-rainbow-delimiters-depth-1">]</span>
      0x7fffcf652000     0x7fffcf655000     0x3000        0x0 <span class="org-rainbow-delimiters-depth-1">[</span>vvar<span class="org-rainbow-delimiters-depth-1">]</span>
      0x7fffcf655000     0x7fffcf657000     0x2000        0x0 <span class="org-rainbow-delimiters-depth-1">[</span>vdso<span class="org-rainbow-delimiters-depth-1">]</span>
  0xffffffffff600000 0xffffffffff601000     0x1000        0x0 <span class="org-rainbow-delimiters-depth-1">[</span>vsyscall<span class="org-rainbow-delimiters-depth-1">]</span>

<span class="org-function-name">Name</span>:   line-editor.bin
<span class="org-function-name">Umask</span>:  0002
<span class="org-function-name">State</span>:  t <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">tracing</span> <span class="org-variable-name">stop</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-function-name">Tgid</span>:   18214
<span class="org-function-name">Ngid</span>:   0
<span class="org-function-name">Pid</span>:    18214
<span class="org-function-name">PPid</span>:   9944
<span class="org-function-name">TracerPid</span>:  13314
<span class="org-function-name">Uid</span>:    1000    1000    1000    1000
<span class="org-function-name">Gid</span>:    1000    1000    1000    1000
.. .... ... ... 
<span class="org-function-name">CoreDumping</span>:    0
<span class="org-function-name">Threads</span>:    1
<span class="org-function-name">SigQ</span>:   1/62735
<span class="org-function-name">SigPnd</span>: 0000000000000000
<span class="org-function-name">ShdPnd</span>: 0000000008000000
<span class="org-function-name">SigBlk</span>: 0000000000000000

 ... ... ... ... 

<span class="org-function-name">Process</span>: 18214
Exec file: line-editor.bin
<span class="org-function-name">State</span>: t
Parent process: 9944
Process group: 18214
Session id: 9944
<span class="org-function-name">TTY</span>: 34819
TTY owner process group: 18214
<span class="org-function-name">Flags</span>: 0x40404000
Minor faults <span class="org-rainbow-delimiters-depth-1">(</span>no <span class="org-type">memory</span> <span class="org-variable-name">page</span><span class="org-rainbow-delimiters-depth-1">)</span>: 142
Minor faults, children: 0

 .. ... ... 

Start of text: 0x400000
End of text: 0x4065e4
Start of stack: 0x7fffcf61cb60

</pre>
</div>

<p>
<b>Show memory map of current process</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt; info file
Symbols from <span class="org-string">"/home/archbox/root-scripts/line-editor.bin"</span>.
Native process:
        Using the running image of attached process 7343.
        While running this, GDB does not access memory from...
Local exec file:
        <span class="org-sh-quoted-exec">`/home/archbox/root-scripts/line-editor.bin', file type elf64-x86-64.</span>
<span class="org-sh-quoted-exec">        Entry point: 0x4026e0</span>
<span class="org-sh-quoted-exec">        0x0000000000400238 - 0x0000000000400254 is .interp</span>
<span class="org-sh-quoted-exec">        0x0000000000400254 - 0x0000000000400274 is .note.ABI-tag</span>
<span class="org-sh-quoted-exec">        0x0000000000400274 - 0x0000000000400298 is .note.gnu.build-id</span>
<span class="org-sh-quoted-exec">        0x0000000000400298 - 0x0000000000400444 is .gnu.hash</span>
<span class="org-sh-quoted-exec">        0x0000000000400448 - 0x0000000000400d18 is .dynsym</span>
<span class="org-sh-quoted-exec">        0x0000000000400d18 - 0x0000000000401d37 is .dynstr</span>
<span class="org-sh-quoted-exec">        ... ... ... ... .... ... .. </span>
</pre>
</div>

<p>
<b>Show memory mappings</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; i proc m
process 1446
Mapped address spaces:

          Start Addr           End Addr       Size     Offset objfile
            0x400000           0x407000     0x7000        0x0 /home/archbox/root-scripts/line-editor.bin
            0x606000           0x607000     0x1000     0x6000 /home/archbox/root-scripts/line-editor.bin
            0x607000           0x608000     0x1000     0x7000 /home/archbox/root-scripts/line-editor.bin
           0x1ce7000          0x1d08000    0x21000        0x0 [heap]
      0x7f84ad30f000     0x7f84ad4c4000   0x1b5000        0x0 /usr/lib64/libc-2.27.so
      0x7f84ad4c4000     0x7f84ad6c4000   0x200000   0x1b5000 /usr/lib64/libc-2.27.so
      0x7f84ad6c4000     0x7f84ad6c8000     0x4000   0x1b5000 /usr/lib64/libc-2.27.so
      0x7f84ad6c8000     0x7f84ad6ca000     0x2000   0x1b9000 /usr/lib64/libc-2.27.so
      0x7f84ad6ca000     0x7f84ad6ce000     0x4000        0x0 
      0x7f84ad6ce000     0x7f84ad6e5000    0x17000        0x0 /usr/lib64/libgcc_s-8-20181105.so.1
      0x7f84ad6e5000     0x7f84ad8e4000   0x1ff000    0x17000 /usr/lib64/libgcc_s-8-20181105.so.1
      0x7f84ad8e4000     0x7f84ad8e5000     0x1000    0x16000 /usr/lib64/libgcc_s-8-20181105.so.1
      0x7f84ad8e5000     0x7f84ad8e6000     0x1000    0x17000 /usr/lib64/libgcc_s-8-20181105.so.1
      0x7f84ad8e6000     0x7f84ada78000   0x192000        0x0 /usr/lib64/libm-2.27.so
 ... .... ... ... ... 
</pre>
</div>


<p>
<b>Detach or exit from debugger:</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">&gt;&gt;&gt; quit
A debugging session is active.

        Inferior 1 [process 22370] will be detached.
</pre>
</div>
</div>
</div>

<div id="outline-container-org9015dcd" class="outline-3">
<h3 id="org9015dcd"><span class="section-number-3">1.5</span> Example - Debugging Assembly x86 (IA32) Code</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Code in Intel x86 (IA32) assembly with Intel syntax. 
</p>

<p>
<b>File: invoke.asm</b>
</p>

<div class="org-src-container">
<pre class="src src-asm"><span class="org-comment-delimiter">;  </span><span class="org-comment">BRIEF: Invoke funcitons on Linux </span>
<span class="org-comment-delimiter">; </span><span class="org-comment">------------------------------------------------------;</span>
    <span class="org-keyword">BITS</span> 32    

<span class="org-comment-delimiter">;;</span><span class="org-comment">=======================================;</span>
<span class="org-comment-delimiter">;;             </span><span class="org-comment">Data Segment              ;</span>
<span class="org-comment-delimiter">;;</span><span class="org-comment">=======================================;</span>
    <span class="org-keyword">SECTION</span> .data

<span class="org-comment-delimiter">; </span><span class="org-comment">null-terminated c-string always terminated by 0 (zero)</span>
<span class="org-function-name">message</span> <span class="org-keyword">db</span> <span class="org-string">"Hello world Linux System Call"</span>, 0

<span class="org-comment-delimiter">; </span><span class="org-comment">string followed by '\n' LF (10) character and terminated by 0 </span>
<span class="org-function-name">message2</span> <span class="org-keyword">db</span>  <span class="org-string">" [TRACE] Hello world Linux System Call"</span>, 10, 0   

<span class="org-comment-delimiter">; </span><span class="org-comment">Note: 10 =&gt; decimal value of '\n' new line LF character  </span>
<span class="org-function-name">format</span> <span class="org-keyword">db</span> <span class="org-string">" [INFO] a = %d b = %d result = %d"</span>, 10, 0

<span class="org-comment-delimiter">;;</span><span class="org-comment">=======================================;</span>
<span class="org-comment-delimiter">;;            </span><span class="org-comment">Text Segment               ;</span>
<span class="org-comment-delimiter">;;</span><span class="org-comment">=======================================; </span>

<span class="org-comment-delimiter">; </span><span class="org-comment">Executable code goes here</span>
    <span class="org-keyword">SECTION</span> .text
    <span class="org-keyword">global</span> main 

<span class="org-comment-delimiter">; </span><span class="org-comment">********** Function: Exit ********************</span>
<span class="org-comment-delimiter">; </span><span class="org-comment">Exit program calling Linux Interrupt of code 0 or C-function exit(0)</span>
<span class="org-function-name">exit</span>:
    <span class="org-keyword">mov</span> eax, 1   <span class="org-comment-delimiter">;</span><span class="org-comment">system call number 1 is exit()</span>
    <span class="org-keyword">mov</span> ebx, 0   <span class="org-comment-delimiter">;</span><span class="org-comment">exit(0)</span>
    <span class="org-keyword">int</span> 0x80     <span class="org-comment-delimiter">;</span><span class="org-comment">call it    </span>
    <span class="org-keyword">ret</span> 0

<span class="org-comment-delimiter">;</span><span class="org-comment">******** Function: _subtract(int a, int b) CDECL convention ******.</span>
<span class="org-function-name">_subtract</span>:
    <span class="org-comment-delimiter">; </span><span class="org-comment">epilogue </span>
    <span class="org-keyword">push</span> ebp                   <span class="org-comment-delimiter">; </span><span class="org-comment">Save EBP on the stack</span>
    <span class="org-keyword">mov</span> ebp, esp               <span class="org-comment-delimiter">; </span><span class="org-comment">Save stacke pointer ESP in EBP (EBP := ESP)</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">Function main code </span>
    <span class="org-keyword">mov</span> eax, [ebp + 8]         <span class="org-comment-delimiter">; </span><span class="org-comment">Get 2nd second parameter b (ESP + sizeof(Param) * paramOrder)</span>
    <span class="org-keyword">mov</span> edx, [ebp + 12]        <span class="org-comment-delimiter">; </span><span class="org-comment">Get 1st first paramter a</span>
    <span class="org-keyword">sub</span> eax, edx               <span class="org-comment-delimiter">; </span><span class="org-comment">EAX = EAX - EDX = b - a</span>
    <span class="org-comment-delimiter">; </span><span class="org-comment">function cleanup</span>
    <span class="org-keyword">pop</span> ebp 
    <span class="org-keyword">ret</span>                        <span class="org-comment-delimiter">; </span><span class="org-comment">Return to the caller</span>


<span class="org-comment-delimiter">; </span><span class="org-comment">********** Function: _start or main() *************    </span>
<span class="org-function-name">main</span>:   
    <span class="org-keyword">extern</span> puts                 <span class="org-comment-delimiter">; </span><span class="org-comment">Indicates a extenal C-library</span>
    <span class="org-keyword">extern</span> printf 

    <span class="org-comment-delimiter">; </span><span class="org-comment">Call C-function int puts(const char*)        </span>
    <span class="org-keyword">push</span> DWORD message
    <span class="org-keyword">call</span> puts
    <span class="org-keyword">add</span>  ESP, DWORD 1           <span class="org-comment-delimiter">; </span><span class="org-comment">Restore stack size </span>
                                <span class="org-comment-delimiter">; </span><span class="org-comment">ESP = ESP + Number Of Bytes * NumberOfStackParams / 4</span>
                                <span class="org-comment-delimiter">; </span><span class="org-comment">ESP = ESP + (4 size of 1 dword) / 4 = ESP + 1 DWORD</span>

    <span class="org-keyword">push</span> DWORD message2
    <span class="org-keyword">call</span> printf
    <span class="org-keyword">add</span> ESP, 4

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Call: int subtract(int a, b)</span>
    <span class="org-keyword">push</span> DWORD 200               <span class="org-comment-delimiter">; </span><span class="org-comment">Set second paramter b = 200 </span>
    <span class="org-keyword">push</span> DWORD 50                <span class="org-comment-delimiter">; </span><span class="org-comment">Set first parameter a = 50</span>
    <span class="org-keyword">call</span> _subtract
    <span class="org-keyword">add</span> ESP, DWORD 2   

    <span class="org-comment-delimiter">;; </span><span class="org-comment">Call function printf    </span>
    <span class="org-keyword">push</span> eax 
    <span class="org-keyword">push</span> 200 
    <span class="org-keyword">push</span> 50 
    <span class="org-keyword">push</span> format 
    <span class="org-keyword">call</span> printf
    <span class="org-keyword">add</span> ESP, DWORD 4

    <span class="org-keyword">call</span> exit   
</pre>
</div>

<p>
<b>Compiling and running</b>
</p>

<p>
Build executable file: invoke.elf 
</p>

<p>
Compile:
</p>

<div class="org-src-container">
<pre class="src src-sh">$ nasm -f elf -g -F dwarf invoke.asm 
</pre>
</div>

<p>
Link: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$  ld invoke.o -melf_i386 -o <span class="org-keyword">invoke.elf</span> -I/lib/ld-linux.so.2 -lc --entry main 
</pre>
</div>

<p>
Check file: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ file invoke.elf 
<span class="org-function-name">invoke.elf</span>: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked, interpreter /lib/ld-, with debug_info, not stripped
</pre>
</div>

<p>
Run: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ ./invoke.elf

Hello world Linux System Call
 [TRACE] Hello world Linux System Call
 [INFO] a = 200 b = 50 result = -150
</pre>
</div>

<p>
<b>Debugging</b> 
</p>

<p>
Load the file in the debugger: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ gdb --silent invoke.elf 
Reading symbols from invoke.elf...done.
</pre>
</div>

<p>
Run the executable without breaking points: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r
Starting program: /home/archbox/root-scripts/asm/invoke.elf 
Missing separate debuginfos, use: dnf debuginfo-install glibc-2.27-37.fc28.i686
Hello world Linux System Call
 [TRACE] Hello world Linux System Call
 [INFO] a = 50 b = 200 result = -150
[Inferior 1 (process 31433) exited normally]
</pre>
</div>

<p>
Set breaking points: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Set break point at main() function </span>
(gdb) b main
<span class="org-function-name">Note</span>: breakpoint 1 also set at pc 0x80481fc.
Breakpoint 2 at 0x80481fc: file invoke.asm, line 55.


<span class="org-comment-delimiter"># </span><span class="org-comment">Set break point at line 55</span>
(gdb) b 55
Breakpoint 1 at 0x80481fc: file invoke.asm, line 55.

<span class="org-comment-delimiter"># </span><span class="org-comment">Set break point at function subtract</span>
(gdb) b _subtract 
Breakpoint 3 at 0x80481ef: file invoke.asm, line 38.  
</pre>
</div>

<p>
Restart process being debugged: 
</p>

<pre class="example">
(gdb) r
Starting program: /home/archbox/root-scripts/asm/invoke.elf 

Breakpoint 1, main () at invoke.asm:55
55	    push DWORD message
</pre>

<p>
Step over:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
56          call puts

<span class="org-comment-delimiter"># </span><span class="org-comment">Print ESP register (Stack Pointer)</span>
(gdb) p $<span class="org-variable-name">esp</span>
$<span class="org-variable-name">17</span> = (void *) 0xffffc00c

<span class="org-comment-delimiter"># </span><span class="org-comment">Print the memory location pointed by the stack pointer </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">interpreting the location as a string: </span>
(gdb) p *((char**) ($<span class="org-variable-name">esp</span>))
$<span class="org-variable-name">19</span> = 0x804a014 &lt;message&gt; <span class="org-string">"Hello world Linux System Call"</span>


(gdb) n
0x080481d0<span class="org-keyword"> in</span> puts@plt ()

(gdb) n
Single stepping until exit from <span class="org-keyword">function</span> <span class="org-function-name">puts</span>@plt,
which has no line number information.
0x080481b0<span class="org-keyword"> in</span> ?? ()

(gdb) s
Cannot find bounds of current <span class="org-keyword">function</span>

(gdb) si
0x080481b6<span class="org-keyword"> in</span> ?? ()

(gdb) si
0xf7fea6f0<span class="org-keyword"> in</span> _dl_runtime_resolve () from /lib/ld-linux.so.2
(gdb) si
 ... 
</pre>
</div>

<p>
Continue until next break point: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.
Hello world Linux System Call
 [TRACE] Hello world Linux System Call

Breakpoint 3, _subtract () at invoke.asm:38
38          push ebp                   ; Save EBP on the stack
(gdb) 
</pre>
</div>

<p>
Stepping by step execution: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
39          mov ebp, esp               ; Save stacke pointer ESP<span class="org-keyword"> in</span> EBP (EBP := ESP)

(gdb) n
<span class="org-function-name">_subtract</span> () at invoke.asm:41
41          mov eax, [ebp + 8]         ; Get 2nd second parameter b (ESP + sizeof(Param) * paramOrder)

(gdb) n
42          mov edx, [ebp + 12]        ; Get 1st first paramter a
(gdb) 
</pre>
</div>

<p>
Print stack parameters: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Prin stack parameters of current stack frame: </span>
(gdb) p *((int*) ($<span class="org-variable-name">ebp</span> + 8))
$<span class="org-variable-name">25</span> = 50

(gdb) p *((int*) ($<span class="org-variable-name">ebp</span> + 12))
$<span class="org-variable-name">26</span> = 200
(gdb) 

(gdb) n
43          sub eax, edx               ; EAX = EAX - EDX = b - a

(gdb) p $<span class="org-variable-name">edx</span> $<span class="org-variable-name">29</span> = 200

(gdb) p $<span class="org-variable-name">eax</span>
$<span class="org-variable-name">30</span> = 50
(gdb) 

<span class="org-comment-delimiter"># </span><span class="org-comment">Return value </span>
(gdb) p $<span class="org-variable-name">eax</span>
$<span class="org-variable-name">31</span> = -150
(gdb) 
</pre>
</div>

<p>
Continue execution: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
46          ret                        ; Return to the caller

(gdb) n
<span class="org-function-name">main</span> () at invoke.asm:69
69          add ESP, DWORD 2   
</pre>
</div>

<p>
Continue until exiting: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.
 [INFO] a = 50 b = 200 result = -150
[Inferior 1 (process 32151) exited normally]
</pre>
</div>
</div>
</div>

<div id="outline-container-org6751768" class="outline-3">
<h3 id="org6751768"><span class="section-number-3">1.6</span> Examples by task</h3>
<div class="outline-text-3" id="text-1-6">
</div>
<div id="outline-container-org1b1d576" class="outline-4">
<h4 id="org1b1d576"><span class="section-number-4">1.6.1</span> Print/List function source code</h4>
<div class="outline-text-4" id="text-1-6-1">
<p>
Print code of function <span class="underline">main</span> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">list</span> <span class="org-variable-name">main</span>
242         DBG_TRACE<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"Registered static objects OK."</span><span class="org-rainbow-delimiters-depth-1">)</span>;
243         <span class="org-constant">TypeDB</span>::func<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"functionTest1"</span>, functionTest1<span class="org-rainbow-delimiters-depth-1">)</span>;
244         <span class="org-constant">TypeDB</span>::classn<span class="org-rainbow-delimiters-depth-1">&lt;</span>CashFlow<span class="org-rainbow-delimiters-depth-1">&gt;(</span><span class="org-string">"CashFlow"</span><span class="org-rainbow-delimiters-depth-1">)</span>;
245     <span class="org-rainbow-delimiters-unmatched">})</span>;
246 
247 <span class="org-type">int</span> main<span class="org-rainbow-delimiters-unmatched">(){</span>
248 
249     <span class="org-comment-delimiter">// </span><span class="org-comment">TypeDB::func("functionTest1", functionTest1);</span>
250     <span class="org-comment-delimiter">// </span><span class="org-comment">TypeDB::classn&lt;CashFlow&gt;("CashFlow");    </span>
251     
</pre>
</div>

<p>
Print code of function: <code>typedb_call_function_void</code>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">list</span> <span class="org-function-name">typedb_call_function_void</span>
370     <span class="org-keyword">return</span> <span class="org-keyword">new</span> <span class="org-constant">std</span>::<span class="org-type">any</span><span class="org-rainbow-delimiters-depth-1">(</span>pFunc-&gt;call<span class="org-rainbow-delimiters-depth-2">(</span>*args<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>;
371 <span class="org-rainbow-delimiters-unmatched">}</span>
372 
373 <span class="org-keyword">extern</span> <span class="org-string">"C"</span>
374 <span class="org-keyword">auto</span> typedb_call_function_void<span class="org-rainbow-delimiters-unmatched">(</span><span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">name</span>, <span class="org-type">HArgTuple</span> <span class="org-variable-name">hArgs</span><span class="org-rainbow-delimiters-unmatched">)</span> -&gt; <span class="org-type">void</span> 
375 <span class="org-rainbow-delimiters-unmatched">{</span>
376     <span class="org-keyword">auto</span> args = <span class="org-keyword">reinterpret_cast</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">ArgTuple</span>*<span class="org-rainbow-delimiters-depth-1">&gt;(</span>hArgs<span class="org-rainbow-delimiters-depth-1">)</span>;
377     <span class="org-constant">std</span>::cerr &lt;&lt; <span class="org-string">" [INFO] Enter function = typedb_call_function_void "</span> &lt;&lt; <span class="org-constant">std</span>::endl;
378     <span class="org-constant">TypeDB</span>::FactoryMap&amp; db = <span class="org-constant">TypeDB</span>::getDatabase<span class="org-rainbow-delimiters-depth-1">()</span>;
379 
<span class="org-rainbow-delimiters-depth-1">(</span>gdb<span class="org-rainbow-delimiters-depth-1">)</span> 
</pre>
</div>
</div>
</div>
<div id="outline-container-org324433e" class="outline-4">
<h4 id="org324433e"><span class="section-number-4">1.6.2</span> Print memory address as c-string</h4>
<div class="outline-text-4" id="text-1-6-2">
<p>
Print the memory address 0x7ffff7e7ad14 (heap) as string: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> p /s  <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">char</span>*<span class="org-rainbow-delimiters-depth-1">)</span> 0x7ffff7e7ad14 
$13 = 0x7ffff7e7ad14 <span class="org-string">"Some C++ is not bad at all"</span>
<span class="org-rainbow-delimiters-depth-1">(</span>gdb<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Or: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> x /s 0x7ffff7e7ad14
<span class="org-function-name">0x7ffff7e7ad14</span>: <span class="org-string">"Some C++ is not bad at all"</span>
<span class="org-rainbow-delimiters-depth-1">(</span>gdb<span class="org-rainbow-delimiters-depth-1">)</span> 
</pre>
</div>
</div>
</div>

<div id="outline-container-org3551b49" class="outline-4">
<h4 id="org3551b49"><span class="section-number-4">1.6.3</span> Print object vtable</h4>
<div class="outline-text-4" id="text-1-6-3">
<p>
Show object virtual function table (vtable) layout:
</p>

<ul class="org-ul">
<li>Print pointer to object:
<ul class="org-ul">
<li>$ p &lt;VARIABLE&gt;</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">p</span> <span class="org-variable-name">pFunc</span>
$6 = <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">IMathFunction</span> *<span class="org-rainbow-delimiters-depth-1">)</span> 0x61eb00

<span class="org-rainbow-delimiters-depth-1">(</span>gdb<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">p</span> <span class="org-function-name">pFunc</span>-&gt;Name<span class="org-rainbow-delimiters-depth-1">()</span>
$7 = 0x7ffff6cce61e <span class="org-string">"Log"</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">p</span> <span class="org-variable-name">pFunc</span>-&gt;Eval<span class="org-rainbow-delimiters-depth-1">(</span>4.5<span class="org-rainbow-delimiters-depth-1">)</span>
$8 = 1.5040773967762742

<span class="org-rainbow-delimiters-depth-1">(</span>gdb<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-type">p</span> <span class="org-variable-name">pFunc</span>-&gt;Eval<span class="org-rainbow-delimiters-depth-1">(</span>10<span class="org-rainbow-delimiters-depth-1">)</span>
$9 = 2.3025850929940459
</pre>
</div>

<ul class="org-ul">
<li>Print object type:
<ul class="org-ul">
<li>$ ptype &lt;VARIABLE&gt;</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> ptype <span class="org-type">pFunc</span>
<span class="org-variable-name">type</span> = <span class="org-keyword">class</span> IMathFunction : <span class="org-keyword">public</span> <span class="org-type">IQueryInterface</span> <span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-keyword">public</span>:
    <span class="org-keyword">virtual</span> <span class="org-keyword">const</span> <span class="org-type">char</span> * <span class="org-function-name">Name</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">void</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span>;
    <span class="org-keyword">virtual</span> <span class="org-type">double</span> <span class="org-function-name">Eval</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span>;
    ~IMathFunction<span class="org-rainbow-delimiters-depth-2">()</span>;
<span class="org-rainbow-delimiters-depth-1">}</span> *
</pre>
</div>

<ul class="org-ul">
<li>Print vtable layoyt: 
<ul class="org-ul">
<li>$ i vtbl &lt;VARIABLE&gt;</li>
<li>$ info vtbl &lt;VARIABLE&gt;</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> i vtbl <span class="org-type">pFunc</span>
<span class="org-function-name">vtable</span> <span class="org-keyword">for</span> <span class="org-warning">'</span>IMathFunction<span class="org-warning">'</span> @ 0x7ffff6ed2a90 <span class="org-rainbow-delimiters-depth-1">(</span>subobject @ 0x61eb00<span class="org-rainbow-delimiters-depth-1">)</span>:
<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9ebc</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::~Log<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f50</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::~Log<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f82</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::ClassName<span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f9a</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::QueryInterface<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9fda</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::Name<span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span>: 0x7ffff6cc9fec <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::Eval<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>

<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-depth-1">)</span> info vtbl <span class="org-type">pFunc</span>
<span class="org-function-name">vtable</span> <span class="org-keyword">for</span> <span class="org-warning">'</span>IMathFunction<span class="org-warning">'</span> @ 0x7ffff6ed2a90 <span class="org-rainbow-delimiters-depth-1">(</span>subobject @ 0x61eb00<span class="org-rainbow-delimiters-depth-1">)</span>:
<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9ebc</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::~Log<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f50</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::~Log<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f82</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::ClassName<span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9f9a</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::QueryInterface<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9fda</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::Name<span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span>: 0<span class="org-type">x7ffff6cc9fec</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-constant">Log</span>::Eval<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3822ae6" class="outline-4">
<h4 id="org3822ae6"><span class="section-number-4">1.6.4</span> Show Current function arguments</h4>
<div class="outline-text-4" id="text-1-6-4">
<p>
Show current function arguments: 
</p>

<ul class="org-ul">
<li>$ info args</li>
<li>$ i args</li>
</ul>

<p>
Function being debugged: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-keyword">extern</span> <span class="org-string">"C"</span>
<span class="org-keyword">auto</span> <span class="org-function-name">VariantArgs_add_cchar</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">ArgTuple</span>* <span class="org-variable-name">ptr</span>, <span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">text</span><span class="org-rainbow-delimiters-depth-1">)</span> -&gt; <span class="org-type">void</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
   <span class="org-comment-delimiter">// </span><span class="org-comment">auto ptr = reinterpret_cast&lt;ArgTuple*&gt;(hnd);</span>
   ptr-&gt;push_back<span class="org-rainbow-delimiters-depth-2">(</span>text<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
At some break point set to this function:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
Single stepping until exit from <span class="org-keyword">function</span> <span class="org-function-name">PyEval_EvalFrameEx</span>,
which has no line number information.

Breakpoint 2, VariantArgs_add_cchar (<span class="org-variable-name">ptr</span>=0x5555557e67e0, <span class="org-variable-name">text</span>=0x7ffff7e7ad14 <span class="org-string">"Some C++ is not bad at all"</span>) at init.cpp:342
342             ptr-&gt;push_back(text);

</pre>
</div>

<p>
Run the folloing commands: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) info args
ptr = 0x5555557e67e0
text = 0x7ffff7e7ad14 <span class="org-string">"Some C++ is not bad at all"</span>

(gdb) i args
ptr = 0x5555557e67e0
text = 0x7ffff7e7ad14 <span class="org-string">"Some C++ is not bad at all"</span>
(gdb)

</pre>
</div>

<p>
Print details of argument ptr: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">gdb<span class="org-rainbow-delimiters-unmatched">)</span> <span class="org-type">p</span> *<span class="org-variable-name">ptr</span>
$9 = <span class="org-constant">std</span>::vector of length 2, <span class="org-variable-name">capacity</span> 3 = <span class="org-rainbow-delimiters-unmatched">{</span><span class="org-constant">std</span>::any containing <span class="org-type">int</span> = <span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-rainbow-delimiters-depth-2">[</span><span class="org-constant">contained</span> value<span class="org-rainbow-delimiters-depth-2">]</span> = 3
  <span class="org-rainbow-delimiters-depth-1">}</span>, <span class="org-constant">std</span>::any containing <span class="org-type">double</span> = <span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-rainbow-delimiters-depth-2">[</span><span class="org-constant">contained</span> value<span class="org-rainbow-delimiters-depth-2">]</span> = 15.68
  <span class="org-rainbow-delimiters-depth-1">}</span><span class="org-rainbow-delimiters-unmatched">}</span>
<span class="org-rainbow-delimiters-unmatched">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-unmatched">)</span> <span class="org-type">p</span> <span class="org-variable-name">ptr</span>-&gt;<span class="org-keyword">operator</span><span class="org-rainbow-delimiters-unmatched">[](</span>0<span class="org-rainbow-delimiters-unmatched">)</span>
$10 = <span class="org-constant">std</span>::any containing <span class="org-type">int</span> = <span class="org-rainbow-delimiters-unmatched">{</span>
  <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">contained</span> value<span class="org-rainbow-delimiters-depth-1">]</span> = 3
<span class="org-rainbow-delimiters-unmatched">}</span>

<span class="org-rainbow-delimiters-unmatched">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-unmatched">)</span> <span class="org-type">p</span> <span class="org-variable-name">ptr</span>-&gt;<span class="org-keyword">operator</span><span class="org-rainbow-delimiters-unmatched">[](</span>1<span class="org-rainbow-delimiters-unmatched">)</span>
$11 = <span class="org-constant">std</span>::any containing <span class="org-type">double</span> = <span class="org-rainbow-delimiters-unmatched">{</span>
  <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">contained</span> value<span class="org-rainbow-delimiters-depth-1">]</span> = 15.68
<span class="org-rainbow-delimiters-unmatched">}</span>

<span class="org-rainbow-delimiters-unmatched">(</span><span class="org-type">gdb</span><span class="org-rainbow-delimiters-unmatched">)</span> <span class="org-type">p</span> <span class="org-variable-name">ptr</span>-&gt;<span class="org-keyword">operator</span><span class="org-rainbow-delimiters-unmatched">[](</span>2<span class="org-rainbow-delimiters-unmatched">)</span>
$12 = Python <span class="org-type">Exception</span> <span class="org-rainbow-delimiters-unmatched">&lt;</span><span class="org-keyword">class</span> <span class="org-warning">'</span>RuntimeError<span class="org-warning">'</span><span class="org-rainbow-delimiters-unmatched">&gt;</span> Cannot locate object file <span class="org-keyword">for</span> block.: 
<span class="org-type">Python</span> <span class="org-type">Exception</span> <span class="org-rainbow-delimiters-unmatched">&lt;</span><span class="org-keyword">class</span> <span class="org-warning">'</span>RuntimeError<span class="org-warning">'</span><span class="org-rainbow-delimiters-unmatched">&gt;</span> Cannot locate object file <span class="org-keyword">for</span> block.: 
<span class="org-rainbow-delimiters-unmatched">{</span>
  _M_manager = 0x5b64015a64360159, 
  _M_storage = <span class="org-rainbow-delimiters-depth-1">{</span>
    _M_ptr = 0x15c64015a643601, 
    _M_buffer = <span class="org-rainbow-delimiters-depth-2">{</span>
      __data = <span class="org-string">"\001\066dZ\001d\\\001"</span>, 
      __align = <span class="org-rainbow-delimiters-depth-3">{</span><span class="org-rainbow-delimiters-depth-4">&lt;</span>No <span class="org-type">data</span> <span class="org-variable-name">fields</span><span class="org-rainbow-delimiters-depth-4">&gt;</span><span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>
  <span class="org-rainbow-delimiters-depth-1">}</span>
<span class="org-rainbow-delimiters-unmatched">}</span>
<span class="org-rainbow-delimiters-unmatched">(</span>gdb<span class="org-rainbow-delimiters-unmatched">)</span> 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc07f1e" class="outline-4">
<h4 id="orgdc07f1e"><span class="section-number-4">1.6.5</span> Show information about signals</h4>
<div class="outline-text-4" id="text-1-6-5">
<ul class="org-ul">
<li>$ i signals</li>
<li>$ info signals</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i signals
Signal        Stop      Print   Pass to program Description

SIGHUP        Yes       Yes     Yes             Hangup
SIGINT        Yes       Yes     No              Interrupt
SIGQUIT       Yes       Yes     Yes             Quit
SIGILL        Yes       Yes     Yes             Illegal instruction
SIGTRAP       Yes       Yes     No              Trace/breakpoint trap
SIGABRT       Yes       Yes     Yes             Aborted
SIGEMT        Yes       Yes     Yes             Emulation trap
SIGFPE        Yes       Yes     Yes             Arithmetic exception
SIGKILL       Yes       Yes     Yes             Killed
SIGBUS        Yes       Yes     Yes             Bus error
SIGSEGV       Yes       Yes     Yes             Segmentation fault
SIGTTOU       Yes       Yes     Yes             Stopped (tty output)
SIGIO         No        No      Yes             I/O possible
...   ...   ...   ...   ...   ...   ...   ...   ... 

SIG126        Yes       Yes     Yes             Real-time event 126
SIG127        Yes       Yes     Yes             Real-time event 127
SIGINFO       Yes       Yes     Yes             Information request
EXC_BAD_ACCESS Yes      Yes     Yes             Could not access memory
EXC_BAD_INSTRUCTION Yes Yes     Yes             Illegal instruction/operand
EXC_ARITHMETIC Yes      Yes     Yes             Arithmetic exception
EXC_EMULATION Yes       Yes     Yes             Emulation instruction
EXC_SOFTWARE  Yes       Yes     Yes             Software generated exception
EXC_BREAKPOINT Yes      Yes     Yes             Breakpoint
SIGLIBRT      No        No      Yes             librt internal signal
</pre>
</div>
</div>
</div>

<div id="outline-container-org85838e1" class="outline-4">
<h4 id="org85838e1"><span class="section-number-4">1.6.6</span> List shared libraries loaded into current process</h4>
<div class="outline-text-4" id="text-1-6-6">
<ul class="org-ul">
<li>$ i share</li>
<li>$ info share</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">gdb) i share
From                To                  Syms Read   Shared Object Library
0x00007ffff7dd6f60  0x00007ffff7df5080  Yes         /lib64/ld-linux-x86-64.so.2
0x00007ffff79d15d0  0x00007ffff7b15a60  Yes (*)     /lib64/libpython2.7.so.1.0
0x00007ffff7776be0  0x00007ffff77848b1  Yes         /lib64/libpthread.so.0
0x00007ffff756dee0  0x00007ffff756ebbe  Yes         /lib64/libdl.so.2
0x00007ffff736ae80  0x00007ffff736b7a8  Yes         /lib64/libutil.so.1
0x00007ffff6fe19f0  0x00007ffff7093e6a  Yes         /lib64/libm.so.6
0x00007ffff6c383a0  0x00007ffff6d7f11f  Yes         /lib64/libc.so.6
0x00007ffff6a12ab0  0x00007ffff6a143f9  Yes (*)     /usr/lib64/python2.7/lib-dynload/_localemodule.so
0x00007fffeeb67260  0x00007fffeeb74b23  Yes (*)     /usr/lib64/python2.7/lib-dynload/_ctypes.so
0x00007fffee958810  0x00007fffee95d29a  Yes (*)     /lib64/libffi.so.6
0x00007fffee74d970  0x00007fffee75291d  Yes (*)     /usr/lib64/python2.7/lib-dynload/_struct.so
0x00007fffee539520  0x00007fffee542b2e  Yes         typesdb.so
0x00007fffee21d590  0x00007fffee2d391e  Yes         /lib64/libstdc++.so.6
0x00007fffedf7bad0  0x00007fffedf8c6f5  Yes         /lib64/libgcc_s.so.1
(*): Shared library is missing debugging information.
(gdb) 
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf69d67f" class="outline-4">
<h4 id="orgf69d67f"><span class="section-number-4">1.6.7</span> Execute shell command</h4>
<div class="outline-text-4" id="text-1-6-7">
<p>
Execute: $ uname -r 
</p>
<ul class="org-ul">
<li>show Linux, BSD or MacOSX kernel version.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) shell uname -r
4.19.16-200.fc28.x86_64
(gdb) 
</pre>
</div>


<p>
Execute: $ ls 
</p>
<ul class="org-ul">
<li>List directory</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) shell ls
core.11767  init.bin  script.gdb  typeInfo.cpp
gdb.txt     init.cpp  test1.py    typesdb.so
(gdb) 
</pre>
</div>
</div>
</div>

<div id="outline-container-org4c2debf" class="outline-4">
<h4 id="org4c2debf"><span class="section-number-4">1.6.8</span> Install Debugging Symbols on Linux</h4>
<div class="outline-text-4" id="text-1-6-8">
<p>
Debuggers are not only useful for monitoring and debugging of
applications written in C, C++ or native programs. They can also tap
into any process, regardless the programming language that the program
was written, therefore a debugger can tap into applications built with
python, java, ruby, C# - CSharp and so on. 
</p>

<p>
Despite the debuggers ability to instrospect any process, it is
necessary to have the debugging symbols of the process being debugged,
otherwise it will not be possible to set breakpoints by function name
or see the current location of the source code being executed. On
Linux this issue can be solved by installing packages with debugging
symbols. 
</p>

<p>
<b>Example: Install debugging symbols on Fedora/Linux</b>
</p>

<ul class="org-ul">
<li>Install Python2 debugging symbols on Fedora.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">$ sudo dnf debuginfo-install python2-2.7.15-4.fc28.x86_64

$ sudo dnf debuginfo-install python2-2.7.15-4.fc28.x86_64
[sudo] password for archbox: 
enabling updates-debuginfo repository
enabling fedora-debuginfo repository
enabling rpmfusion-free-updates-debuginfo repository
enabling rpmfusion-free-debuginfo repository
enabling rpmfusion-nonfree-updates-debuginfo repository
enabling rpmfusion-nonfree-debuginfo repository
Fedora 28 - x86_64 - Updates - Debug            246 kB/s |  15 MB     01:00    
RPM Fusion for Fedora 28 - Free - Updates Debug 497 kB/s | 760 kB     00:01    
RPM Fusion for Fedora 28 - Nonfree - Updates De  14 kB/s |  61 kB     00:04    
Last metadata expiration check: 0:00:01 ago on Sun 27 Jan 2019 12:15:07 AM -03.
Dependencies resolved.
================================================================================
 Package                Arch      Version            Repository            Size
================================================================================
<span class="org-function-name">Installing</span>:
 python2-debuginfo      x86_64    2.7.15-4.fc28      updates-debuginfo    6.5 M
Installing weak dependencies:
 python2-debugsource    x86_64    2.7.15-4.fc28      updates-debuginfo    2.3 M
... ....  ... ....  ... ....  ... ....  ... ....  ... ....
</pre>
</div>


<ul class="org-ul">
<li>Install Pythhon3 debuging symbols on Fedora.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">$ sudo dnf debuginfo-install python3-3.6.8-1.fc28.x86_64
</pre>
</div>
</div>
</div>

<div id="outline-container-orga155b74" class="outline-4">
<h4 id="orga155b74"><span class="section-number-4">1.6.9</span> Using GDB to monitor Python interpreter</h4>
<div class="outline-text-4" id="text-1-6-9">
<p>
<b>Example: Using GDB for monitoring the execution of Python2</b>
</p>

<ul class="org-ul">
<li>Example GDB + Python2</li>
</ul>

<p>
Start the GDB session. 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ gdb --silent --args python test1.py 
Reading symbols from python...Reading symbols from /usr/lib/debug/usr/bin/python2.7-2.7.15-4.fc28.x86_64.debug...done.
done.
</pre>
</div>

<p>
Set session configuration:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) <span class="org-builtin">set</span> logging on
Copying output to gdb.txt.
(gdb) <span class="org-builtin">set</span> breakpoint pending on
(gdb) <span class="org-builtin">set</span> pagination off
(gdb) <span class="org-builtin">set</span> confirm off
(gdb) <span class="org-builtin">set</span> print pretty on 
</pre>
</div>

<p>
Set break point at main() function:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) b main
Breakpoint 1 at 0x810: file /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Modules/python.c, line 11.
</pre>
</div>

<p>
Start running the process:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r
Starting program: /usr/bin/python test1.py
[Thread debugging using libthread_db enabled]
Using host libthread_db library <span class="org-string">"/lib64/libthread_db.so.1"</span>.

Breakpoint 1, main (<span class="org-variable-name">argc</span>=2, <span class="org-variable-name">argv</span>=0x7fffffffd2b8) at /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Modules/python.c:11
11      {
(gdb) 
</pre>
</div>

<p>
Show information about current context: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) where
<span class="org-comment-delimiter">#</span><span class="org-comment">0  main (argc=2, argv=0x7fffffffd2b8) at /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Modules/python.c:11</span>

(gdb) list
6       <span class="org-comment-delimiter">#</span><span class="org-comment">include &lt;fenv.h&gt;</span>
7       <span class="org-comment-delimiter">#</span><span class="org-comment">endif</span>
8       
9       int
10      main(int argc, char **argv)
11      {
12              /* 754 requires that FP exceptions run<span class="org-keyword"> in</span> <span class="org-string">"no stop"</span> mode by default,
13               * and until C vendors implement C99<span class="org-string">'s ways to control FP exceptions,</span>
<span class="org-string">14               * Python requires non-stop mode.  Alas, some platforms enable FP</span>
<span class="org-string">15               * exceptions by default.  Here we disable them.</span>
<span class="org-string">(gdb) </span>
</pre>
</div>

<p>
Print current function arguments: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">$ info args </span>
(gdb) i args
argc = 2
argv = 0x7fffffffd2b8

(gdb) p argc
$<span class="org-variable-name">1</span> = 2

(gdb) p argv
$<span class="org-variable-name">2</span> = (char **) 0x7fffffffd2b8

(gdb) p argv[0]
$<span class="org-variable-name">3</span> = 0x7fffffffd67c <span class="org-string">"/usr/bin/python"</span>

(gdb) p argv[1]
$<span class="org-variable-name">4</span> = 0x7fffffffd68c <span class="org-string">"test1.py"</span>
(gdb) 
</pre>
</div>

<p>
Next step - command next or n:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
20              return Py_Main(argc, argv);

(gdb) n
0x00005555555547f0<span class="org-keyword"> in</span> Py_Main@plt ()
(gdb) i locals
No symbol table info available.

(gdb) n
Single stepping until exit from <span class="org-keyword">function</span> <span class="org-function-name">Py_Main</span>@plt,
which has no line number information.
<span class="org-function-name">Py_Main</span> () at /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Modules/main.c:245
245     {


(gdb) list
240     
241     /* Main program */
242     
243     int
244     Py_Main(int argc, char **argv)
245     {
246         int c;
247         int sts;
248         char *command = NULL;
249         char *filename = NULL;
(gdb) 
</pre>
</div>

<p>
Show function Py_Main arguments:
</p>
<ul class="org-ul">
<li>$ i args</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i args
argc = 2
argv = 0x7fffffffd2b8

(gdb) p argv[0]
$<span class="org-variable-name">5</span> = 0x7fffffffd67c <span class="org-string">"/usr/bin/python"</span>

(gdb) p argv[1]
$<span class="org-variable-name">6</span> = 0x7fffffffd68c <span class="org-string">"test1.py"</span>
(gdb) 
</pre>
</div>

<p>
Show local variables inside Py_Main: 
</p>
<ul class="org-ul">
<li>$ i locals</li>
<li>$ info locals</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">$ info locals </span>
(gdb) i locals

c = &lt;optimized out&gt;
sts = &lt;optimized out&gt;
<span class="org-builtin">command</span> = &lt;optimized out&gt;
filename = &lt;optimized out&gt;
module = &lt;optimized out&gt;
fp = &lt;optimized out&gt;
p = &lt;optimized out&gt;
unbuffered = &lt;optimized out&gt;
skipfirstline = &lt;optimized out&gt;
stdin_is_interactive = &lt;optimized out&gt;
<span class="org-builtin">help</span> = &lt;optimized out&gt;
version = &lt;optimized out&gt;
saw_unbuffered_flag = &lt;optimized out&gt;
cf = {
  cf_flags = 0
}
(gdb) 
</pre>
</div>

<p>
Execute and print variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
251         FILE *fp = stdin;

(gdb) n
273         while ((c = _PyOS_GetOpt(argc, argv, PROGRAM_OPTS)) <span class="org-negation-char">!</span>= EOF) {

(gdb) p fp
$<span class="org-variable-name">8</span> = (FILE *) 0x7ffff6fd0a00 &lt;_IO_2_1_stdin_&gt;

(gdb) n
290         if (<span class="org-negation-char">!</span>Py_HashRandomizationFlag &amp;&amp;
(gdb) p Py_HashRandomizationFlag 
$<span class="org-variable-name">9</span> = 0

(gdb) p !Py_HashRandomizationFlag 
$<span class="org-variable-name">10</span> = 1
(gdb) 

</pre>
</div>

<p>
Delete all breaking points: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) delete 
(gdb) i b
No breakpoints or watchpoints.
(gdb)
</pre>
</div>

<p>
Set new breakpoint at function PyEval_EvalFrameEx
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) b PyEval_EvalFrameEx
Breakpoint 6 at 0x7ffff7af6780: file /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Python/ceval.c, line 761.
</pre>
</div>


<p>
Restart process: the process restarts and runs until the first
breakpoint. 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) r
Starting program: /usr/bin/python test1.py
[Thread debugging using libthread_db enabled]
Using host libthread_db library <span class="org-string">"/lib64/libthread_db.so.1"</span>.

Breakpoint 6, PyEval_EvalFrameEx (<span class="org-variable-name">f</span>=f@<span class="org-variable-name">entry</span>=Frame 0x7ffff7f6d050, for file /usr/lib64/python2.7/site.py, line 59,<span class="org-keyword"> in</span> &lt;module&gt; (), <span class="org-variable-name">throwflag</span>=throwflag@<span class="org-variable-name">entry</span>=0) at /usr/src/debug/python2-2.7.15-4.fc28.x86_64/Python/ceval.c:761
761     {
(gdb) 
</pre>
</div>

<p>
List source code at current function:
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) list

756         return PyEval_EvalFrameEx(f, 0);
757     }
758     
759     PyObject *
760     PyEval_EvalFrameEx(PyFrameObject *f, int throwflag)
761     {
762     <span class="org-comment-delimiter">#</span><span class="org-comment">ifdef DYNAMIC_EXECUTION_PROFILE</span>
763         <span class="org-comment-delimiter">#</span><span class="org-comment">undef USE_COMPUTED_GOTOS</span>
764     <span class="org-comment-delimiter">#</span><span class="org-comment">endif</span>
765     <span class="org-comment-delimiter">#</span><span class="org-comment">ifdef HAVE_COMPUTED_GOTOS</span>
(gdb) 

</pre>
</div>

<p>
Keep tracing the execution: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) n
1249            opcode = NEXTOP();

(gdb) n
1252            if (HAS_ARG(opcode))

(gdb) p opcode
$<span class="org-variable-name">21</span> = 100
(gdb) n
1253                oparg = NEXTARG();

(gdb) n
1281            switch (opcode) {

(gdb) p oparg
$<span class="org-variable-name">22</span> = &lt;optimized out&gt;

(gdb) n
1311                x = GETITEM(consts, oparg);

(gdb) n
1313                PUSH(x);

(gdb) n
1314                FAST_DISPATCH();

(gdb) p x
$<span class="org-variable-name">23</span> = <span class="org-string">"Append module search paths for third-party packages to sys.path.... ... .."</span>
(gdb) 
.. ... .. ... .. ... .. ... .. ... 

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org778a8e3" class="outline-3">
<h3 id="org778a8e3"><span class="section-number-3">1.7</span> Session automation with command files</h3>
<div class="outline-text-3" id="text-1-7">
<p>
Configuring GDB and setting all breakpoints on every GDB session can
be cumbersome and annoying. The GDB debugging session can be automated
with GDB command files or script files.
</p>

<p>
Example:
</p>

<p>
File: <b>script.gdb</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ cat script.gdb 
<span class="org-builtin">set</span> logging on
<span class="org-builtin">set</span> breakpoint pending on

<span class="org-comment-delimiter"># </span><span class="org-comment">program/executable to be run </span>
exec-file python

<span class="org-comment-delimiter"># </span><span class="org-comment">Set source directory to current directory </span>
dir .

<span class="org-comment-delimiter"># </span><span class="org-comment">Load symbols from shared library </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">file typesdb.so </span>

<span class="org-comment-delimiter"># </span><span class="org-comment">Set breakpoint at main </span>
b main
<span class="org-comment-delimiter"># </span><span class="org-comment">--- Breakpoint at functions loaded from</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">shared library typesdb.so </span>
b VariantArgs_add_int
b VariantArgs_add_cchar
b typedb_call_function_void

<span class="org-comment-delimiter"># </span><span class="org-comment">Run executable with some arguments</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">It is similar to run:</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">$ gdb --args python -i test1.py </span>
run -i test1.py
</pre>
</div>

<p>
This GDB script is used for debugging the typesdb.so shared library
loaded dynamically by the python interpreter. 
</p>

<p>
<b>File parts:</b>
</p>

<ul class="org-ul">
<li>Sets the executable/program/application to be debugged:</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">exec-file python
</pre>
</div>

<ul class="org-ul">
<li>Set breakpoints</li>
</ul>

<p>
The breakpoints can be lines, functions or class methods (member
functions):
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Set breakpoint at main </span>
b main
<span class="org-comment-delimiter"># </span><span class="org-comment">--- Breakpoint at functions loaded from</span>
<span class="org-comment-delimiter"># </span><span class="org-comment">shared library typesdb.so </span>
b VariantArgs_add_int
b VariantArgs_add_cchar
b typedb_call_function_void
</pre>
</div>

<p>
The break points could also be set as: 
</p>

<div class="org-src-container">
<pre class="src src-sh">b 200                          <span class="org-comment-delimiter"># </span><span class="org-comment">set breakpoint at line 200 </span>
b MyClass::SomeMemberFunction  <span class="org-comment-delimiter"># </span><span class="org-comment">set B.P. at some class method </span>
</pre>
</div>

<ul class="org-ul">
<li>Run executable and start debugging:</li>
</ul>

<p>
This command will run: python -i test1.py that loads the shared
library typesdb.so into the Python process. The library is loaded
using Python ctypes library. 
</p>

<div class="org-src-container">
<pre class="src src-sh">run -i test1.py
</pre>
</div>

<p>
<b>Run command file from command line</b>
</p>

<div class="org-src-container">
<pre class="src src-sh">$ gdb -x &lt;GDB-COMMAND-FILE&gt;
$ gdb -x script.gdb 
</pre>
</div>


<p>
<b>Testing the file on GDB</b>
</p>

<ul class="org-ul">
<li>$ source &lt;GDB-COMMAND-FILE&gt;</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">$ gdb --silent 

(gdb) <span class="org-builtin">source</span> script.gdb 

No symbol table is loaded.  Use the <span class="org-string">"file"</span> command.
Breakpoint 1 (main) pending.
No symbol table is loaded.  Use the <span class="org-string">"file"</span> command.
Breakpoint 2 (VariantArgs_add_int) pending.
No symbol table is loaded.  Use the <span class="org-string">"file"</span> command.
Breakpoint 3 (VariantArgs_add_cchar) pending.
No symbol table is loaded.  Use the <span class="org-string">"file"</span> command.
Breakpoint 4 (typedb_call_function_void) pending.
[Thread debugging using libthread_db enabled]
Using host libthread_db library <span class="org-string">"/lib64/libthread_db.so.1"</span>.
<span class="org-function-name">init.cpp</span>:242: [TRACE] Registered static objects OK.
<span class="org-function-name">init.cpp</span>:159: [TRACE]  &lt;C++&gt; CashFlow class created. OK.
 [INFO] address of ArgTuple = 555555824ba0

Breakpoint 2, VariantArgs_add_int (<span class="org-variable-name">ptr</span>=0x555555824ba0, <span class="org-variable-name">x</span>=3) at init.cpp:328
328             ptr-&gt;push_back(x);
Missing separate debuginfos, use: dnf debuginfo-install ncurses-libs-6.1-5.20180224.fc28.x86_64 readline-7.0-11.fc28.x86_64
(gdb) 
</pre>
</div>

<p>
List source at current break point: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) list
323     
324     extern <span class="org-string">"C"</span>
325     auto VariantArgs_add_int(ArgTuple* ptr, int x) -&gt; void
326     {
327             // auto ptr = reinterpret_cast&lt;ArgTuple*&gt;(hnd);
328             ptr-&gt;push_back(x);
329     }
330     
331     extern <span class="org-string">"C"</span>
332     auto VariantArgs_add_double(ArgTuple* ptr, double x) -&gt; void
(gdb) 

</pre>
</div>

<p>
Print function arguments: 
</p>

<div class="org-src-container">
<pre class="src src-sh"> (gdb) i args
 ptr = 0x555555824ba0
 x = 3
 (gdb) 

(gdb) p *ptr
$<span class="org-variable-name">3</span> = std::vector of length 0, capacity 3

(gdb) n
329     }

(gdb) p *ptr
$<span class="org-variable-name">4</span> = std::vector of length 1, capacity 3 = {std::any containing int = {
    [contained value] = 3
  }}
(gdb) 

(gdb) p ptr-&gt;operator[](0)
$<span class="org-variable-name">6</span> = std::any containing int = {
  [contained value] = 3
}
</pre>
</div>

<p>
Continue until next break point: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) c
Continuing.

Breakpoint 3, VariantArgs_add_cchar (<span class="org-variable-name">ptr</span>=0x555555824ba0, <span class="org-variable-name">text</span>=0x7ffff7e7ae54 <span class="org-string">"Some C++ is not bad at all"</span>) at init.cpp:342
342             ptr-&gt;push_back(text);
(gdb) 
</pre>
</div>

<p>
Print function arguments: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i args
name = 0x7ffff7e1b4ec <span class="org-string">"functionTest1"</span>
args = 0x555555824ba0

(gdb) p *args
$<span class="org-variable-name">7</span> = std::vector of length 3, capacity 3 = {std::any containing int = {
    [contained value] = 3
  }, std::any containing double = {
    [contained value] = 15.68
  }, std::any containing const char * = {
    [contained value] = 0x7ffff7e7ae54 <span class="org-string">"\377\177"</span>
  }}
(gdb) 
</pre>
</div>

<p>
Print components of args (std::vector&lt;std::any&gt;)
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) p args-&gt;operator[](0)
$<span class="org-variable-name">10</span> = std::any containing int = {
  [contained value] = 3
}

(gdb) p args-&gt;operator[](1)
$<span class="org-variable-name">11</span> = std::any containing double = {
  [contained value] = 15.68
}

(gdb) p args-&gt;operator[](2)
$<span class="org-variable-name">12</span> = std::any containing const char * = {
  [contained value] = 0x7ffff7e7ae54 <span class="org-string">"\377\177"</span>
}
(gdb) 

(gdb) p (*args)[0]
$<span class="org-variable-name">14</span> = std::any containing int = {
  [contained value] = 3
}

(gdb) p (*args)[1]
$<span class="org-variable-name">15</span> = std::any containing double = {
  [contained value] = 15.68
}

(gdb) p (*args)[2]
$<span class="org-variable-name">16</span> = std::any containing const char * = {
  [contained value] = 0x7ffff7e7ae54 <span class="org-string">"\377\177"</span>
}
</pre>
</div>

<p>
Display local variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(gdb) i locals

db = std::map with 2 elements = {
  [<span class="org-string">"CashFlow"</span>] = std::unique_ptr&lt;Type&gt; = {
    get() = 0x5555558503d0
  },
  [<span class="org-string">"functionTest1"</span>] = std::unique_ptr&lt;Type&gt; = {
    get() = 0x55555584d4e0
  }
}
it = {
  first = <span class="org-string">"functionTest1"</span>,
  second = std::unique_ptr&lt;Type&gt; = {
    get() = 0x55555584d4e0
  }
}
pFunc = 0xe5ebd5af422c7900
(gdb) 
</pre>
</div>
</div>
</div>

<div id="outline-container-org0852466" class="outline-3">
<h3 id="org0852466"><span class="section-number-3">1.8</span> Extensions and scripts</h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li><a href="http://man7.org/linux/man-pages/man5/gdbinit.5.html">gdbinit</a> - GDB Initialization script.</li>

<li><a href="https://github.com/pwndbg/pwndbg">https://github.com/pwndbg/pwndbg</a> 
<ul class="org-ul">
<li>Site: <a href="http://pwndbg.com/">http://pwndbg.com/</a></li>
<li>"pwndbg (<i>poʊndbæg</i>) is a GDB plug-in that makes debugging with GDB
suck less, with a focus on features needed by low-level software
developers, hardware hackers, reverse-engineers and exploit
developers. It has a boatload of features, see FEATURES.md."</li>
<li>Features:
<ul class="org-ul">
<li>See: <a href="https://github.com/pwndbg/pwndbg/blob/dev/FEATURES.md">https://github.com/pwndbg/pwndbg/blob/dev/FEATURES.md</a></li>
</ul></li>
</ul></li>

<li><a href="https://github.com/longld/peda">https://github.com/longld/peda</a> - PEDA - Python Exploit Development Assistance for GDB
<ul class="org-ul">
<li>Enhance the display of gdb: colorize and display disassembly
codes, registers, memory information during debugging. Add
commands to support debugging and exploit development (for a full
list of commands use peda help):</li>
</ul></li>

<li><a href="https://github.com/gdbinit/gdbinit">https://github.com/gdbinit/gdbinit</a>
<ul class="org-ul">
<li>Gdbinit for OS X, iOS and others - x86, x86_64 and ARM <a href="https://reverse.put.as">https://reverse.put.as</a></li>
</ul></li>

<li><a href="https://github.com/dholm/dotgdb">https://github.com/dholm/dotgdb</a>
<ul class="org-ul">
<li>GDB scripts to add support for low level debugging and reverse
engineering.</li>
</ul></li>

<li><a href="https://github.com/cyrus-and/gdb-dashboard">https://github.com/cyrus-and/gdb-dashboard</a>
<ul class="org-ul">
<li>Modular visual interface for GDB in Python.</li>
<li>Desc: "This comes as a standalone single-file .gdbinit which,
among the other things, enables a configurable dashboard showing
the most relevant information during the program execution. Its
main goal is to reduce the number of GDB commands issued to
inspect the current program status allowing the programmer to
focus on the control flow instead."</li>
</ul></li>

<li><a href="https://github.com/eteran/edb-debugger">https://github.com/eteran/edb-debugger</a>
<ul class="org-ul">
<li>"edb is a cross platform AArch32/x86/x86-64 debugger. It was
inspired by Ollydbg, but aims to function on AArch32, x86, and
x86-64 as well as multiple OS's. Linux is the only officially
supported platform at the moment, but FreeBSD, OpenBSD, OSX and
Windows ports are underway with varying degrees of
functionality."</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org00495a8" class="outline-3">
<h3 id="org00495a8"><span class="section-number-3">1.9</span> References, Bookmarks and Further Reading</h3>
<div class="outline-text-3" id="text-1-9">
</div>
<div id="outline-container-orgadef64c" class="outline-4">
<h4 id="orgadef64c"><span class="section-number-4">1.9.1</span> Selected GDB Documentation</h4>
<div class="outline-text-4" id="text-1-9-1">
<ul class="org-ul">
<li><a href="https://sourceware.org/gdb/onlinedocs/gdb/Core-File-Generation.html#Core-File-Generation">Debugging with GDB: Core File Generation</a></li>

<li><a href="https://sourceware.org/gdb/onlinedocs/gdb/Dump_002fRestore-Files.html">Debugging with GDB: Dump/Restore Files</a></li>

<li></li>


<li></li>
</ul>
</div>
</div>
<div id="outline-container-org644f6d9" class="outline-4">
<h4 id="org644f6d9"><span class="section-number-4">1.9.2</span> Bookmarks and further reading</h4>
<div class="outline-text-4" id="text-1-9-2">
<ul class="org-ul">
<li><a href="https://www.recurse.com/blog/5-learning-c-with-gdb">Learning C with gdb - Blog - Recurse Center</a></li>

<li><a href="http://faculty.kutztown.edu/spiegel/Debugging/DebugPrimer.htm">Simple Use of GDB</a> (GDB usage from Emacs)</li>

<li><a href="http://peeterjoot.com/category/cc-development-and-debugging/">Peeter Joot's Blog » C/C++ development and debugging.</a></li>

<li>GDB Manual: <a href="https://users.encs.concordia.ca/~adnna_dz/files/gdb.pdf">https://users.encs.concordia.ca/~adnna_dz/files/gdb.pdf</a></li>

<li><a href="https://hgad.net/posts/object-inspection-in-gdb/">Object Inspection in GDB</a></li>

<li><a href="http://heather.cs.ucdavis.edu/~matloff/UnixAndC/CLanguage/Debug.html">Guide to Faster, Less Frustrating Debugging</a></li>

<li><a href="https://www.linux.com/blog/tracing-user-space-and-operating-system-interactions">Tracing the User Space and Operating System Interactions | Linux.com | The source for Linux information</a></li>

<li><a href="https://stackoverflow.com/questions/12773101/gdb-assembly-instruction-calculation">c - GDB: Assembly instruction calculation - Stack Overflow</a></li>

<li><a href="http://visualgdb.com/gdbreference/commands/x">GDB Command Reference - x command</a></li>

<li><a href="https://suchakra.wordpress.com/2016/06/29/fast-tracing-with-gdb/">Fast Tracing with GDB – Tuxology</a></li>
</ul>
</div>
</div>
<div id="outline-container-org145dd58" class="outline-4">
<h4 id="org145dd58"><span class="section-number-4">1.9.3</span> Videos</h4>
<div class="outline-text-4" id="text-1-9-3">
<ul class="org-ul">
<li><a href="https://www.youtube.com/watch?v=-3toI8L3Oug">Visual Studio GDB Debugger</a></li>

<li><a href="https://www.youtube.com/watch?v=xQ0ONbt-qPs">Quick Intro to gdb</a></li>

<li><a href="https://www.youtube.com/watch?v=713ay4bZUrw&amp;feature=youtu.be">'Become a GDB Power User' - Greg Law  ACCU 2016</a>
<ul class="org-ul">
<li>"If you’re writing C++ for anything other than Windows, chances
are that you occasionally break out GDB. This session presents
some of the lesser known features of GDB that can change the way
you debug. GDB has come a long way in the last few years and does
so much more than break, print, step and continue. Reversible
debugging; Non-Stop Mode; Multi-process Debugging; and Dynamic
Printf are but some of its best features, and its built-in Python
scripting is particularly powerful. Join Undo Software co-founder
and CEO, Greg Law, as he takes you through a series of demos to
show some amazing tricks with GDB, and powerful new (and
not-so-new) features that you may not have heard of."</li>
</ul></li>

<li><a href="https://www.youtube.com/watch?v=-n9Fkq1e6sg">CppCon 2016: Greg Law “GDB - A Lot More Than You Knew"</a>
<ul class="org-ul">
<li>"If you’re writing C++ for anything other than Windows, chances
are that you occasionally break out GDB. This session presents
some of the lesser known features of GDB that can change the way
you debug. GDB has come a long way in the last few years and now
does so much more than break, print, step and
continue. Reversible debugging; Non-Stop Mode; Multi-process
Debugging; and Dynamic Printf are but some of its best features,
and its built-in Python scripting is particularly powerful. Join
Undo co-founder and CEO, Greg Law, as he takes you through a
series of demos to show some amazing tricks with GDB and some of
its powerful new (and not-so-new) features that you may not have
heard of."</li>
</ul></li>

<li><a href="https://www.youtube.com/watch?v=PorfLSr3DDI">CppCon 2015: Greg Law "Give me 15 minutes &amp; I'll change your view of GDB"</a></li>
</ul>
</div>
</div>
<div id="outline-container-org97d3600" class="outline-4">
<h4 id="org97d3600"><span class="section-number-4">1.9.4</span> Reverse Engineering</h4>
<div class="outline-text-4" id="text-1-9-4">
<ul class="org-ul">
<li><a href="https://reverseengineering.stackexchange.com/questions/1392/decent-gui-for-gdb">debuggers - Decent GUI for GDB - Reverse Engineering Stack Exchange</a></li>

<li><a href="http://liveoverflow.com/binary_hacking/reverse_engineering.html">Reverse Engineering - LiveOverflow</a></li>

<li><a href="https://stackoverflow.com/questions/6473908/can-gdb-change-the-assembly-code-of-a-running-program">linux - Can GDB change the assembly code of a running program? - Stack Overflow</a></li>

<li><a href="https://bob.cs.sonoma.edu/IntroCompOrg-x64/bookap3.html">C Using the gdb Debugger for Assembly Language</a></li>
</ul>
</div>
</div>

<div id="outline-container-org092ab92" class="outline-4">
<h4 id="org092ab92"><span class="section-number-4">1.9.5</span> References</h4>
<div class="outline-text-4" id="text-1-9-5">
<ul class="org-ul">
<li><a href="https://betterexplained.com/articles/debugging-with-gdb/">https://betterexplained.com/articles/debugging-with-gdb/</a></li>

<li><a href="http://www.yolinux.com/TUTORIALS/GDB-Commands.html">Linux Tutorial - GNU GDB Debugger Command Cheat Sheet</a></li>

<li><a href="http://cseweb.ucsd.edu/classes/fa09/cse141/tutorial_gcc_gdb.html#gcc_flags">Tutorial of gcc and gdb</a></li>

<li><a href="http://web.eecs.utk.edu/~bvz/cs140/Notes/Recursion/debug.html">CS140 Lecture notes &#x2013; Recursion Debugging Example</a></li>

<li><a href="https://drive.google.com/viewerng/viewer?url=https://www.cs.tau.ac.il/telux/lecture-notes/GDB_Linux_telux.pptx">Debugging with GDB</a></li>

<li><a href="https://www.cs.dartmouth.edu/~campbell/cs50/gdb.html">gdb – Debugging buggy code with the GNU debugger</a></li>

<li><a href="http://www.haifux.org/lectures/211/gdb_-_customize_it.html">gdb - customize it the way &lt;b&gt;you&lt;/b&gt; want</a></li>

<li><a href="https://reverseengineering.stackexchange.com/questions/19598/find-base-address-and-memory-size-of-program-debugged-in-gdb">debugging - Find base address and memory size of program debugged in gdb - Reverse Engineering Stack Exchange</a></li>

<li><a href="http://www.cse.psu.edu/~deh25/cmpsc311/Lectures/GDB.html">CMPSC 311 - GDB</a></li>

<li><a href="http://csapp.cs.cmu.edu/public/docs/gdbnotes-ia32.pdf">http://csapp.cs.cmu.edu/public/docs/gdbnotes-ia32.pdf</a></li>

<li><a href="https://cs.baylor.edu/~donahoo/tools/gdb/gdb.html">Debugging with GDB</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd174135" class="outline-2">
<h2 id="orgd174135"><span class="section-number-2">2</span> <span class="todo TODO">TODO</span> LLDB - Lllvm Debugger</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org2556063" class="outline-3">
<h3 id="org2556063"><span class="section-number-3">2.1</span> Overview</h3>
<div class="outline-text-3" id="text-2-1">
<p>
Outline: 
</p>

<ul class="org-ul">
<li>"LLDB is a next generation, high-performance debugger. It is built
as a set of reusable components which highly leverage existing
libraries in the larger LLVM Project, such as the Clang expression
parser and LLVM disassembler." (<a href="https://lldb.llvm.org/">llvm</a>)</li>
</ul>

<p>
Supported Platforms and Hardware:
</p>

<ul class="org-ul">
<li>macOS desktop user space debugging for i386 and x86_64</li>
<li>iOS, tvOS, and watchOS simulator debugging on i386 and x86_64</li>
<li>iOS, tvOS, and watchOS device debugging on ARM and AArch64</li>
<li>Linux local user-space debugging for i386, x86_64 and PPC64le</li>
<li>FreeBSD local user-space debugging for i386 and x86_64</li>
<li>Windows local user-space debugging for i386 (*)</li>
</ul>

<p>
<b>Command Summary</b> 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
<th scope="col" class="org-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Breaking Point</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">br list</td>
<td class="org-left">List all breaking points</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">breakpoint list</td>
<td class="org-left">List all breaking points</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b 200</td>
<td class="org-left">Set breaking point at line 200</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b main</td>
<td class="org-left">Set breaking point at function main</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b foo</td>
<td class="org-left">Set breaking point at function foo</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">br del 1</td>
<td class="org-left">Delete breaking point 1</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">br del 1 2 3 4</td>
<td class="org-left">Delete breaking points 1, 2, 3 and 4.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Execution</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">r or run</td>
<td class="org-left">Run/Restart executable being debugged</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-left">Continue to run program until the next breaking point</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-left">Step out - Execute next line or function wihout entering it.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-left">Step in  - Enter the function</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Information</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">frame variables</td>
<td class="org-left">Show local variables of current functions</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">register read</td>
<td class="org-left">Show the CPU registers for the current process</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p/x $rip</td>
<td class="org-left">Show RIP  IA64 - x64-86 CPU register in hex. format.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">p/i $eip</td>
<td class="org-left">Show CPU instruction executed at the address stored in EIP register.</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/20c  0x00007fffffffcaf0</td>
<td class="org-left">Show 10 characters from address 0x00007fffffffcaf0</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/s    0x00007fffffffcaf0</td>
<td class="org-left">Show 1 string from address 0x00007fffffffcaf0</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/3s   0x00007fffffffcaf0</td>
<td class="org-left">Show 3 strings from address 0x00007fffffffcaf0</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/wx   0x00007fffffffc550</td>
<td class="org-left">Show 1 WORD (32 bits number) at address 0x00007fffffffc550</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">x/10wx 0x00007fffffffc550</td>
<td class="org-left">Show 10 WORDs from address 0x00007fffffffc550</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><b>Misc</b></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">gui</td>
<td class="org-left">Open a TUI - Terminal User Interface GUI</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>


<p>
Note: 
</p>

<ul class="org-ul">
<li>CPU Instruction Pointer Registers.
<ul class="org-ul">
<li>x86 - IA32 =&gt; EIP (Extended Instruction Pointer)</li>
<li>x64-86 - IA64 =&gt; RIP</li>
</ul></li>

<li>String:
<ul class="org-ul">
<li>In this context means (const char* or char*) null terminated
char array.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgeadc432" class="outline-3">
<h3 id="orgeadc432"><span class="section-number-3">2.2</span> Example - Debugging a source code</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org20cc4d7" class="outline-4">
<h4 id="org20cc4d7"><span class="section-number-4">2.2.1</span> Sample program</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
File: lldb-test.cpp 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">memory</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">functional</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>


<span class="org-keyword">struct</span> <span class="org-type">Functor</span><span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-type">double</span> <span class="org-variable-name">a</span> = 0.0;
  <span class="org-type">double</span> <span class="org-variable-name">b</span> = 0.0;

  <span class="org-function-name">Functor</span><span class="org-rainbow-delimiters-depth-2">(){}</span>;
  <span class="org-function-name">Functor</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span> <span class="org-variable-name">aa</span>, <span class="org-type">double</span> <span class="org-variable-name">bb</span><span class="org-rainbow-delimiters-depth-2">)</span>: a<span class="org-rainbow-delimiters-depth-2">(</span>aa<span class="org-rainbow-delimiters-depth-2">)</span>, b<span class="org-rainbow-delimiters-depth-2">(</span>bb<span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-rainbow-delimiters-depth-2">}</span>

  <span class="org-type">double</span> <span class="org-keyword">operator</span><span class="org-function-name"><span class="org-rainbow-delimiters-depth-2">()</span></span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">double</span> <span class="org-variable-name">x</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span>
    <span class="org-keyword">return</span> a * x + b;
  <span class="org-rainbow-delimiters-depth-2">}</span>    
<span class="org-rainbow-delimiters-depth-1">}</span>;


<span class="org-type">int</span> <span class="org-function-name">factorial</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">n</span><span class="org-rainbow-delimiters-depth-1">){</span>
    <span class="org-type">int</span> <span class="org-variable-name">prod</span> = 1;
    <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">i</span> = 1; i &lt;= n; i++<span class="org-rainbow-delimiters-depth-2">)</span>
        prod *= i;
    <span class="org-keyword">return</span> prod;
<span class="org-rainbow-delimiters-depth-1">}</span>

<span class="org-keyword">struct</span> <span class="org-type">Date</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">int</span> <span class="org-variable-name">year</span>;
    <span class="org-type">int</span> <span class="org-variable-name">month</span>;
    <span class="org-type">int</span> <span class="org-variable-name">day</span>;
    <span class="org-function-name">Date</span><span class="org-rainbow-delimiters-depth-2">(){}</span>
    <span class="org-function-name">Date</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">year</span>, <span class="org-type">int</span> <span class="org-variable-name">month</span>, <span class="org-type">int</span> <span class="org-variable-name">day</span><span class="org-rainbow-delimiters-depth-2">)</span>
        : year<span class="org-rainbow-delimiters-depth-2">(</span>year<span class="org-rainbow-delimiters-depth-2">)</span>
        , month<span class="org-rainbow-delimiters-depth-2">(</span>month<span class="org-rainbow-delimiters-depth-2">)</span>
        , day<span class="org-rainbow-delimiters-depth-2">(</span>day<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Comparison operator required by  EXPECT_EQ</span>
    <span class="org-type">bool</span> <span class="org-keyword">operator</span><span class="org-function-name">==</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">Date</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">rhs</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-keyword">const</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">return</span> year  == rhs.year
            &amp;&amp; month == rhs.month
            &amp;&amp; day   == rhs.day;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for make class printable in GTest</span>
    <span class="org-keyword">friend</span> <span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-keyword">operator</span><span class="org-function-name">&lt;&lt;</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-constant">std</span>::<span class="org-type">ostream</span>&amp; <span class="org-variable-name">os</span>, <span class="org-type">Date</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">rhs</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">return</span> os &lt;&lt; <span class="org-string">"Date { "</span> &lt;&lt; rhs.year &lt;&lt; <span class="org-string">" ; "</span>
                  &lt;&lt; rhs.month &lt;&lt; <span class="org-string">" ; "</span>
                  &lt;&lt; rhs.day &lt;&lt; <span class="org-string">" } "</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
<span class="org-rainbow-delimiters-depth-1">}</span>;

<span class="org-type">Date</span>
<span class="org-function-name">GregorianEasterSunday</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">y</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">int</span> <span class="org-variable-name">c</span> = y / 100;
    <span class="org-type">int</span> <span class="org-variable-name">n</span> = y - 19 * <span class="org-rainbow-delimiters-depth-2">(</span> y / 19 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">k</span> = <span class="org-rainbow-delimiters-depth-2">(</span> c - 17 <span class="org-rainbow-delimiters-depth-2">)</span> / 25;
    <span class="org-type">int</span> <span class="org-variable-name">i</span> = c - c / 4 - <span class="org-rainbow-delimiters-depth-2">(</span> c - k <span class="org-rainbow-delimiters-depth-2">)</span> / 3 + 19 * n + 15;
    i = i - 30 * <span class="org-rainbow-delimiters-depth-2">(</span> i / 30 <span class="org-rainbow-delimiters-depth-2">)</span>;
    i = i - <span class="org-rainbow-delimiters-depth-2">(</span> i / 28 <span class="org-rainbow-delimiters-depth-2">)</span> * <span class="org-rainbow-delimiters-depth-2">(</span> 1 - <span class="org-rainbow-delimiters-depth-3">(</span> i / 28 <span class="org-rainbow-delimiters-depth-3">)</span>
          * <span class="org-rainbow-delimiters-depth-3">(</span> 29 / <span class="org-rainbow-delimiters-depth-4">(</span> i + 1 <span class="org-rainbow-delimiters-depth-4">)</span> <span class="org-rainbow-delimiters-depth-3">)</span>
          * <span class="org-rainbow-delimiters-depth-3">(</span> <span class="org-rainbow-delimiters-depth-4">(</span> 21 - n <span class="org-rainbow-delimiters-depth-4">)</span> / 11 <span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">j</span> = y + y / 4 + i + 2 - c + c / 4;
    j = j - 7 * <span class="org-rainbow-delimiters-depth-2">(</span> j / 7 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-type">int</span> <span class="org-variable-name">l</span> = i - j;
    <span class="org-type">int</span> <span class="org-variable-name">m</span> = 3 + <span class="org-rainbow-delimiters-depth-2">(</span> l + 40 <span class="org-rainbow-delimiters-depth-2">)</span> / 44;
    <span class="org-type">int</span> <span class="org-variable-name">d</span> = l + 28 - 31 * <span class="org-rainbow-delimiters-depth-2">(</span> m / 4 <span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">return</span> Date<span class="org-rainbow-delimiters-depth-2">(</span>y, m, d<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>


<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span>** <span class="org-variable-name">argv</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-keyword">auto</span> <span class="org-variable-name">f1</span> = Functor<span class="org-rainbow-delimiters-depth-2">(</span>3, 5<span class="org-rainbow-delimiters-depth-2">)</span>;
  <span class="org-keyword">auto</span> <span class="org-variable-name">f2</span> = Functor<span class="org-rainbow-delimiters-depth-2">(</span>6, 10<span class="org-rainbow-delimiters-depth-2">)</span>;

  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>5.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(7) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>7.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f1(8) = "</span> &lt;&lt; f1<span class="org-rainbow-delimiters-depth-2">(</span>8.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(5) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>5.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(7) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>7.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"f2(8) = "</span> &lt;&lt; f2<span class="org-rainbow-delimiters-depth-2">(</span>8.0<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"========================================="</span><span class="org-rainbow-delimiters-depth-2">)</span>;

  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2005, 3, 27), GregorianEasterSunday(2005));</span>
  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2008, 3, 23), GregorianEasterSunday(2008));</span>
  <span class="org-comment-delimiter">// </span><span class="org-comment">EXPECT_EQ(Date(2010, 4, 4),  GregorianEasterSunday(2010));</span>
  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" GregorianEasterSunday(2010)  = "</span>
            &lt;&lt; GregorianEasterSunday<span class="org-rainbow-delimiters-depth-2">(</span>2010<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;

  <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" GregorianEasterSunday(208)  = "</span>
            &lt;&lt; GregorianEasterSunday<span class="org-rainbow-delimiters-depth-2">(</span>2008<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
  <span class="org-keyword">return</span> 0;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Building with debugging symbols: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ g++ lldb-test.cpp -o <span class="org-keyword">lldb-test.bin</span> -std=c++1z -ggdb -O0 -Wall -Wextra
</pre>
</div>
</div>
</div>

<div id="outline-container-org7afc926" class="outline-4">
<h4 id="org7afc926"><span class="section-number-4">2.2.2</span> Debug Session</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
Load the executable in LLDB Debugger: 
</p>

<div class="org-src-container">
<pre class="src src-sh"> $ lldb lldb-test.bin 
(lldb) target create <span class="org-string">"lldb-test.bin"</span>
Current executable set to <span class="org-string">'lldb-test.bin'</span> (x86_64)<span class="org-builtin">.</span>
</pre>
</div>

<p>
List current executable and all depedent shared libraries:
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) image list
[  0] 45A7479B-D17E-3A06-A342-299376E7BAA9-E756535F                    /home/user/projects/lldb-test.bin
</pre>
</div>

<p>
List main() function: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) list main
<span class="org-function-name">File</span>: /home/user/projects/lldb-test.cpp
   70       int d = l + 28 - 31 * ( m / 4 );
   71       return Date(y, m, d);
   72   }
   73   
   74   
   75   int main(int argc, char** argv)
   76   {
   77     auto f1 = Functor(3, 5);
   78     auto f2 = Functor(6, 10);
   79   
   80     std::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1(5.0) &lt;&lt; std::endl;
<span class="org-sh-heredoc">(lldb) </span>

</pre>
</div>

<p>
Set breaking points at main():
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) b main
Breakpoint 1: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 16 at lldb-test.cpp:77, address = 0x0000000000400aec</span>
</pre>
</div>

<p>
Set breaking points at lines 88 and 93: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) b 88
Breakpoint 2: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 426 at lldb-test.cpp:88, address = 0x0000000000400c86</span>

<span class="org-sh-quoted-exec">(lldb) b 93</span>
<span class="org-sh-quoted-exec">Breakpoint 3: where = lldb-test.bin`</span>main + 436 at lldb-test.cpp:93, address = 0x0000000000400c90
</pre>
</div>

<p>
List breaking points: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) breakpoint list
Current breakpoints:
<span class="org-function-name">1</span>: name = <span class="org-string">'main'</span>, locations = 1
  1.1: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 16 at lldb-test.cpp:77, address = lldb-test.bin[0x0000000000400aec], unresolved, hit count = 0 </span>

<span class="org-sh-quoted-exec">2: file = '/home/user/projects/lldb-test.cpp', line = 88, exact_match = 0, locations = 1</span>
<span class="org-sh-quoted-exec">  2.1: where = lldb-test.bin`</span>main + 426 at lldb-test.cpp:88, address = lldb-test.bin[0x0000000000400c86], unresolved, hit count = 0 

<span class="org-function-name">3</span>: file = <span class="org-string">'/home/user/projects/lldb-test.cpp'</span>, line = 93, exact_match = 0, locations = 1
  3.1: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 436 at lldb-test.cpp:93, address = lldb-test.bin[0x0000000000400c90], unresolved, hit count = 0 </span>

<span class="org-sh-quoted-exec">4: file = '/home/user/projects/lldb-test.cpp', line = 93, exact_match = 0, locations = 1</span>
<span class="org-sh-quoted-exec">  4.1: where = lldb-test.bin`</span>main + 436 at lldb-test.cpp:93, address = lldb-test.bin[0x0000000000400c90], unresolved, hit count = 0 

<span class="org-function-name">5</span>: name = <span class="org-string">'list'</span>, locations = 0 (pending)
</pre>
</div>

<p>
List breaking point (alternative): 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) br list
Current breakpoints:
<span class="org-function-name">1</span>: name = <span class="org-string">'main'</span>, locations = 1, resolved = 1, hit count = 2
  1.1: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 16 at lldb-test.cpp:77, address = 0x0000000000400aec, resolved, hit count = 2 </span>

<span class="org-sh-quoted-exec">2: file = '/home/user/projects/lldb-test.cpp', line = 88, exact_match = 0, locations = 1, resolved = 1, hit count = 2</span>
<span class="org-sh-quoted-exec">  2.1: where = lldb-test.bin`</span>main + 426 at lldb-test.cpp:88, address = 0x0000000000400c86, resolved, hit count = 2 

<span class="org-function-name">3</span>: file = <span class="org-string">'/home/user/projects/lldb-test.cpp'</span>, line = 93, exact_match = 0, locations = 1, resolved = 1, hit count = 2
  3.1: where = lldb-test.bin<span class="org-sh-quoted-exec">`main + 436 at lldb-test.cpp:93, address = 0x0000000000400c90, resolved, hit count = 2 </span>

<span class="org-sh-quoted-exec">4: file = '/home/user/projects/lldb-test.cpp', line = 93, exact_match = 0, locations = 1, resolved = 1, hit count = 2</span>
<span class="org-sh-quoted-exec">  4.1: where = lldb-test.bin`</span>main + 436 at lldb-test.cpp:93, address = 0x0000000000400c90, resolved, hit count = 2 

<span class="org-function-name">5</span>: name = <span class="org-string">'list'</span>, locations = 0 (pending)
</pre>
</div>

<p>
Run program: 
</p>
<ul class="org-ul">
<li>(lldb) r</li>
<li>(lldb) run</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">(lldb) r

Process 713 launched: <span class="org-string">'/home/user/projects/lldb-test.bin'</span> (x86_64)
Process 713 stopped
* thread <span class="org-comment-delimiter">#</span><span class="org-comment">1, name = 'lldb-test.bin', stop reason = breakpoint 1.1</span>
    frame <span class="org-comment-delimiter">#</span><span class="org-comment">0: 0x0000000000400aec lldb-test.bin`main(argc=1, argv=0x00007fffffffc668) at lldb-test.cpp:77</span>
   74   
   75   int main(int argc, char** argv)
   76   {
-&gt; 77     auto f1 = Functor(3, 5);
   78     auto f2 = Functor(6, 10);
   79   
   80     std::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1(5.0) &lt;&lt; std::endl;
<span class="org-sh-heredoc">(lldb) </span>
</pre>
</div>

<p>
Execute next step: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) n
Process 713 stopped
* thread <span class="org-comment-delimiter">#</span><span class="org-comment">1, name = 'lldb-test.bin', stop reason = step over</span>
    frame <span class="org-comment-delimiter">#</span><span class="org-comment">0: 0x0000000000400b08 lldb-test.bin`main(argc=1, argv=0x00007fffffffc668) at lldb-test.cpp:78</span>
   75   int main(int argc, char** argv)
   76   {
   77     auto f1 = Functor(3, 5);
-&gt; 78     auto f2 = Functor(6, 10);
   79   
   80     std::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1(5.0) &lt;&lt; std::endl;
<span class="org-sh-heredoc">   81     std::cout &lt;&lt; "f1(7) = " &lt;&lt; f1(7.0) &lt;&lt; std::endl;</span>
<span class="org-sh-heredoc">(lldb) </span>
</pre>
</div>

<p>
Execute next step: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) n
<span class="org-function-name">f1</span>(7) = 26
Process 713 stopped
* thread <span class="org-comment-delimiter">#</span><span class="org-comment">1, name = 'lldb-test.bin', stop reason = step over</span>
    frame <span class="org-comment-delimiter">#</span><span class="org-comment">0: 0x0000000000400b9a lldb-test.bin`main(argc=1, argv=0x00007fffffffc668) at lldb-test.cpp:82</span>
   79   
   80     std::cout &lt;&lt; <span class="org-string">"f1(5) = "</span> &lt;&lt; f1(5.0) &lt;&lt; std::endl;
<span class="org-sh-heredoc">   81     std::cout &lt;&lt; "f1(7) = " &lt;&lt; f1(7.0) &lt;&lt; std::endl;</span>
<span class="org-sh-heredoc">-&gt; 82     std::cout &lt;&lt; "f1(8) = " &lt;&lt; f1(8.0) &lt;&lt; std::endl;</span>
<span class="org-sh-heredoc">   83   </span>
<span class="org-sh-heredoc">   84     std::cout &lt;&lt; "f2(5) = " &lt;&lt; f2(5.0) &lt;&lt; std::endl;</span>
<span class="org-sh-heredoc">   85     std::cout &lt;&lt; "f2(7) = " &lt;&lt; f2(7.0) &lt;&lt; std::endl;</span>
</pre>
</div>

<p>
Show CPU registers for current process: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) register read
General Purpose Registers:
       rax = 0x0000000000602080  lldb-test.bin<span class="org-sh-quoted-exec">`_ZSt4cout@@GLIBCXX_3.4</span>
<span class="org-sh-quoted-exec">       rbx = 0x0000000000602080  lldb-test.bin`</span>_ZSt4cout@@GLIBCXX_3.4
       rcx = 0x0000000000000b40
       rdx = 0x0000000000000000
       rdi = 0x00007ffff7493760  _IO_2_1_stdout_
       rsi = 0x00007ffff74948c0  libc.so.6<span class="org-sh-quoted-exec">`_IO_stdfile_1_lock</span>
<span class="org-sh-quoted-exec">       rbp = 0x00007fffffffc580</span>
<span class="org-sh-quoted-exec">       rsp = 0x00007fffffffc520</span>
<span class="org-sh-quoted-exec">        r8 = 0x00007ffff74948c0  libc.so.6`</span>_IO_stdfile_1_lock
        r9 = 0x00007ffff7fbff00
       r10 = 0x00007ffff7df2230  ld-linux-x86-64.so.2<span class="org-sh-quoted-exec">`strcmp + 4464</span>
<span class="org-sh-quoted-exec">       r11 = 0x00007ffff7149ef0  libc.so.6`</span>__GI__IO_fflush
       r12 = 0x0000000000400790  lldb-test.bin<span class="org-sh-quoted-exec">`_start</span>
<span class="org-sh-quoted-exec">       r13 = 0x00007fffffffc660</span>
<span class="org-sh-quoted-exec">       r14 = 0x0000000000000000</span>
<span class="org-sh-quoted-exec">       r15 = 0x0000000000000000</span>
<span class="org-sh-quoted-exec">       rip = 0x0000000000400b5f  lldb-test.bin`</span>main + 131 at lldb-test.cpp:81
    rflags = 0x0000000000000213
        cs = 0x0000000000000033
        fs = 0x0000000000000000
        gs = 0x0000000000000000
        ss = 0x000000000000002b
        ds = 0x0000000000000000
        es = 0x0000000000000000
</pre>
</div>

<p>
Show value of some CPU registers (rax, rip)
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) register read rax
     rax = 0x0000000000602080  lldb-test.bin<span class="org-sh-quoted-exec">`_ZSt4cout@@GLIBCXX_3.4</span>

<span class="org-sh-quoted-exec">(lldb) register read rip</span>
<span class="org-sh-quoted-exec">     rip = 0x0000000000400b5f  lldb-test.bin`</span>main + 131 at lldb-test.cpp:81
(lldb) 
</pre>
</div>

<p>
Show CPU register values: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) p $<span class="org-variable-name">rbp</span>
(unsigned long) $<span class="org-variable-name">43</span> = 140737488340352

(lldb) p $<span class="org-variable-name">rip</span>
(unsigned long) $<span class="org-variable-name">44</span> = 4197215

(lldb) p/x $<span class="org-variable-name">rax</span>
(unsigned long) $<span class="org-variable-name">45</span> = 0x0000000000602080

(lldb) p/x $<span class="org-variable-name">rip</span>
(unsigned long) $<span class="org-variable-name">46</span> = 0x0000000000400b5f

(lldb) p/i $<span class="org-variable-name">rip</span>
(unsigned long) $<span class="org-variable-name">47</span> = 5f  popq   %rdi
</pre>
</div>

<p>
Disassemble the whole code: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) disassemble
lldb-test.bin<span class="org-sh-quoted-exec">`main:</span>
<span class="org-sh-quoted-exec">    0x400adc &lt;+0&gt;:   pushq  %rbp</span>
<span class="org-sh-quoted-exec">    0x400add &lt;+1&gt;:   movq   %rsp, %rbp</span>
<span class="org-sh-quoted-exec">    0x400ae0 &lt;+4&gt;:   pushq  %rbx</span>
<span class="org-sh-quoted-exec">    0x400ae1 &lt;+5&gt;:   subq   $0x58, %rsp</span>
<span class="org-sh-quoted-exec">    0x400ae5 &lt;+9&gt;:   movl   %edi, -0x54(%rbp)</span>
<span class="org-sh-quoted-exec">    0x400ae8 &lt;+12&gt;:  movq   %rsi, -0x60(%rbp)</span>
<span class="org-sh-quoted-exec">    0x400aec &lt;+16&gt;:  movsd  0x4f4(%rip), %xmm1        ; xmm1 = mem[0],zero</span>
<span class="org-sh-quoted-exec">    0x400af4 &lt;+24&gt;:  movsd  0x4f4(%rip), %xmm0        ; xmm0 = mem[0],zero</span>
<span class="org-sh-quoted-exec">    0x400afc &lt;+32&gt;:  leaq   -0x30(%rbp), %rax</span>
<span class="org-sh-quoted-exec">    0x400b00 &lt;+36&gt;:  movq   %rax, %rdi</span>
<span class="org-sh-quoted-exec">    0x400b03 &lt;+39&gt;:  callq  0x400d7e                  ; Functor::Functor at lldb-test.cpp:12</span>
<span class="org-sh-quoted-exec">    0x400b08 &lt;+44&gt;:  movsd  0x4e8(%rip), %xmm1        ; xmm1 = mem[0],zero</span>
<span class="org-sh-quoted-exec">    0x400b10 &lt;+52&gt;:  movsd  0x4e8(%rip), %xmm0        ; xmm0 = mem[0],zero</span>
<span class="org-sh-quoted-exec">    0x400b18 &lt;+60&gt;:  leaq   -0x40(%rbp), %rax</span>
<span class="org-sh-quoted-exec">    0x400b1c &lt;+64&gt;:  movq   %rax, %rdi</span>
<span class="org-sh-quoted-exec">    0x400b1f &lt;+67&gt;:  callq  0x400d7e                  ; Functor::Functor at lldb-test.cpp:12</span>
<span class="org-sh-quoted-exec">    0x400b24 &lt;+72&gt;:  movl   $0x400f34, %esi           ; imm = 0x400F34 </span>
<span class="org-sh-quoted-exec">    0x400b29 &lt;+77&gt;:  movl   $0x602080, %edi           ; imm = 0x602080 </span>
<span class="org-sh-quoted-exec">    0x400b2e &lt;+82&gt;:  callq  0x400720                  ; symbol stub for: std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp; std::operator&lt;&lt;&lt;std::char_traits&lt;char&gt; &gt;(std::basic_ostream&lt;char, std::char_traits&lt;char&gt; &gt;&amp;, char const*)</span>
</pre>
</div>

<p>
Disassemble function factorial() 
</p>

<pre class="example">
(lldb) disassemble -n factorial
lldb-test.bin`factorial:
    0x400876 &lt;+0&gt;:  pushq  %rbp
    0x400877 &lt;+1&gt;:  movq   %rsp, %rbp
    0x40087a &lt;+4&gt;:  movl   %edi, -0x14(%rbp)
    0x40087d &lt;+7&gt;:  movl   $0x1, -0x4(%rbp)
    0x400884 &lt;+14&gt;: movl   $0x1, -0x8(%rbp)
    0x40088b &lt;+21&gt;: movl   -0x8(%rbp), %eax
    0x40088e &lt;+24&gt;: cmpl   -0x14(%rbp), %eax
    0x400891 &lt;+27&gt;: jg     0x4008a3                  ; &lt;+45&gt; at lldb-test.cpp:24
    0x400893 &lt;+29&gt;: movl   -0x4(%rbp), %eax
    0x400896 &lt;+32&gt;: imull  -0x8(%rbp), %eax
    0x40089a &lt;+36&gt;: movl   %eax, -0x4(%rbp)
    0x40089d &lt;+39&gt;: addl   $0x1, -0x8(%rbp)
    0x4008a1 &lt;+43&gt;: jmp    0x40088b                  ; &lt;+21&gt; at lldb-test.cpp:22
    0x4008a3 &lt;+45&gt;: movl   -0x4(%rbp), %eax
    0x4008a6 &lt;+48&gt;: popq   %rbp
    0x4008a7 &lt;+49&gt;: retq   


</pre>

<p>
List local variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) frame variable
(int) argc = 1
(char **) argv = 0x00007fffffffc668
(Functor) f1 = (a = 3, b = 5)
(Functor) f2 = (a = 6, b = 10)
(Date) d = (year = 32767, month = 4197755, day = 0)
</pre>
</div>

<p>
Call function main() 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) call main(0, nullptr)
<span class="org-function-name">f1</span>(5) = 20
<span class="org-function-name">f1</span>(7) = 26
<span class="org-function-name">f1</span>(8) = 29
<span class="org-function-name">f2</span>(5) = 40
<span class="org-function-name">f2</span>(7) = 52
<span class="org-function-name">f2</span>(8) = 58
=========================================
 GregorianEasterSunday(2010)  = Date { 2010 ; 4 ; 4 } 
 GregorianEasterSunday(208)  = Date { 2008 ; 3 ; 23 } 
(int) $<span class="org-variable-name">49</span> = 0
</pre>
</div>

<p>
Print local variables: 
</p>

<pre class="example">
(lldb) p argc
(int) $0 = 1

(lldb) p argv[0]
(char *) $1 = 0x00007fffffffcaf0 "/home/user/projects/lldb-test.bin"

(lldb) p f1
(Functor) $3 = (a = 3, b = 5)

(lldb) p f2
(Functor) $4 = (a = 6, b = 10)

(lldb) p d
(Date) $5 = (year = 2010, month = 4, day = 4)
</pre>

<p>
Manipulate functions <span class="underline">factorial()</span>: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) call factorial(4)
(int) $<span class="org-variable-name">7</span> = 24

(lldb) p factorial(5)
(int) $<span class="org-variable-name">10</span> = 120

(lldb) call factorial(10)
(int) $<span class="org-variable-name">8</span> = 3628800

(lldb) call factorial(100)
(int) $<span class="org-variable-name">9</span> = 0
</pre>
</div>

<p>
Call functors f1 and f2 function-call opeprator: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) p f1(5.21)
(double) $<span class="org-variable-name">13</span> = 20.629999999999999

(lldb) p f1(10.24)
(double) $<span class="org-variable-name">14</span> = 35.719999999999999

(lldb) p f2(0.0)
(double) $<span class="org-variable-name">15</span> = 10

(lldb) p f2(1.0)
(double) $<span class="org-variable-name">16</span> = 16

(lldb) p f2(2.5)
(double) $<span class="org-variable-name">17</span> = 25

(lldb) p f1.operator()(4.5)
(double) $<span class="org-variable-name">19</span> = 18.5

(lldb) p f1.operator()(10.52)
(double) $<span class="org-variable-name">20</span> = 36.560000000000002
</pre>
</div>

<p>
Call function GregorianEasterSunday()
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) p GregorianEasterSunday(2010)
(Date) $<span class="org-variable-name">22</span> = (year = 2010, month = 4, day = 4)

(lldb) p GregorianEasterSunday(2011)
(Date) $<span class="org-variable-name">23</span> = (year = 2011, month = 4, day = 24)

(lldb) p GregorianEasterSunday(2017)
(Date) $<span class="org-variable-name">24</span> = (year = 2017, month = 4, day = 16)
</pre>
</div>

<p>
Change variables: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) expression f1.a = 10.5;
(double) $<span class="org-variable-name">26</span> = 10.5

(lldb) expression f1.b = 100.0
(double) $<span class="org-variable-name">27</span> = 100

(lldb) p f1
(Functor) $<span class="org-variable-name">28</span> = (a = 10.5, b = 100)

(lldb) p f1(10.5)
(double) $<span class="org-variable-name">29</span> = 210.25
</pre>
</div>

<p>
Evaluating expressions: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) expre)sion auto $<span class="org-variable-name">a</span> = GregorianEasterSunday(2017)

(lldb) p $<span class="org-variable-name">a</span>
(Date) $<span class="org-variable-name">a</span> = (year = 2017, month = 4, day = 16)

(lldb) p $<span class="org-variable-name">a</span>.year
(int) $<span class="org-variable-name">30</span> = 2017

(lldb) p $<span class="org-variable-name">a</span>.month
(int) $<span class="org-variable-name">31</span> = 4

(lldb) p $<span class="org-variable-name">a</span>.day
(int) $<span class="org-variable-name">32</span> = 16

(lldb) p &amp;$<span class="org-variable-name">a</span>
(Date *) $<span class="org-variable-name">33</span> = 0x00007ffff7ff5030

(lldb) p ((Date*) 0x00007ffff7ff5030)-&gt;year
(int) $<span class="org-variable-name">36</span> = 2017

(lldb) p ((Date*) 0x00007ffff7ff5030)-&gt;day
(int) $<span class="org-variable-name">37</span> = 16
</pre>
</div>

<p>
Continue execution: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) c
Process 713 resuming
 GregorianEasterSunday(2010)  = Date { 2010 ; 4 ; 4 } 
 GregorianEasterSunday(208)  = Date { 2008 ; 3 ; 23 } 
Process 713 exited with status = 0 (0x00000000) 
</pre>
</div>

<p>
Delete breaking points: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) br del 1 2 3 4
4 breakpoints deleted; 0 breakpoint locations disabled.
</pre>
</div>

<p>
Run program again: 
</p>

<div class="org-src-container">
<pre class="src src-sh">(lldb) r
There is a running process, kill it and restart?: [Y/n] y
Process 5443 exited with status = 9 (0x00000009) 
Process 6182 launched: <span class="org-string">'/home/user/projects/lldb-test.bin'</span> (x86_64)
<span class="org-function-name">f1</span>(5) = 20
<span class="org-function-name">f1</span>(7) = 26
<span class="org-function-name">f1</span>(8) = 29
<span class="org-function-name">f2</span>(5) = 40
<span class="org-function-name">f2</span>(7) = 52
<span class="org-function-name">f2</span>(8) = 58
=========================================
 GregorianEasterSunday(2010)  = Date { 2010 ; 4 ; 4 } 
 GregorianEasterSunday(208)  = Date { 2008 ; 3 ; 23 } 
Process 6182 exited with status = 0 (0x00000000) 
(lldb) 
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1b3c5f3" class="outline-3">
<h3 id="org1b3c5f3"><span class="section-number-3">2.3</span> References</h3>
<div class="outline-text-3" id="text-2-3">
<ul class="org-ul">
<li><b>The LLDB Deugger</b>
<ul class="org-ul">
<li><a href="https://lldb.llvm.org/">https://lldb.llvm.org/</a></li>
</ul></li>

<li><b>LLDB Tutorial</b>
<ul class="org-ul">
<li><a href="https://lldb.llvm.org/use/tutorial.html">https://lldb.llvm.org/use/tutorial.html</a></li>
</ul></li>

<li><b>LLDB Quick Reference</b>
<ul class="org-ul">
<li><a href="https://www.cs.williams.edu/~morgan/cs136-f15/lldb.html">https://www.cs.williams.edu/~morgan/cs136-f15/lldb.html</a></li>
</ul></li>

<li><b>Advanced Debugging in IOS</b>
<ul class="org-ul">
<li><a href="https://jayeshkawli.ghost.io/advanced-debugging-in-ios/">https://jayeshkawli.ghost.io/advanced-debugging-in-ios/</a></li>
</ul></li>

<li><b>GDB to LLDB command map</b>
<ul class="org-ul">
<li><a href="https://lldb.llvm.org/use/map.html">https://lldb.llvm.org/use/map.html</a></li>
</ul></li>

<li><b>LLDB Cheat Sheet</b>
<ul class="org-ul">
<li><a href="https://www.nesono.com/sites/default/files/lldb%20cheat%20sheet.pdf">https://www.nesono.com/sites/default/files/lldb cheat sheet.pdf</a></li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org0031705" class="outline-2">
<h2 id="org0031705"><span class="section-number-2">3</span> WindBG - Windows Debugger</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org0477cba" class="outline-3">
<h3 id="org0477cba"><span class="section-number-3">3.1</span> Overview</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Microsft provides many Windows debuggers other than Visual Studio
Debugger. Despite their difference their engine is the same, is the
<span class="underline">DbgEng</span> which is a COM component.
</p>

<p>
Windows Debuggers: 
</p>

<ul class="org-ul">
<li>NTSD - Microsft NT Symbolic Debugger</li>
<li>CDB  - Microsft Console Debugger</li>
<li>WinDbg - Graphical interface for Windows debug engine DbgEng.</li>
<li>KD - Kernel Debugger.</li>
</ul>

<p>
The Windows Debugger - Windbg is an invaluable tool for a wide
variety of tasks such as: 
</p>

<ul class="org-ul">
<li>Debugging and troubleshooting - processes, applications.</li>
<li>Discover Windows Internals</li>
<li>Analysis of a process crash dumps or post mortem analysis of a
processes</li>
<li>Reverse engineering</li>
<li>Security auditing</li>
<li>Check runtime dependencies of a process or dlls used by a process.</li>
</ul>

<p>
Capabilities:
</p>

<ul class="org-ul">
<li>Usermode debugging</li>
<li>Kernel mode debugging</li>
<li>Remote debugging</li>
<li>Post-mortem or debugging of program crash dump, aka core dump.</li>
<li>Debugging of 32 bits or 64 bits applications.</li>
<li>Attach-to-process deubugging - allows to spy on a process and
gather information, reverse engineer, check what it is doing &#x2026;</li>
<li>Scriptable and extensible with many programming languages including
Python.</li>
</ul>

<p>
Drawbacks: 
</p>

<ul class="org-ul">
<li>Steep learning curve.</li>
<li>Not very documented and sparse documentation.</li>
<li>Cryptic commands.</li>
</ul>
</div>
</div>

<div id="outline-container-org37ec336" class="outline-3">
<h3 id="org37ec336"><span class="section-number-3">3.2</span> Command Summary</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><a href="http://dblohm7.ca/pmo/windbgcheatsheet.html">http://dblohm7.ca/pmo/windbgcheatsheet.html</a></li>

<li><a href="http://kipirvine.com/asm/4th/debug/windbg/index.htm">Using Microsoft Windows Debugger</a></li>

<li><a href="https://bugslasher.net/2011/01/15/memory-exhaustion-even-if-a-large-enough-free-memory-segment-is-available/">Memory management under Windows : what your mother didn’t tell you | BugSlasher</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 3:</span> WinDBG - Windows Debugger Command Summary</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Action</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">version</td>
<td class="org-left">Show debugger version</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">Show basic help</td>
</tr>

<tr>
<td class="org-left">.cls</td>
<td class="org-left">Clear Screen</td>
</tr>

<tr>
<td class="org-left">bl</td>
<td class="org-left">Show braking points</td>
</tr>

<tr>
<td class="org-left">bc</td>
<td class="org-left">Clear breaking points</td>
</tr>

<tr>
<td class="org-left">bp kernel32!CreateNamedPipeW</td>
<td class="org-left">Set break point on a symbol (function CreateNamedpipeW) from kernel32.dll</td>
</tr>

<tr>
<td class="org-left">bp client!main</td>
<td class="org-left">Set a break point on main function - note: client.exe is the app being debugged.</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">Step Into</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-left">Step Over</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">Continue to the next break point</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-left">Detach debugger and kill process being debugged</td>
</tr>

<tr>
<td class="org-left">qd</td>
<td class="org-left">Detach debugger without killing process being debugged</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">.tlist</td>
<td class="org-left">Show all processes in the current machine</td>
</tr>

<tr>
<td class="org-left">.attach &lt;process-id&gt;</td>
<td class="org-left">Attach debugger to some process</td>
</tr>

<tr>
<td class="org-left">.create <code>E:\progs\app.exe</code></td>
<td class="org-left">Create a process</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">dv</td>
<td class="org-left">Display Local Variables - Equivalent to window local variables</td>
</tr>

<tr>
<td class="org-left"><code>dt *!*</code></td>
<td class="org-left">Display all data structures from all modules (dlls)</td>
</tr>

<tr>
<td class="org-left">dt ntdll!*</td>
<td class="org-left">Show all data structures available in the module ntdll (ntdll.dll)</td>
</tr>

<tr>
<td class="org-left"><code>!peb</code></td>
<td class="org-left">Show process' PEB - Process Environment Block</td>
</tr>

<tr>
<td class="org-left">lm</td>
<td class="org-left">Show loaded modules (dlls) - shared libraries used by the application.</td>
</tr>

<tr>
<td class="org-left">lmf</td>
<td class="org-left">Show loaded modules with paths (dlls.)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org5dc03d4" class="outline-3">
<h3 id="org5dc03d4"><span class="section-number-3">3.3</span> Basic Debugger Commands</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org887ff32" class="outline-4">
<h4 id="org887ff32"><span class="section-number-4">3.3.1</span> Show hlep</h4>
<div class="outline-text-4" id="text-3-3-1">
<ul class="org-ul">
<li>Command: !help</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !help
address [address]          - Displays the address space layout
        [-UsageType]       - Displays the address space regions of the given type
analyze [-v]               - Analyzes current exception or bugcheck
cpuid [processor]          - Displays CPU version info for all CPUs
elog_str &lt;message&gt;         - Logs simple message to host event log
cppexr &lt;exraddress&gt;        - Displays a C++ EXCEPTION_RECORD
error [errorcode]          - Displays Win32 &amp; NTSTATUS error string
exchain                    - Displays exception chain for current thread
for_each_frame &lt;cmd&gt;       - Executes command for each frame in current
                             thread
for_each_local &lt;cmd&gt; $$&lt;n&gt; - Executes command for each local variable in
                             current frame, substituting fixed-name alias
                             $u&lt;n&gt; for each occurrence of $$&lt;n&gt;
gle [-all]                 - Displays last error &amp; status for current thread
imggp &lt;imagebase&gt;          - Displays GP directory entry for 64-bit image
imgreloc &lt;imagebase&gt;       - Relocates modules for an image
list [-? | parameters]     - Displays lists
obja &lt;address&gt;             - Displays OBJECT_ATTRIBUTES[32|64]
owner [symbol!module]      - Detects owner for current exception or
                             bugcheck from triage.ini
rtlavl &lt;address&gt;           - Displays RTL_AVL_TABLE
std_map &lt;address&gt;          - Displays a std::map&lt;&gt;
str &lt;address&gt;              - Displays ANSI_STRING or OEM_STRING
ustr &lt;address&gt;             - Displays UNICODE_STRING


</pre>
</div>
</div>
</div>

<div id="outline-container-org86d014e" class="outline-4">
<h4 id="org86d014e"><span class="section-number-4">3.3.2</span> Clear screen</h4>
<div class="outline-text-4" id="text-3-3-2">
<ul class="org-ul">
<li>Command: <span class="underline">.cls</span></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .cls
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc865cc8" class="outline-4">
<h4 id="orgc865cc8"><span class="section-number-4">3.3.3</span> Display version</h4>
<div class="outline-text-4" id="text-3-3-3">
<ul class="org-ul">
<li>Command: version</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-function-name">0</span>:000&gt; version

Windows 10 Version 17134 UP Free x64
<span class="org-function-name">Product</span>: WinNt, suite: SingleUserTS
17134.1.amd64fre.rs4_release.180410-1804
Machine Name:
Debug session time: Sun Aug 26 16:54:20.077 2018 (UTC - 7:00)
System Uptime: 10 days 4:18:43.003
Process Uptime: 0 days 1:21:04.373
  Kernel time: 0 days 0:00:00.000
  User time: 0 days 0:00:00.046
Live user mode: &lt;Local&gt;

<span class="org-function-name">Microsoft</span> (R) Windows Debugger Version 10.0.17134.12 AMD64
<span class="org-function-name">Copyright</span> (c) Microsoft Corporation. All rights reserved.

 ...  ...  ...  ...  ...  ...  ...  ...  ...  ... 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfea7e6d" class="outline-4">
<h4 id="orgfea7e6d"><span class="section-number-4">3.3.4</span> Display source search path</h4>
<div class="outline-text-4" id="text-3-3-4">
<ul class="org-ul">
<li>Command: .srcpath</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .srcpath
Source search path is: C:\Users\archbox\Desktop\wincpp\com-ole\comtest

************* Path validation summary **************
Response                         Time (ms)     Location
OK                                             C:\Users\archbox\Desktop\wincpp\com-ole\comtest

</pre>
</div>
</div>
</div>

<div id="outline-container-org27dff6b" class="outline-4">
<h4 id="org27dff6b"><span class="section-number-4">3.3.5</span> Display loaded modules</h4>
<div class="outline-text-4" id="text-3-3-5">
<ul class="org-ul">
<li>Command: <span class="underline">lm</span></li>
</ul>

<p>
Note: The modules are dlls loaded in the process' addresss space, such
as ntdll.dll, service.dll and etc.
</p>

<div class="org-src-container">
<pre class="src src-text">&gt;&gt; lm
  start             end                 module name
  00007ff6`69b50000 00007ff6`69c59000   client     (deferred)             
  00007ff8`3dfc0000 00007ff8`3e005000   service    (deferred)             
  00007ff8`4ec10000 00007ff8`4eca8000   uxtheme    (deferred)             
  00007ff8`50740000 00007ff8`50751000   kernel_appcore   (deferred)             
  00007ff8`507d0000 00007ff8`50a43000   KERNELBASE   (deferred)             
  00007ff8`512c0000 00007ff8`51452000   gdi32full   (deferred)             
  00007ff8`51460000 00007ff8`514da000   bcryptPrimitives   (deferred)             
  00007ff8`514e0000 00007ff8`5157f000   msvcp_win   (deferred)             
  00007ff8`51580000 00007ff8`515a0000   win32u     (deferred)             
  00007ff8`51790000 00007ff8`5188a000   ucrtbase   (deferred)             
  00007ff8`518f0000 00007ff8`51918000   GDI32      (deferred)             
  00007ff8`51920000 00007ff8`51a71000   ole32      (deferred)             
  00007ff8`51e80000 00007ff8`51fa4000   RPCRT4     (deferred)             
  00007ff8`51fb0000 00007ff8`52140000   USER32     (deferred)             
  00007ff8`52140000 00007ff8`5219b000   sechost    (deferred)             
  00007ff8`521a0000 00007ff8`5223e000   msvcrt     (deferred)             
  00007ff8`52240000 00007ff8`52563000   combase    (private pdb symbols)  C:\ProgramData\dbg\sym\combase.pdb\8BD819B4B577CBB5053ADA5ED7AA29E91\combase.pdb
  00007ff8`53a80000 00007ff8`53aad000   IMM32      (deferred)             
  00007ff8`54080000 00007ff8`54120000   clbcatq    (deferred)             
  00007ff8`54120000 00007ff8`541d2000   KERNEL32   (deferred)             
  00007ff8`54400000 00007ff8`545e1000   ntdll      (pdb symbols)          C:\ProgramData\dbg\sym\ntdll.pdb\EA3C05F9EA540B02C1971816AF7CC8D21\ntdll.pdb

</pre>
</div>
</div>
</div>
<div id="outline-container-orgf7022cf" class="outline-4">
<h4 id="orgf7022cf"><span class="section-number-4">3.3.6</span> Display loaded modules with file name</h4>
<div class="outline-text-4" id="text-3-3-6">
<ul class="org-ul">
<li>Command: <span class="underline">lmf</span></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; lmf

start             end                 module name
00007ff6`69b50000 00007ff6`69c59000   client   client.exe  
00007ff8`3dfc0000 00007ff8`3e005000   service  C:\Users\archbox\Desktop\wincpp\com-ole\comtest\service.dll
00007ff8`4ec10000 00007ff8`4eca8000   uxtheme  C:\WINDOWS\system32\uxtheme.dll
00007ff8`50740000 00007ff8`50751000   kernel_appcore C:\WINDOWS\System32\kernel.appcore.dll
00007ff8`507d0000 00007ff8`50a43000   KERNELBASE C:\WINDOWS\System32\KERNELBASE.dll
00007ff8`512c0000 00007ff8`51452000   gdi32full C:\WINDOWS\System32\gdi32full.dll
00007ff8`51460000 00007ff8`514da000   bcryptPrimitives C:\WINDOWS\System32\bcryptPrimitives.dll
00007ff8`514e0000 00007ff8`5157f000   msvcp_win C:\WINDOWS\System32\msvcp_win.dll
00007ff8`51580000 00007ff8`515a0000   win32u   C:\WINDOWS\System32\win32u.dll
00007ff8`51790000 00007ff8`5188a000   ucrtbase C:\WINDOWS\System32\ucrtbase.dll
00007ff8`518f0000 00007ff8`51918000   GDI32    C:\WINDOWS\System32\GDI32.dll
00007ff8`51920000 00007ff8`51a71000   ole32    C:\WINDOWS\System32\ole32.dll
00007ff8`51e80000 00007ff8`51fa4000   RPCRT4   C:\WINDOWS\System32\RPCRT4.dll
00007ff8`51fb0000 00007ff8`52140000   USER32   C:\WINDOWS\System32\USER32.dll
00007ff8`52140000 00007ff8`5219b000   sechost  C:\WINDOWS\System32\sechost.dll
00007ff8`521a0000 00007ff8`5223e000   msvcrt   C:\WINDOWS\System32\msvcrt.dll
00007ff8`52240000 00007ff8`52563000   combase  C:\WINDOWS\System32\combase.dll
00007ff8`53a80000 00007ff8`53aad000   IMM32    C:\WINDOWS\System32\IMM32.DLL
00007ff8`54080000 00007ff8`54120000   clbcatq  C:\WINDOWS\System32\clbcatq.dll
00007ff8`54120000 00007ff8`541d2000   KERNEL32 C:\WINDOWS\System32\KERNEL32.DLL
00007ff8`54400000 00007ff8`545e1000   ntdll    ntdll.dll   

</pre>
</div>
</div>
</div>
<div id="outline-container-orgc72ccb9" class="outline-4">
<h4 id="orgc72ccb9"><span class="section-number-4">3.3.7</span> Show verbose information about module</h4>
<div class="outline-text-4" id="text-3-3-7">
<ul class="org-ul">
<li>It shows verbose information about a given module including image,
symbol, path to file and etc.</li>

<li>Command: <span class="underline">lm vm &lt;module&gt;</span></li>
</ul>

<p>
Examples:
</p>
<ul class="org-ul">
<li>lm vm kernel32  (Information about kernel32.dll)</li>
<li>lm vm service   (Information about service.dll)</li>
</ul>

<p>
Show information about module ntdll.dll 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; lm vm ntdll

Browse full module list
start             end                 module name
00007ff8`54400000 00007ff8`545e1000   ntdll      (pdb symbols)          C:\ProgramData\dbg\sym\ntdll.pdb\EA3C05F9EA540B02C1971816AF7CC8D21\ntdll.pdb
    Loaded symbol image file: C:\WINDOWS\SYSTEM32\ntdll.dll
    Image path: ntdll.dll
    Image name: ntdll.dll
    Browse all global symbols  functions  data
    Image was built with /Brepro flag.
    Timestamp:        6D15B6D7 (This is a reproducible build file hash, not a timestamp)
    CheckSum:         001EA411
    ImageSize:        001E1000
    File version:     10.0.17134.228
    Product version:  10.0.17134.228
    File flags:       0 (Mask 3F)
    File OS:          40004 NT Win32
    File type:        2.0 Dll
    File date:        00000000.00000000
    Translations:     0409.04b0
    Information from resource tables:
        CompanyName:      Microsoft Corporation
        ProductName:      Microsoft&#174; Windows&#174; Operating System
        InternalName:     ntdll.dll
        OriginalFilename: ntdll.dll
        ProductVersion:   10.0.17134.228
        FileVersion:      10.0.17134.228 (WinBuild.160101.0800)
        FileDescription:  NT Layer DLL
        LegalCopyright:   &#169; Microsoft Corporation. All rights reserved.
</pre>
</div>

<p>
Show information about module service.dll 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; lm vm service
Browse full module list
start             end                 module name
00007ff8`3dfc0000 00007ff8`3e005000   service    (deferred)             
    Image path: C:\Users\archbox\Desktop\wincpp\com-ole\comtest\service.dll
    Image name: service.dll
    Browse all global symbols  functions  data
    Timestamp:        Thu Aug 23 10:44:03 2018 (5B7EF263)
    CheckSum:         00000000
    ImageSize:        00045000
    Translations:     0000.04b0 0000.04e4 0409.04b0 0409.04e4
    Information from resource tables:

</pre>
</div>
</div>
</div>
<div id="outline-container-org530c284" class="outline-4">
<h4 id="org530c284"><span class="section-number-4">3.3.8</span> Show module headers</h4>
<div class="outline-text-4" id="text-3-3-8">
<p>
Show module headers 
</p>

<ul class="org-ul">
<li>Command: !dh &lt;module&gt; -f</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">:000&gt; !dh out2 -f

File Type: EXECUTABLE IMAGE
FILE HEADER VALUES
    8664 machine (X64)
       7 number of sections
5B89DE49 time date stamp Fri Aug 31 17:33:13 2018

       0 file pointer to symbol table
       0 number of symbols
      F0 size of optional header
      22 characteristics
            Executable
            App can handle &gt;2gb addresses

OPTIONAL HEADER VALUES
     20B magic #
   14.12 linker version
   CAE00 size of code
   42E00 size of initialized data
       0 size of uninitialized data
    28C4 address of entry point
    1000 base of code
         ----- new -----
00007ff6c7f40000 image base
    1000 section alignment
     200 file alignment
       3 subsystem (Windows CUI)
    6.00 operating system version
    0.00 image version
    6.00 subsystem version
  112000 size of image
     400 size of headers
       0 checksum
0000000000100000 size of stack reserve
0000000000001000 size of stack commit
0000000000100000 size of heap reserve
0000000000001000 size of heap commit
    8160  DLL characteristics
            High entropy VA supported
            Dynamic base
            NX compatible
            Terminal server aware
       0 [       0] address [size] of Export Directory
  10D3E8 [      28] address [size] of Import Directory
       0 [       0] address [size] of Resource Directory
  103000 [    8748] address [size] of Exception Directory
       0 [       0] address [size] of Security Directory
  110000 [    11BC] address [size] of Base Relocation Directory
   E6060 [      38] address [size] of Debug Directory
       0 [       0] address [size] of Description Directory
       0 [       0] address [size] of Special Directory
       0 [       0] address [size] of Thread Storage Directory
   E60A0 [     100] address [size] of Load Configuration Directory
       0 [       0] address [size] of Bound Import Directory
  10D000 [     3E8] address [size] of Import Address Table Directory
       0 [       0] address [size] of Delay Import Directory
       0 [       0] address [size] of COR20 Header Directory
       0 [       0] address [size] of Reserved Directory

</pre>
</div>
</div>
</div>

<div id="outline-container-org51123a9" class="outline-4">
<h4 id="org51123a9"><span class="section-number-4">3.3.9</span> Show memory of module</h4>
<div class="outline-text-4" id="text-3-3-9">
<p>
List modules: 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; lm
start             end                 module name
00007ff6`69b50000 00007ff6`69c59000   client   C (private pdb symbols)  C:\ProgramData\dbg\sym\client.pdb\8051143355D841DDB7EE7257B7AE231814\client.pdb
 ... ... ... ... 
00007ff8`54120000 00007ff8`541d2000   KERNEL32   (pdb symbols)          C:\ProgramData\dbg\sym\kernel32.pdb\63816243EC704DC091BC31470BAC48A31\kernel32.pdb
00007ff8`54400000 00007ff8`545e1000   ntdll      (pdb symbols)          C:\ProgramData\dbg\sym\ntdll.pdb\EA3C05F9EA540B02C1971816AF7CC8D21\ntdll.pdb

</pre>
</div>

<p>
Select module ntdll 
</p>

<ul class="org-ul">
<li>00007ff8`54400000
<ul class="org-ul">
<li>Show where in the virtual address space the module is loaded.</li>
</ul></li>
<li>00007ff8`545e1000</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">00007ff8`54400000 00007ff8`545e1000   ntdll      (pdb symbols)          C:\ProgramData\dbg\sym\ntdll.pdb\EA3C05F9EA540B02C1971816AF7CC8D21\ntdll.pdb
</pre>
</div>

<p>
Diplay bytes of the region: 00007ff8`54400000
</p>

<ul class="org-ul">
<li>db: d(display) b(bytes)</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; db 00007ff8`54400000
00007ff8`54400000  4d 5a 90 00 03 00 00 00-04 00 00 00 ff ff 00 00  MZ..............
00007ff8`54400010  b8 00 00 00 00 00 00 00-40 00 00 00 00 00 00 00  ........@.......
00007ff8`54400020  00 00 00 00 00 00 00 00-00 00 00 00 00 00 00 00  ................
00007ff8`54400030  00 00 00 00 00 00 00 00-00 00 00 00 e8 00 00 00  ................
00007ff8`54400040  0e 1f ba 0e 00 b4 09 cd-21 b8 01 4c cd 21 54 68  ......      .!..L.!Th
00007ff8`54400050  69 73 20 70 72 6f 67 72-61 6d 20 63 61 6e 6e 6f  is program canno
00007ff8`54400060  74 20 62 65 20 72 75 6e-20 69 6e 20 44 4f 53 20  t be run in DOS 
00007ff8`54400070  6d 6f 64 65 2e 0d 0d 0a-24 00 00 00 00 00 00 00  mode....$.......
</pre>
</div>

<p>
Display region as dwords (32 bits values)
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; dc 00007ff8`54400000
00007ff8`54400000  00905a4d 00000003 00000004 0000ffff  MZ..............
00007ff8`54400010  000000b8 00000000 00000040 00000000  ........@.......
00007ff8`54400020  00000000 00000000 00000000 00000000  ................
00007ff8`54400030  00000000 00000000 00000000 000000e8  ................
00007ff8`54400040  0eba1f0e cd09b400 4c01b821 685421cd  ......  .!..L.!Th
00007ff8`54400050  70207369 72676f72 63206d61 6f6e6e61  is program canno
00007ff8`54400060  65622074 6e757220 206e6920 20534f44  t be run in DOS 
00007ff8`54400070  65646f6d 0a0d0d2e 00000024 00000000  mode....$.......
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd03d618" class="outline-4">
<h4 id="orgd03d618"><span class="section-number-4">3.3.10</span> Show formatted output about the Process Environment Block (PEB)</h4>
<div class="outline-text-4" id="text-3-3-10">
<p>
Show PEB - Process Environment Block memory location (aka address)
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .process
Implicit process is now 00000096`d8a7d000
</pre>
</div>

<p>
Show PEB - Process Environment Block 
</p>

<ul class="org-ul">
<li>Command: <span class="underline">!peb</span></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !peb
PEB at 000000a87accf000
    InheritedAddressSpace:    No
    ReadImageFileExecOptions: No
    BeingDebugged:            Yes
    ImageBaseAddress:         00007ff669b50000
    Ldr                       00007ff85455c360
    Ldr.Initialized:          Yes
    Ldr.InInitializationOrderModuleList: 000002986df32e80 . 000002986df523b0
    Ldr.InLoadOrderModuleList:           000002986df33030 . 000002986df52390
    Ldr.InMemoryOrderModuleList:         000002986df33040 . 000002986df523a0
                    Base TimeStamp                     Module
            7ff669b50000 5b7ef429 Aug 23 10:51:37 2018 C:\Users\archbox\Desktop\wincpp\com-ole\comtest\client.exe
            7ff854400000 6d15b6d7 Dec 29 20:06:47 2027 C:\WINDOWS\SYSTEM32\ntdll.dll
            7ff854120000 5f488a51 Aug 27 21:38:41 2020 C:\WINDOWS\System32\KERNEL32.DLL
            7ff8507d0000 b0bb231d Dec 16 10:10:37 2063 C:\WINDOWS\System32\KERNELBASE.dll
            7ff851920000 f6d21073 Mar 22 12:11:47 2101 C:\WINDOWS\System32\ole32.dll
            7ff852240000 fad18dc5 May 07 20:15:17 2103 C:\WINDOWS\System32\combase.dll
            7ff851790000 5db729cd Oct 28 10:47:57 2019 C:\WINDOWS\System32\ucrtbase.dll
            7ff851e80000 a1f1190d Feb 04 15:26:05 2056 C:\WINDOWS\System32\RPCRT4.dll
            7ff851460000 df1abf1c Aug 11 07:13:48 2088 C:\WINDOWS\System32\bcryptPrimitives.dll
            7ff8518f0000 2ad7837c Oct 10 18:29:32 1992 C:\WINDOWS\System32\GDI32.dll
            7ff8512c0000 460017f0 Mar 20 10:20:48 2007 C:\WINDOWS\System32\gdi32full.dll
            7ff8514e0000 b8c3e718 Mar 24 13:27:04 2068 C:\WINDOWS\System32\msvcp_win.dll
            7ff851fb0000 fd9a9c22 Oct 29 17:02:42 2104 C:\WINDOWS\System32\USER32.dll
            7ff851580000 b8eb0e32 Apr 23 06:12:18 2068 C:\WINDOWS\System32\win32u.dll
            7ff852140000 aa4b708f Jul 14 15:45:35 2060 C:\WINDOWS\System32\sechost.dll
            7ff853a80000 7a45968f Jan 02 12:01:19 2035 C:\WINDOWS\System32\IMM32.DLL
            7ff850740000 f0a997a7 Dec 11 16:24:07 2097 C:\WINDOWS\System32\kernel.appcore.dll
            7ff8521a0000 5cbba6fd Apr 20 16:10:53 2019 C:\WINDOWS\System32\msvcrt.dll
            7ff84ec10000 66e92861 Sep 16 23:57:37 2024 C:\WINDOWS\system32\uxtheme.dll
            7ff854080000 9fbc25bf Dec 03 02:49:35 2054 C:\WINDOWS\System32\clbcatq.dll
            7ff83dfc0000 5b7ef263 Aug 23 10:44:03 2018 C:\Users\archbox\Desktop\wincpp\com-ole\comtest\service.dll
    SubSystemData:     0000000000000000
    ProcessHeap:       000002986df30000
    ProcessParameters: 000002986df32520
    CurrentDirectory:  'C:\Program Files (x86)\Windows Kits\10\Debuggers\'
    WindowTitle:  'C:\Users\archbox\Desktop\wincpp\com-ole\comtest\client.exe'
    ImageFile:    'C:\Users\archbox\Desktop\wincpp\com-ole\comtest\client.exe'
    CommandLine:  'C:\Users\archbox\Desktop\wincpp\com-ole\comtest\client.exe'
    DllPath:      '&lt; Name not readable &gt;'
    Environment:  000002986df31100
        =::=::\
        ALLUSERSPROFILE=C:\ProgramData
        APPDATA=C:\Users\archbox\AppData\Roaming
        ChocolateyInstall=C:\ProgramData\chocolatey
        ChocolateyLastPathUpdate=Wed Aug  1 00:29:26 2018
        ChocolateyToolsLocation=C:\tools
        CLASSPATH=.;
        CommonProgramFiles=C:\Program Files\Common Files
        CommonProgramFiles(x86)=C:\Program Files (x86)\Common Files
        CommonProgramW6432=C:\Program Files\Common Files
        COMPUTERNAME=DESKTOP-2TJVI2H
        ComSpec=C:\WINDOWS\system32\cmd.exe
        DriverData=C:\Windows\System32\Drivers\DriverData
        FPS_BROWSER_APP_PROFILE_STRING=Internet Explorer
        FPS_BROWSER_USER_PROFILE_STRING=Default
        FSHARPINSTALLDIR=C:\Program Files (x86)\Microsoft SDKs\F#\4.1\Framework\v4.0\
        HOME=C:\Users\archbox
        HOMEDRIVE=C:
        HOMEPATH=\Users\archbox
        JAVA_HOME=C:\Program Files\Java\jdk1.8.0_162
        LOCALAPPDATA=C:\Users\archbox\AppData\Local
        LOGONSERVER=\\DESKTOP-2TJVI2H
        NUMBER_OF_PROCESSORS=1
        OneDrive=C:\Users\archbox\OneDrive
        OS=Windows_NT
        Path=C:\Program Files (x86)\Windows Kits\10\Debuggers\x64;C:\WINDOWS\system32;C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\ProgramData\chocolatey\bin;C:\Program Files\Java\jdk1.8.0_162\bin;C:\Program Files (x86)\scala\bin;C:\Program Files\Git\cmd;C:\Program Files\LLVM\bin;C:\WINDOWS\System32\OpenSSH\;C:\Users\archbox\bin;C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\ProgramData\chocolatey\bin;C:\Program Files\Java\jdk1.8.0_162\bin;C:\Program Files (x86)\scala\bin;C:\Users\archbox\AppData\Local\Microsoft\WindowsApps;;C:\Users\archbox\AppData\Local\Microsoft\WindowsApps;C:\tools\cmder;C:\tools\mingw64\bin;
        PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC
        PROCESSOR_ARCHITECTURE=AMD64
        PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 78 Stepping 3, GenuineIntel
        PROCESSOR_LEVEL=6
        PROCESSOR_REVISION=4e03
        ProgramData=C:\ProgramData
        ProgramFiles=C:\Program Files
        ProgramFiles(x86)=C:\Program Files (x86)
        ProgramW6432=C:\Program Files
        PSModulePath=C:\Program Files\WindowsPowerShell\Modules;C:\WINDOWS\system32\WindowsPowerShell\v1.0\Modules
        PUBLIC=C:\Users\Public
        SESSIONNAME=Console
        SRCSRV_SHOW_TF_PROMPT=1
        SRCSRV_TIMEOUT_SECONDS=300
        SystemDrive=C:
        SystemRoot=C:\WINDOWS
        TEMP=C:\Users\archbox\AppData\Local\Temp
        TMP=C:\Users\archbox\AppData\Local\Temp
        USERDOMAIN=DESKTOP-2TJVI2H
        USERDOMAIN_ROAMINGPROFILE=DESKTOP-2TJVI2H
        USERNAME=archbox
        USERPROFILE=C:\Users\archbox
        VS140COMNTOOLS=C:\Program Files (x86)\Microsoft Visual Studio 14.0\Common7\Tools\
        WINDBG_DIR=C:\Program Files (x86)\Windows Kits\10\Debuggers\x64
        windir=C:\WINDOWS

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ef0933" class="outline-4">
<h4 id="org1ef0933"><span class="section-number-4">3.3.11</span> Show variables</h4>
<div class="outline-text-4" id="text-3-3-11">
<p>
Print local variables. It is equivalent to the window which displays
local variable. 
</p>

<ul class="org-ul">
<li>Command: dv</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; dv
00000096`d895f6b0               dwBytesRead = 0x2c8
00000096`d895f6a8 NtQueryInformationProcess = 0x00007ff8`2dcfa1c0
00000096`d895f6f0                       peb = struct _PEB
00000096`d895f690                     hProc = 0xffffffff`ffffffff
00000096`d895f6b8                       pbi = struct _PROCESS_BASIC_INFORMATION
00000096`d895f698                   retsize = 0x30
00000096`d895f6a0                    hNtDLL = 0x00007ff8`2dc60000
00000096`d895f684                parent_pid = 0x1c84
00000096`d895f688                    status = 0n0

</pre>
</div>

<p>
Print all local variables of current stack-frame. 
</p>

<ul class="org-ul">
<li>Command: dv /t</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; dv /t

00000096`d895f6b0 unsigned int64 dwBytesRead = 0x2c8
00000096`d895f6a8 &lt;function&gt; * NtQueryInformationProcess = 0x00007ff8`2dcfa1c0
00000096`d895f6f0 struct _PEB peb = struct _PEB
00000096`d895f690 void * hProc = 0xffffffff`ffffffff
00000096`d895f6b8 struct _PROCESS_BASIC_INFORMATION pbi = struct _PROCESS_BASIC_INFORMATION
00000096`d895f698 unsigned long retsize = 0x30
00000096`d895f6a0 struct HINSTANCE__ * hNtDLL = 0x00007ff8`2dc60000
00000096`d895f684 unsigned long parent_pid = 0x1c84
00000096`d895f688 long status = 0n0
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d00141" class="outline-4">
<h4 id="org1d00141"><span class="section-number-4">3.3.12</span> Show HANDLEs or Kernel objects used by process</h4>
<div class="outline-text-4" id="text-3-3-12">
<p>
Show all handles used by the process being debugged. 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !handle
Handle 4
  Type          Key
Handle 8
  Type          Event
Handle c
  Type          WaitCompletionPacket
Handle 10
  Type          IoCompletion
Handle 14
  Type          TpWorkerFactory
Handle 18
  Type          IRTimer
Handle 1c
  Type          WaitCompletionPacket
Handle 20
  Type          IRTimer
Handle 24
  ... ... ... ... 
Type            Count
None            4
Event           3
Section         5
File            6
Directory       1
Key             2
Thread          2
IoCompletion    2
TpWorkerFactory 2
ALPC Port       1
WaitCompletionPacket    5

</pre>
</div>

<p>
Show detailed information about a given handle. 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !handle 40 f
Handle 40
  Type          File
  Attributes    0
  GrantedAccess 0x100020:
         Synch
         Execute/Traverse
  HandleCount   2
  PointerCount  65536
  No Object Specific Information available

0:000&gt; !handle 34 f
Handle 34
  Type          Directory
  Attributes    0x10
  GrantedAccess 0x3:
         None
         Query,Traverse
  HandleCount   117
  PointerCount  3826979
  Name          \KnownDlls
  No Object Specific Information available

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb91282" class="outline-4">
<h4 id="orgeb91282"><span class="section-number-4">3.3.13</span> Show CPU Registers</h4>
<div class="outline-text-4" id="text-3-3-13">
<ul class="org-ul">
<li>Command: <span class="underline">r</span></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; r

rax=0000000080004005 rbx=0000000080004005 rcx=0000000000000000
rdx=0000000000000000 rsi=0000000000000000 rdi=0000000000000000
rip=00007ff8522faf5a rsp=000000a87ab1e320 rbp=000000a87ab1e420
 r8=000000a87ab1f650  r9=0000000000000000 r10=0000000000000000
r11=000002986df519bc r12=000000a87ab1f650 r13=0000000000000000
r14=0000000000000000 r15=0000000000000000
iopl=0         nv up ei pl nz na po nc
cs=0033  ss=002b  ds=002b  es=002b  fs=0053  gs=002b             efl=00010204
combase!CServerContextActivator::CreateInstance+0x23a:
00007ff8`522faf5a 488b01          mov     rax,qword ptr [rcx] ds:00000000`00000000=????????????????
</pre>
</div>
</div>
</div>

<div id="outline-container-org47c5c3f" class="outline-4">
<h4 id="org47c5c3f"><span class="section-number-4">3.3.14</span> Show threads</h4>
<div class="outline-text-4" id="text-3-3-14">
<p>
This commands shows the natives threads in the current process: 
</p>

<ul class="org-ul">
<li>Command: (~) tilde. For every thread it is assigned an unique
Id. (Threads 0, 1, 2, 3 &#x2026;)</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; ~

.  0  Id: 2144.f68 Suspend: 1 Teb: 000000a8`7acd0000 Unfrozen
   1  Id: 2144.14c4 Suspend: 1 Teb: 000000a8`7acd4000 Unfrozen
   2  Id: 2144.2310 Suspend: 1 Teb: 000000a8`7acd2000 Unfrozen
</pre>
</div>
</div>
</div>

<div id="outline-container-orga774b41" class="outline-4">
<h4 id="orga774b41"><span class="section-number-4">3.3.15</span> Show stack</h4>
<div class="outline-text-4" id="text-3-3-15">
<p>
Show stack of current thread (in this case thread of id = 0)
</p>

<ul class="org-ul">
<li>Command: k</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; k
 # Child-SP          RetAddr           Call Site
00 0000002f`12f3e090 00007ff8`522c5abf combase!CServerContextActivator::CreateInstance+0x23a [onecore\com\combase\objact\actvator.cxx @ 910] 
01 0000002f`12f3e210 00007ff8`522d63d1 combase!ActivationPropertiesIn::DelegateCreateInstance+0xef [onecore\com\combase\actprops\actprops.cxx @ 1905] 
02 0000002f`12f3e2a0 00007ff8`522d5b62 combase!CApartmentActivator::CreateInstance+0xc1 [onecore\com\combase\objact\actvator.cxx @ 2169] 
03 0000002f`12f3e350 00007ff8`522d5e30 combase!CProcessActivator::CCICallback+0x72 [onecore\com\combase\objact\actvator.cxx @ 1637] 
04 0000002f`12f3e390 00007ff8`522d5c7e combase!CProcessActivator::AttemptActivation+0x40 [onecore\com\combase\objact\actvator.cxx @ 1524] 
05 0000002f`12f3e3e0 00007ff8`522d608b combase!CProcessActivator::ActivateByContext+0xae [onecore\com\combase\objact\actvator.cxx @ 1368] 
06 0000002f`12f3e470 00007ff8`522c5a7d combase!CProcessActivator::CreateInstance+0x8b [onecore\com\combase\objact\actvator.cxx @ 1268] 
07 0000002f`12f3e4c0 00007ff8`522c334a combase!ActivationPropertiesIn::DelegateCreateInstance+0xad [onecore\com\combase\actprops\actprops.cxx @ 1905] 
08 0000002f`12f3e550 00007ff8`522c5a87 combase!CClientContextActivator::CreateInstance+0x14a [onecore\com\combase\objact\actvator.cxx @ 567] 
09 0000002f`12f3e800 00007ff8`52273138 combase!ActivationPropertiesIn::DelegateCreateInstance+0xb7 [onecore\com\combase\actprops\actprops.cxx @ 1957] 
0a 0000002f`12f3e890 00007ff8`52272589 combase!ICoCreateInstanceEx+0xa38 [onecore\com\combase\objact\objact.cxx @ 1959] 
0b 0000002f`12f3f710 00007ff8`52272393 combase!CComActivator::DoCreateInstance+0x169 [onecore\com\combase\objact\immact.hxx @ 385] 
0c (Inline Function) --------`-------- combase!CoCreateInstanceEx+0x88 [onecore\com\combase\objact\actapi.cxx @ 177] 
0d 0000002f`12f3f830 00007ff6`69b5e220 combase!CoCreateInstance+0xc3 [onecore\com\combase\objact\actapi.cxx @ 121] 
0e 0000002f`12f3f8d0 00007ff6`69ba0f40 client!main+0x1a0 [c:\users\archbox\desktop\wincpp\com-ole\comtest\client.cpp @ 34] 
0f (Inline Function) --------`-------- client!invoke_main+0x22 [f:\dd\vctools\crt\vcstartup\src\startup\exe_common.inl @ 78] 
10 0000002f`12f3f980 00007ff8`54133034 client!__scrt_common_main_seh+0x110 [f:\dd\vctools\crt\vcstartup\src\startup\exe_common.inl @ 283] 
11 0000002f`12f3f9c0 00007ff8`54471431 KERNEL32!BaseThreadInitThunk+0x14
12 0000002f`12f3f9f0 00000000`00000000 ntdll!RtlUserThreadStart+0x21
</pre>
</div>

<p>
Show stack of thread 0 (id = 0)
</p>

<ul class="org-ul">
<li>Command: k0</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; k0
 # Child-SP          RetAddr           Call Site
00 0000002f`12f3e090 00007ff8`522c5abf combase!CServerContextActivator::CreateInstance+0x23a [onecore\com\combase\objact\actvator.cxx @ 910] 
01 0000002f`12f3e210 00007ff8`522d63d1 combase!ActivationPropertiesIn::DelegateCreateInstance+0xef [onecore\com\combase\actprops\actprops.cxx @ 1905] 
02 0000002f`12f3e2a0 00007ff8`522d5b62 combase!CApartmentActivator::CreateInstance+0xc1 [onecore\com\combase\objact\actvator.cxx @ 2169] 
03 0000002f`12f3e350 00007ff8`522d5e30 combase!CProcessActivator::CCICallback+0x72 [onecore\com\combase\objact\actvator.cxx @ 1637] 
04 0000002f`12f3e390 00007ff8`522d5c7e combase!CProcessActivator::AttemptActivation+0x40 [onecore\com\combase\objact\actvator.cxx @ 1524] 
05 0000002f`12f3e3e0 00007ff8`522d608b combase!CProcessActivator::ActivateByContext+0xae [onecore\com\combase\objact\actvator.cxx @ 1368] 
06 0000002f`12f3e470 00007ff8`522c5a7d combase!CProcessActivator::CreateInstance+0x8b [onecore\com\combase\objact\actvator.cxx @ 1268] 
07 0000002f`12f3e4c0 00007ff8`522c334a combase!ActivationPropertiesIn::DelegateCreateInstance+0xad [onecore\com\combase\actprops\actprops.cxx @ 1905] 
08 0000002f`12f3e550 00007ff8`522c5a87 combase!CClientContextActivator::CreateInstance+0x14a [onecore\com\combase\objact\actvator.cxx @ 567] 
09 0000002f`12f3e800 00007ff8`52273138 combase!ActivationPropertiesIn::DelegateCreateInstance+0xb7 [onecore\com\combase\actprops\actprops.cxx @ 1957] 
0a 0000002f`12f3e890 00007ff8`52272589 combase!ICoCreateInstanceEx+0xa38 [onecore\com\combase\objact\objact.cxx @ 1959] 
0b 0000002f`12f3f710 00007ff8`52272393 combase!CComActivator::DoCreateInstance+0x169 [onecore\com\combase\objact\immact.hxx @ 385] 
0c (Inline Function) --------`-------- combase!CoCreateInstanceEx+0x88 [onecore\com\combase\objact\actapi.cxx @ 177] 
0d 0000002f`12f3f830 00007ff6`69b5e220 combase!CoCreateInstance+0xc3 [onecore\com\combase\objact\actapi.cxx @ 121] 
0e 0000002f`12f3f8d0 00007ff6`69ba0f40 client!main+0x1a0 [c:\users\archbox\desktop\wincpp\com-ole\comtest\client.cpp @ 34] 
0f (Inline Function) --------`-------- client!invoke_main+0x22 [f:\dd\vctools\crt\vcstartup\src\startup\exe_common.inl @ 78] 
10 0000002f`12f3f980 00007ff8`54133034 client!__scrt_common_main_seh+0x110 [f:\dd\vctools\crt\vcstartup\src\startup\exe_common.inl @ 283] 
11 0000002f`12f3f9c0 00007ff8`54471431 KERNEL32!BaseThreadInitThunk+0x14
12 0000002f`12f3f9f0 00000000`00000000 ntdll!RtlUserThreadStart+0x21

</pre>
</div>

<p>
Show stack of thread 1 (id = 1)
</p>

<ul class="org-ul">
<li>Command: k1</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; k1
 # Child-SP          RetAddr           Call Site
00 0000002f`12f3e090 00007ff8`522c5abf combase!CServerContextActivator::CreateInstance+0x23a [onecore\com\combase\objact\actvator.cxx @ 910] 

</pre>
</div>

<p>
Show stack of thread N  where N = 0, 1, 2&#x2026; (id = N)
</p>

<ul class="org-ul">
<li>Command: k&lt;N&gt;</li>
</ul>
</div>
</div>

<div id="outline-container-orgbe169cf" class="outline-4">
<h4 id="orgbe169cf"><span class="section-number-4">3.3.16</span> List Processes</h4>
<div class="outline-text-4" id="text-3-3-16">
<p>
List all processes in the current machine. 
</p>

<ul class="org-ul">
<li>Command: .tlist</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">:000&gt; .tlist

    0n0 System Process
    0n4 System
   0n68 Registry
  0n336 smss.exe
  0n420 csrss.exe
  0n492 wininit.exe
  0n504 csrss.exe
  0n568 winlogon.exe
   ...  ...  ...  ...  ...  ...  ... 
 0n6504 SearchProtocolHost.exe
 0n3584 SearchFilterHost.exe
</pre>
</div>
</div>
</div>

<div id="outline-container-org619450b" class="outline-4">
<h4 id="org619450b"><span class="section-number-4">3.3.17</span> Show all symbols exported by a module</h4>
<div class="outline-text-4" id="text-3-3-17">
<ul class="org-ul">
<li>Command: x&lt;module&gt;!*</li>
</ul>

<p>
Examples: 
</p>
<ul class="org-ul">
<li>xclient!*</li>
<li>xntdll!*</li>
</ul>

<p>
Show all symbols exported by the module client (client.exe) or application
being debugged. 
</p>

<div class="org-src-container">
<pre class="src src-text">&gt;&gt;&gt; xclient!*
00007ff6`69c22130 client!__newclmap = unsigned char [] "???"
00007ff6`69c22130 client!__newclmap = unsigned char [384] "???"
00007ff6`69c23828 client!__exp_bias_m1 = 0x3fe
00007ff6`69c1f3d8 client!std::money_get&lt;wchar_t,std::istreambuf_iterator&lt;wchar_t,std::char_traits&lt;wchar_t&gt; &gt; &gt;::`vftable' = &lt;function&gt; *[6]
00007ff6`69c25af8 client!__acrt_signal_action_table_size = 0xc0
00007ff6`69c237d0 client!__pos_zero = 0
00007ff6`69c47a38 client!std::_Ptr_wcout = 0x00000000`00000000
00007ff6`69c450b0 client!_fltused = 0n39029
00007ff6`69c2d130 client!_LInf_C = union _float_const
00007ff6`69c2d310 client!__mask_mant = 0x000fffff`ffffffff
00007ff6`69c4a000 client!enable_percent_n = 0
 , ... ... ... ... ... ... ... 

00007ff6`69c0b27e client!_abstract_sw =  (inline caller) client!_statusfp+a
00007ff6`69c0b318 client!_abstract_cw =  (inline caller) client!common_control87+28
00007ff6`69c0b3f7 client!_hw_cw =  (inline caller) client!common_control87+107
00007ff6`69c0b4f5 client!_abstract_cw =  (inline caller) client!common_control87+205
</pre>
</div>

<p>
Show all symbols exported by the module ntdll 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; xntdll!*

00007ff8`5445c658 ntdll!RtlpHpVaMgrRangeCreate (void)
00007ff8`5444a7b0 ntdll!RtlFindLastBackwardRunClear (void)
00007ff8`54443f30 ntdll!EtwDeliverDataBlock (void)
00007ff8`54481790 ntdll!RtlpInitializeStaticCriticalSection (void)
00007ff8`5443f260 ntdll!RtlpTpWorkCallback (void)
00007ff8`544a2608 ntdll!RtlUnicodeStringToOemString$fin$0 (void)
00007ff8`54402a88 ntdll!TppETWTimerCancelled (void)
00007ff8`5445e5e0 ntdll!RtlpQueryExtendedInformationHeap (void)
  ... ... .. ... ... .. ... ... .. ... ... .. ... ... 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6f4ee3" class="outline-4">
<h4 id="orgc6f4ee3"><span class="section-number-4">3.3.18</span> Evaluate C++ Expressions</h4>
<div class="outline-text-4" id="text-3-3-18">
<p>
Reference: 
</p>

<ul class="org-ul">
<li><a href="https://blogs.msdn.microsoft.com/debuggingtoolbox/2008/03/04/special-command-using-c-and-poi-with-cc-expressions/">Special Command: Using ??, @@c++() and poi() with C/C++ Expressions – Debugging Toolbox</a></li>
<li><a href="http://apprize.info/programming/reverse/5.html">Debugging and Automation - Practical Reverse Engineering: x86, x64, ARM, Windows Kernel, Reversing Tools, and Obfuscation (2014)</a></li>
</ul>

<p>
Commands: 
</p>
<ul class="org-ul">
<li>Set the current expression evaluator to C++
<ul class="org-ul">
<li>&gt;&gt; .expr /s c++</li>
</ul></li>
<li>Set the current expression evaluator to MASM (Microft Macro Assembler)
<ul class="org-ul">
<li>&gt;&gt; .expr /s masm</li>
</ul></li>
</ul>

<p>
Show available expression evaluators: 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .expr /q

Available expression evaluators:
MASM - Microsoft Assembler expressions
C++ - C++ source expressions

Current expression evaluator: MASM - Microsoft Assembler expressions
Available expression evaluators:
MASM - Microsoft Assembler expressions
C++ - C++ source expressions

Current expression evaluator: MASM - Microsoft Assembler expressions

</pre>
</div>

<p>
Set C++ as defaul expression evaulator: 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .expr /s c++
Current expression evaluator: C++ - C++ source expressions
Current expression evaluator: C++ - C++ source expressions
</pre>
</div>

<p>
Evaluate basic C++ expressions: 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; ?? @@c++(sizeof(int))
unsigned int64 4

0:000&gt; ?? @@c++(sizeof(double))
unsigned int64 8

0:000&gt; ?? @@c++(sizeof(long))
unsigned int64 4

0:000&gt; ?? @@c++(sizeof(LPVOID))
unsigned int64 8

0:000&gt; ?? @@c++(sizeof(LPSTR))
unsigned int64 8

</pre>
</div>

<p>
Explorer process environment block data structure PEB. Note: The PEB
can be seen with the command &gt;&gt; !peb 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; ? @@c++(sizeof(@$peb))
Evaluate expression: 8 = 00000000`00000008

0:000&gt; ? @@c++(@$peb-&gt;ImageBaseAddress)
Evaluate expression: 140696312152064 = 00007ff6`69b50000

0:000&gt; ? @@c++(@$peb-&gt;Ldr)
Evaluate expression: 140704543523680 = 00007ff8`5455c360

0:000&gt; ? @@c++(@$peb-&gt;Ldr-&gt;Initialized)
Evaluate expression: 1 = 00000000`00000001
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd78716" class="outline-4">
<h4 id="orgcd78716"><span class="section-number-4">3.3.19</span> Exceptions</h4>
<div class="outline-text-4" id="text-3-3-19">
<p>
Last event: 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .lastevent
Last event: 1bac.1294: Access violation - code c0000005 (!!! second chance !!!)
  debugger time: Sun Aug 26 17:12:56.363 2018 (UTC - 7:00)

</pre>
</div>

<p>
Display most recent exception:
</p>

<ul class="org-ul">
<li>Command: .exr -1</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; .exr -1

ExceptionAddress: 00007ff8522faf5a (combase!CServerContextActivator::CreateInstance+0x000000000000023a)
   ExceptionCode: c0000005 (Access violation)
  ExceptionFlags: 00000000
NumberParameters: 2
   Parameter[0]: 0000000000000000
   Parameter[1]: 0000000000000000
Attempt to read from address 0000000000000000
</pre>
</div>

<p>
Show detailed information about current exception: 
</p>

<ul class="org-ul">
<li>Command: !analyse -v</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !analyze -v

*******************************************************************************
*                                                                             *
*                        Exception Analysis                                   *
*                                                                             *
*******************************************************************************

 ... ... ... ... ... ... ...  ... ... ... ... ... ... ...  ... ... ... ... ...


PROCESS_NAME:  client.exe

FOLLOWUP_IP: 
client!main+1a0 [c:\users\archbox\desktop\wincpp\com-ole\comtest\client.cpp @ 34]
00007ff6`69b5e220 89442460        mov     dword ptr [rsp+60h],eax

READ_ADDRESS:  0000000000000000 

ERROR_CODE: (NTSTATUS) 0xc0000005 - The instruction at 0x%p referenced memory at 0x%p. The memory could not be %s.

 ... .... ... ... ... ...  ... .... ... ... ... ...  ... .... ... ... ... ... 

STACK_TEXT:  
0000002f`12f3e090 00007ff8`522c5abf : 00000000`00000000 0000002f`12f3f3c0 00000000`00000002 00000212`cb651d00 : combase!CServerContextActivator::CreateInstance+0x23a
0000002f`12f3e210 00007ff8`522d63d1 : 00000212`cb630000 0030002d`40000062 0000002f`12f3f110 00000000`00000000 : combase!ActivationPropertiesIn::DelegateCreateInstance+0xef
0000002f`12f3e2a0 00007ff8`522d5b62 : 00000000`00000000 00000000`00000000 0000002f`12f3e8e0 00000000`00000000 : combase!CApartmentActivator::CreateInstance+0xc1
0000002f`12f3e350 00007ff8`522d5e30 : 00007ff8`525144c0 00000000`00000000 0000002f`12f3f3c0 00007ff8`522c4850 : combase!CProcessActivator::CCICallback+0x72
0000002f`12f3e390 00007ff8`522d5c7e : 0000002f`12f3efe8 00000000`00000000 00000000`00000000 00007ff8`52278cb7 : combase!CProcessActivator::AttemptActivation+0x40
0000002f`12f3e3e0 00007ff8`522d608b : 00007ff8`525144b0 00000000`524a32c0 00000000`00000000 00000000`00000017 : combase!CProcessActivator::ActivateByContext+0xae

 ... .... ... ... ... ...  ... .... ... ... ... ...  ... .... ... ... ... ...  ... .... ... ... ... ... 


FAULTING_SOURCE_CODE:  
    30: 
    31:  IService* pComponent = nullptr;
    32: 
    33:  std::cerr &lt;&lt; "Creating COM Instance" &lt;&lt; std::endl;
&gt;   34:  hr = CoCreateInstance(
    35:          // REFCLSID or GUID rclsid
    36:          clsid, //IID_IUnknown,
    37:          // LPUNKNOWN pUnkOuter 
    38:          NULL,
    39:          // DWORD dwClsContext


... ... 

FAILURE_ID_HASH_STRING:  um:null_pointer_read_c0000005_client.exe!main

FAILURE_ID_HASH:  {38138cf1-8f6c-6157-2e18-446b4fc12b02}

Followup:     MachineOwner
---------


</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc7b04b" class="outline-4">
<h4 id="orgcc7b04b"><span class="section-number-4">3.3.20</span> Inspect data structures</h4>
<div class="outline-text-4" id="text-3-3-20">
<p>
Show PEB - Process Environment Block 
</p>

<ul class="org-ul">
<li>Command: !peb</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !peb

PEB at 000000dc0a234000
    InheritedAddressSpace:    No
    ReadImageFileExecOptions: No
    BeingDebugged:            Yes
    ImageBaseAddress:         00007ff691ee0000
    Ldr                       00007ff82ddbc360
    Ldr.Initialized:          Yes
    Ldr.InInitializationOrderModuleList: 0000026976932eb0 . 00000269769335d0
    Ldr.InLoadOrderModuleList:           0000026976933060 . 0000026976933c60
    Ldr.InMemoryOrderModuleList:         0000026976933070 . 0000026976933c70
                    Base TimeStamp                     Module
            7ff691ee0000 5b89d00b Aug 31 16:32:27 2018 C:\Users\archbox\Desktop\wincpp\out.exe
            7ff82dc60000 6d15b6d7 Dec 29 20:06:47 2027 C:\WINDOWS\SYSTEM32\ntdll.dll
            7ff82b0f0000 5f488a51 Aug 27 21:38:41 2020 C:\WINDOWS\System32\KERNEL32.DLL
            7ff82aae0000 b0bb231d Dec 16 10:10:37 2063 C:\WINDOWS\System32\KERNELBASE.dll
    SubSystemData:     0000000000000000
    ProcessHeap:       0000026976930000
 ... ... ... ....  ... ... ... ....  ... ... ... ....  ... ... ... ....  ... ... ... .... 
</pre>
</div>

<p>
Show TEB - Thread Environment Block 
</p>

<ul class="org-ul">
<li>Command: !teb</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; !teb
TEB at 000000dc0a235000
    ExceptionList:        0000000000000000
    StackBase:            000000dc0a180000
    StackLimit:           000000dc0a17d000
    SubSystemTib:         0000000000000000
    FiberData:            0000000000001e00
    ArbitraryUserPointer: 0000000000000000
    Self:                 000000dc0a235000
    EnvironmentPointer:   0000000000000000
    ClientId:             0000000000001940 . 0000000000000b24
    RpcHandle:            0000000000000000
    Tls Storage:          000000dc0a235058
    PEB Address:          000000dc0a234000
    LastErrorValue:       0
    LastStatusValue:      c00000bb
    Count Owned Locks:    0
    HardErrorMode:        0
TEB at 000000dc0a235000
    ExceptionList:        0000000000000000
    StackBase:            000000dc0a180000
    StackLimit:           000000dc0a17d000
    SubSystemTib:         0000000000000000
    FiberData:            0000000000001e00
    ArbitraryUserPointer: 0000000000000000
    Self:                 000000dc0a235000
    EnvironmentPointer:   0000000000000000
    ClientId:             0000000000001940 . 0000000000000b24
    RpcHandle:            0000000000000000
    Tls Storage:          000000dc0a235058
    PEB Address:          000000dc0a234000
    LastErrorValue:       0
    LastStatusValue:      c00000bb
    Count Owned Locks:    0
    HardErrorMode:        0
</pre>
</div>

<p>
Show all data structures exported by ntdll 
</p>

<ul class="org-ul">
<li>Command: dt ntdll!*</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; dt ntdll!*

          ntdll!LIST_ENTRY64
          ntdll!LIST_ENTRY32
          ntdll!SE_WS_APPX_SIGNATURE_ORIGIN
          ntdll!_PS_MITIGATION_OPTION
          ntdll!_PS_MITIGATION_OPTIONS_MAP
          ntdll!_PS_MITIGATION_AUDIT_OPTIONS_MAP
          ntdll!_KSYSTEM_TIME
          ntdll!_NT_PRODUCT_TYPE
          ntdll!_ALTERNATIVE_ARCHITECTURE_TYPE
          ntdll!_KUSER_SHARED_DATA
          ntdll!&lt;unnamed-tag&gt;
          ntdll!_ULARGE_INTEGER
          ntdll!_TP_POOL
          ntdll!_TP_CLEANUP_GROUP
          ntdll!_ACTIVATION_CONTEXT
          ... ... ... ... ... 
</pre>
</div>

<p>
Show layout of data structure <code>_peb</code> - process neviromnet block.
</p>

<ul class="org-ul">
<li>Command: <code>dt ntdll!_peb</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">:000&gt; dt ntdll!_peb

   +0x000 InheritedAddressSpace : UChar
   +0x001 ReadImageFileExecOptions : UChar
   +0x002 BeingDebugged    : UChar
   +0x003 BitField         : UChar
    ... ... ... ... ... 
</pre>
</div>

<p>
Show content of data structure PEB. 
</p>

<div class="org-src-container">
<pre class="src src-text">0:000&gt; dt ntdll!_PEB @$peb

   +0x000 InheritedAddressSpace : 0 ''
   +0x001 ReadImageFileExecOptions : 0 ''
   +0x002 BeingDebugged    : 0x1 ''
   +0x003 BitField         : 0x4 ''
   +0x003 ImageUsesLargePages : 0y0
   +0x003 IsProtectedProcess : 0y0
   +0x003 IsImageDynamicallyRelocated : 0y1
   +0x003 SkipPatchingUser32Forwarders : 0y0
   +0x003 IsPackagedProcess : 0y0
   +0x003 IsAppContainer   : 0y0
   +0x003 IsProtectedProcessLight : 0y0
   +0x003 IsLongPathAwareProcess : 0y0
   +0x004 Padding0         : [4]  ""
   +0x008 Mutant           : 0xffffffff`ffffffff Void
   +0x010 ImageBaseAddress : 0x00007ff6`c7f40000 Void
   +0x018 Ldr              : 0x00007ff8`2ddbc360 _PEB_LDR_DATA
   +0x020 ProcessParameters : 0x000001d7`cc5825c0 _RTL_USER_PROCESS_PARAMETERS
   +0x028 SubSystemData    : (null) 
   +0x030 ProcessHeap      : 0x000001d7`cc580000 Void
   +0x038 FastPebLock      : 0x00007ff8`2ddbbe80 _RTL_CRITICAL_SECTION
   +0x040 AtlThunkSListPtr : (null) 
   +0x048 IFEOKey          : (null) 
   +0x050 CrossProcessFlags : 1
   +0x050 ProcessInJob     : 0y1
   +0x050 ProcessInitializing : 0y0
 .. ... ... .. ... ... .. ... ... .. ... ... 
</pre>
</div>


<p>
Get process base address. 
</p>

<div class="org-src-container">
<pre class="src src-text">start             end                 module name
start             end                 module name
00007ff6`91ee0000 00007ff6`91fec000   00007ff6`91ee0000 00007ff6`91fec000   outout      out.exe     
00007ff8`2aae0000 00007ff8`2ad53000         out.exe     
00007ff8`2aae0000 00007ff8`2ad53000   KERNELBASEKERNELBASE C:\WINDOWS\System32\KERNELBASE.dll
00007ff8`2b0f0000 00007ff8`2b1a2000    C:\WINDOWS\System32\KERNELBASE.dll
00007ff8`2b0f0000 00007ff8`2b1a2000   KERNEL32KERNEL32 C:\WINDOWS\System32\KERNEL32.DLL
00007ff8`2dc60000 00007ff8`2de41000    C:\WINDOWS\System32\KERNEL32.DLL
00007ff8`2dc60000 00007ff8`2de41000   ntdllntdll    ntdll.dll   
    ntdll.dll   

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgfef8988" class="outline-3">
<h3 id="orgfef8988"><span class="section-number-3">3.4</span> References</h3>
<div class="outline-text-3" id="text-3-4">
<ul class="org-ul">
<li><a href="https://www.codeproject.com/Articles/6084/Windows-Debuggers-Part-1-A-WinDbg-Tutorial">Windows Debuggers: Part 1: A WinDbg Tutorial - CodeProject</a></li>

<li><a href="https://www.codeproject.com/Articles/22245/Quick-start-to-using-WinDbg">Quick start to using WinDbg - CodeProject</a></li>

<li><a href="https://www.codeproject.com/Articles/707488/Part-1-Windows-Debugging-Techniques-Debugging-Ap-2">Part 1: Windows Debugging Techniques - Debugging Application Crash (Windbg) - CodeProject</a></li>

<li><a href="https://briolidz.wordpress.com/2013/11/17/windbg-some-debugging-commands/">WinDbg: Some debugging commands | Kamel Messaoudi</a></li>

<li>Robert Kuster. <b>WinDbg From A to Z</b> -
<a href="http://windbg.info/download/doc/pdf/WinDbg_A_to_Z_bw2.pdf">http://windbg.info/download/doc/pdf/WinDbg_A_to_Z_bw2.pdf</a></li>

<li>Arno Hutter. <b>Windows Debugging with WinDbg</b> -
<a href="https://www.slideshare.net/ArnoHuetter/windows-debugging-with-windbg">https://www.slideshare.net/ArnoHuetter/windows-debugging-with-windbg</a></li>

<li>Revealing Stealth Malware UMD CMSC389M -
<a href="https://drive.google.com/viewerng/viewer?url=https://www.cs.umd.edu/class/winter2013/cmsc389m/Syllabus_files/StealthMalware_1-10-2013_1.pptx">https://drive.google.com/viewerng/viewer?url=https://www.cs.umd.edu/class/winter2013/cmsc389m/Syllabus_files/StealthMalware_1-10-2013_1.pptx</a></li>

<li><a href="http://kiewic.com/2014-07-26/win32-mutex-handles-and-windbg-handle-extension">Win32 Mutex, HANDLEs and WinDbg !handle extension. - kiewic (formerly Monkey Weekend)</a></li>

<li><a href="https://blogs.msdn.microsoft.com/debuggingtoolbox/2008/03/04/special-command-using-c-and-poi-with-cc-expressions/">Special Command: Using ??, @@c++() and poi() with C/C++ Expressions – Debugging Toolbox</a></li>

<li><a href="https://mtaulty.com/2004/08/03/m_4656/">A word for WinDbg – Mike Taulty</a></li>

<li><b>Chapter 8 - Advanced Native Ciode Techniques with WinDBG</b> -
<a href="https://drive.google.com/viewerng/viewer?url=http://ecs.syr.edu/faculty/fawcett/Handouts/TestingSeminar/Chapter8.ppt">https://drive.google.com/viewerng/viewer?url=http://ecs.syr.edu/faculty/fawcett/Handouts/TestingSeminar/Chapter8.ppt</a></li>

<li><a href="https://blogs.msdn.microsoft.com/doronh/2006/03/28/debugger-commands-dps-dpp-that-make-my-life-easier-part-5/">Debugger commands (dps, dpp) that make my life easier (part 5) – A Hole In My Head</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2020-01-13 Mon 15:22</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
