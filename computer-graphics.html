<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-02-08 seg 23:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Computer Graphics</title>
<meta name="generator" content="Org mode" />
<meta name="description" content="cpp/c++ interoperability ffi shim qt5 widgets gui library wrapper julia dlang"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<link href="theme/org-nav-theme.css" rel="stylesheet">
<script src="theme/org-nav-theme.js"></script>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Computer Graphics</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org890f29d">1. Computer Graphics</a>
<ul>
<li><a href="#orga6da097">1.1. Main Computer Graphics APIs</a></li>
<li><a href="#org06f67aa">1.2. OpenGL companion libraries</a></li>
<li><a href="#org4040c60">1.3. OpenGL Terminology</a></li>
<li><a href="#org9305602">1.4. Legacy OpenGL Subroutines</a></li>
<li><a href="#org8564cca">1.5. Library GLM - OpenGL Math</a></li>
<li><a href="#org5f63dfa">1.6. Simple 2D draphics - no VBO abstraction</a></li>
<li><a href="#orgc389878">1.7. Simple 2D graphics - using VBO abstraction</a></li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org890f29d" class="outline-2">
<h2 id="org890f29d"><span class="section-number-2">1</span> Computer Graphics</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orga6da097" class="outline-3">
<h3 id="orga6da097"><span class="section-number-3">1.1</span> Main Computer Graphics APIs</h3>
<div class="outline-text-3" id="text-1-1">
<p>
<b>Native Graphics APIs</b> (exposed as C-subroutines)
</p>

<ul class="org-ul">
<li><a href="https://www.opengl.org//">OpenGL</a> (Khronos Group) - Main OpenGL specification
<ul class="org-ul">
<li>=&gt; Open standard, cross-platform and vendor-independent API for
rendering 2D or 3D computer graphics with GPU (Graphics
Processing Unit) acceleration. OpenGL can be used for
implementing computer graphics, games, scientific vizualization,
virtual reality and CADs - Computer Aided Design
software. OpenGL API specificiation is maintained as an
open-standard by the Krhonos Group industry consortium.</li>

<li>=&gt; OpenGL has two modes, <span class="underline">immediate mode</span> (a.k.a fixed-function
pipeline, legacy-OpenGL) which is being depreacted, and <span class="underline">retained</span>
<span class="underline">mode</span> (modern OpenGL) that delivers more performance and is based
on buffer-objects and shaders.</li>

<li>=&gt; OpenGL Official Specification: <a href="https://www.khronos.org/registry/OpenGL/index_gl.php">Khronos OpenGL® Registry</a></li>
</ul></li>

<li><span class="underline">OpenGL ES</span>  (Khronos Group)
<ul class="org-ul">
<li>=&gt; OpenGL for embedded systems, mobile devices and touch screen
devices and so on. This API (Application Programming Interface)
is widely used by many mobile games.</li>

<li>=&gt; Similar to OpenGL specfication, but supports only the
<span class="underline">retained-mode</span>. OpenGL ES does not support <span class="underline">immediate-mode</span>. As a
result, calls to legacy OpenGL subroutines such as glBegin(),
glEnd(), glRotate(), glTranslate(), &#x2026;, are not supported.</li>
</ul></li>

<li><a href="https://www.khronos.org/vulkan/">Vulkan</a>_(Khronos Group)
<ul class="org-ul">
<li>=&gt; Graphics API with GPU acceleration that provides more
low-level GPU control and less overhead than OpenGL. This API is
designed for taking more advantag of multi-core CPU
architectures and performing tasks in parallel.</li>
</ul></li>

<li><a href="https://en.wikipedia.org/wiki/DirectX">DirectX</a> / Direct3D (Microsoft inc.) - Windows-only
<ul class="org-ul">
<li>=&gt; Microsoft's graphics API for accessing the GPU hardware. It
is only available on operating systems based Windows-NT kernel
and Windows-CE kernel (embedded version of Windows-NT).</li>
</ul></li>

<li><a href="https://developer.apple.com/metal/">Metal</a> (Apple inc.) 
<ul class="org-ul">
<li>=&gt; Apple-only API for rendering 2D or 3D computer graphics with
GPU acceleration. This API is available only on iOS and MacOSX
operating systems. On iOS and MacOSX, Apple is deprecating and
phasing out OpenGL in favor of its own  API.</li>
</ul></li>
</ul>

<p>
<b>Web Computer Graphics APIs</b> (exposed as Javascript/ECMAScript subroutines)
</p>

<ul class="org-ul">
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Tutorial/Getting_started_with_WebGL">WebGL</a> (Khronos Group)  / Html5 API 
<ul class="org-ul">
<li>=&gt; Based on OpenGL ES and implemented by major web
browsers. Unlike OpenGL or OpenGL ES, which are exposed via C
subroutines, WebGL is exposed to calling codes via JavaScript
(ECMAScript) and Html5 canvas.</li>

<li>=&gt; Note: This API does not support OpenGL immediate-mode or
legacy OpenGL. WebGL only supports <span class="underline">retained-mode</span>.</li>
</ul></li>

<li><a href="https://en.wikipedia.org/wiki/WebGPU">WebGPU</a> (W3C Consortium) - Upcoming Html5 standard. 
<ul class="org-ul">
<li>=&gt; Upcoming graphics API for web browser, based on Vulkan,
Metal and DirectX which intends to deliver more low level GPU
control and higher performance. Unlike WebGL, this API is not a
direct port of any native graphics API such as Vulkan, Metal and
DirectX.</li>
<li><a href="https://gpuweb.github.io/gpuweb/">WebGPU - Editor’s Draft</a></li>
<li><a href="https://github.com/gpuweb/gpuweb/wiki/Implementation-Status">Implementation Status · gpuweb/gpuweb Wiki · GitHub</a></li>
<li><a href="https://github.com/gpuweb/gpuweb">GitHub - gpuweb/gpuweb: Where the GPU for the Web work happens!</a></li>
<li><a href="https://kvark.github.io/web/gpu/native/2020/05/03/point-of-webgpu-native.html">Point of WebGPU on native</a></li>
<li><a href="https://hacks.mozilla.org/2020/04/experimental-webgpu-in-firefox/">A Taste of WebGPU in Firefox - Mozilla Hacks - the Web developer blog</a></li>
</ul></li>
</ul>


<p>
<b>Further Reading</b> 
</p>

<ul class="org-ul">
<li><a href="https://vulkan.gpuinfo.org/listdevices.php">Devices - Vulkan Hardware Database by Sascha Willems</a></li>

<li><a href="https://github.com/KhronosGroup/MoltenVK">GitHub - KhronosGroup/MoltenVK</a>
<ul class="org-ul">
<li>"MoltenVK is a Vulkan Portability implementation. It layers a
subset of the high-performance, industry-standard Vulkan
graphics and compute API over Apple's Metal graphics framework,
enabling Vulkan applications to run on iOS and macOS."</li>
</ul></li>

<li><a href="https://www.pcgamer.com/doom-benchmarks-return-vulkan-vs-opengl/">Doom benchmarks return: Vulkan vs. OpenGL | PC Gamer</a></li>

<li><a href="https://linuxhint.com/vulkan-for-linux-users/">Vulkan for Linux Users – Linux Hint</a></li>

<li><a href="https://stackoverflow.com/questions/56766983/what-can-vulkan-do-specifically-that-opengl-4-6-cannot">What can Vulkan do specifically that OpenGL 4.6+ cannot? - Stack</a></li>

<li><a href="https://softwareengineering.stackexchange.com/questions/380832/opengl-and-global-state">design - OpenGL and global state - Software Engineering Stack Exchange</a></li>
</ul>
</div>
</div>

<div id="outline-container-org06f67aa" class="outline-3">
<h3 id="org06f67aa"><span class="section-number-3">1.2</span> OpenGL companion libraries</h3>
<div class="outline-text-3" id="text-1-2">
<p>
<b>OpenGL Companion Libraries</b> 
</p>

<p>
Core Libraries:
</p>

<ul class="org-ul">
<li><span class="underline">GL</span>  - OpenGL Graphics API</li>
</ul>

<p>
OpenGL Loaders:
</p>

<ul class="org-ul">
<li>Libraries that abstracts OpenGL function pointers loading in a
platform-independent way.</li>

<li><a href="http://glew.sourceforge.net/index.html">GLEW</a> - OpenGL Extension Wrangler [MOST USED]
<ul class="org-ul">
<li>"The OpenGL Extension Wrangler Library (GLEW) is a
cross-platform open-source C/C++ extension loading library. GLEW
provides efficient run-time mechanisms for determining which
OpenGL extensions are supported on the target platform. OpenGL
core and extension functionality is exposed in a single header
file. GLEW has been tested on a variety of operating systems,
including Windows, Linux, Mac OS X, FreeBSD, Irix, and Solaris."</li>
</ul></li>

<li><a href="https://glad.dav1d.de/">GLAD</a> - [MOST-USED] Multi-Language GL/GLES/EGL/GLX/WGL
Loader-Generator based on the official specs.</li>

<li><a href="https://github.com/cginternals/glbinding">GitHub - cginternals/glbinding</a>
<ul class="org-ul">
<li>"A C++ binding for the OpenGL API, generated using the gl.xml
specification."</li>
</ul></li>

<li><a href="https://github.com/anholt/libepoxy">GitHub - anholt/libepoxy</a>
<ul class="org-ul">
<li>"Epoxy is a library for handling OpenGL function pointer
management for you."</li>
</ul></li>

<li><a href="https://github.com/imakris/glatter">GitHub - imakris/glatter</a>
<ul class="org-ul">
<li>"An OpenGL loading library, with support for GL, GLES, EGL, GLX and WGL"</li>
</ul></li>

<li><a href="https://galogen.gpfault.net/">Galogen OpenGL Loader Generator</a>
<ul class="org-ul">
<li>"Galogen is an OpenGL loader generator. Given an API version and
a list of extensions, Galogen will produce corresponding headers
and code that load the exact OpenGL entry points you need. The
produced code can then be used directly by your C or C++
application, without having to link against any additional
libraries."</li>
</ul></li>

<li><a href="https://github.com/SFML/SFML-glLoadGen">GitHub - SFML/SFML-glLoadGen</a>
<ul class="org-ul">
<li>Customized glLoadGen for SFML</li>
</ul></li>
</ul>

<p>
Libraries for window systems, event handling and OpenGL context abstraction: 
</p>

<ul class="org-ul">
<li>Abstract platform-specific window system and event handling.</li>

<li><a href="https://www.glfw.org/">GLFW</a> [BEST] [MOST-USED]
<ul class="org-ul">
<li>C library that provides graphics windows for OpenGL, Vulkan,
OpenGL ES and deals with event handling.</li>
</ul></li>

<li><a href="https://www.libsdl.org/">SDL</a> (Simple Direct Media Layer) [BEST] [MOST-USED]
<ul class="org-ul">
<li>Cross-platform C library that provides windows and event
handling for many computer graphics APIs such as OpenGL, Vulkan
and DirectX. SLD also has facilities for dealing with audio,
joystick, CD-ROM, network and threads.</li>
</ul></li>

<li><a href="http://freeglut.sourceforge.net/">GLUT</a> (FreeGlut) - OpenGL Utility Toolkit
<ul class="org-ul">
<li>Deals with window creation, OpenGL initialization, event
handling and  so on.</li>
<li>Docs: <a href="https://www.glfw.org/documentation.html">https://www.glfw.org/documentation.html</a></li>
</ul></li>
</ul>


<p>
OpenGL Math and Matrix Transformations: 
</p>

<ul class="org-ul">
<li><a href="https://glm.g-truc.net/0.9.5/api/index.html">GLM</a> (OpenGL Mathematics Library) [MOST-USED]
<ul class="org-ul">
<li>Source code: <a href="https://github.com/g-truc/glm">https://github.com/g-truc/glm</a></li>
<li>Header-only C++ library that provides classes for computer
graphics mathematics such as: 2D, 3D and homogeneous coordinate
vector; 2D, 3D and homogeneous coordinate transformation
matrices; quaternions and subroutines for computing camera,
perspective or orthogonal transformation matrices.</li>
</ul></li>

<li><a href="https://github.com/Kazade/kazmath">GitHub - Kazade/kazmath</a> - A C math library targeted at games
<ul class="org-ul">
<li>"Kazmath is a simple 3D maths library written in C. It was
initially coded for use in my book, Beginning OpenGL Game
Programming - Second edition, but rapidly gained a life of its
own. Kazmath is now used by many different projects, and
apparently is used in 25% of the worlds mobile games (yeah, I
don't believe it either - but it's used in Cocos2d-x)."</li>
</ul></li>

<li><a href="https://github.com/recp/cglm">GitHub - recp/cglm</a> -  Highly Optimized Graphics Math (glm) for C</li>

<li>See: <a href="https://github.com/chunkyguy/Math-Library-Test">GitHub - chunkyguy/Math-Library-Test</a> - A comparison of the
various major math libraries for speed and ease of use.</li>
</ul>


<p>
<b>See also:</b>
</p>

<ul class="org-ul">
<li><a href="https://www.khronos.org/opengl/wiki/OpenGL_Loading_Library">OpenGL Loading Library - OpenGL Wiki</a> / Khronos Group
<ul class="org-ul">
<li>"An OpenGL Loading Library is a library that loads pointers to
OpenGL functions at runtime, core as well as extensions. This is
required to access functions from OpenGL versions above 1.1 on
most platforms. Extension loading libraries also abstracts away
the difference between the loading mechanisms on different
platforms."</li>
</ul></li>

<li><a href="https://stackoverflow.com/questions/27873784/when-do-i-need-to-use-an-opengl-function-loader">When do I need to use an OpenGL function loader? - Stack Overflow</a></li>

<li><a href="https://keyj.emphy.de/glext/">KeyJ's Blog : Blog Archive » Modern OpenGL with lcc-win32, the hard way</a></li>

<li><a href="https://apoorvaj.io/loading-opengl-without-glew/">Loading OpenGL without GLEW</a></li>

<li><a href="https://www.libsdl.org/release/SDL-1.2.15/docs/html/guidevideoopengl.html">Using OpenGL With SDL</a> - LibSDL</li>

<li><a href="https://www.khronos.org/opengl/wiki/Tutorial1:_Creating_a_Cross_Platform_OpenGL_3.2_Context_in_SDL_(C_/_SDL)">Tutorial1: Creating a Cross Platform OpenGL 3.2 Context in SDL (C / SDL) - OpenGL Wiki</a></li>
</ul>
</div>
</div>
<div id="outline-container-org4040c60" class="outline-3">
<h3 id="org4040c60"><span class="section-number-3">1.3</span> OpenGL Terminology</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li><span class="underline">OpenGL</span> - Open Graphics Library</li>

<li><a href="http://glew.sourceforge.net/index.html">GLEW</a> - OpenGL Extension Wrangler</li>

<li>ARB - Architecture Review Board</li>

<li>OpenGL <span class="underline">Immediate Mode</span> (Fixed-Function Pipeline, Legacy OpenGL)
<ul class="org-ul">
<li>Also known as: Legacy OpenGL, Fixed-Function Pipeline</li>
<li>Drawing is mostly performed without storing data on GPU and by
using subroutines calls to glScale(), glRotate(), glPush(), glPop(),
glTranslate(), glBegin(), glEnd() and so on.</li>
<li>Immediate-mode is not supported by OpenGL ES or WebGL.</li>
</ul></li>

<li>OpenGL <span class="underline">restrained mode</span> (Programmable Pipeline, Modern OpenGL)
<ul class="org-ul">
<li>Also known as: Modern OpenGL, Programmable Pipeline</li>
<li>New and modern OpenGL API =&gt; Drawing is performed by storing
data on the GPU via VBO (Vertex Buffer Objects) and by using
<span class="underline">shaders</span>, programs that runs on GPU, for performing geometric
vertex transformations, color and texturing computations.</li>
<li>More peformant than <span class="underline">immediate-mode</span> as the data is not sent to
the GPU every frame.</li>
</ul></li>

<li><span class="underline">GPU</span> - Graphics Processing Unit</li>

<li><span class="underline">GPGPU</span> - General Purpose Computing on GPU
<ul class="org-ul">
<li>APIs: OpenGL, Cuda, and so on.</li>
<li>Parallel non-graphics computations on GPU. GPGPU APIs take
advantage of GPU parallel computing features for high
performance computing.</li>
</ul></li>

<li><span class="underline">Vertex</span> - 2D or 3D coordinates representing a point in the space.</li>

<li><span class="underline">2D</span> - 2 dimensions (plane) / 2 coordinates (X, Y)</li>

<li><span class="underline">3D</span> - 3 dimensions (space) / 3 coordinates (X, Y, Z)</li>

<li><span class="underline">Homogenous Coordinate</span> - Coordinate system using an extra dimension
for encoding translation coordinate transformation in the same way
as rotation matrices transformations.
<ul class="org-ul">
<li>2D homogeneous coordinates: (X, Y, W = 1)</li>
<li>3D homogeneous coordinates: (X, Y, Z, W = 1)</li>
</ul></li>

<li><span class="underline">NDC</span> - Normalized Device Coordinate
<ul class="org-ul">
<li>Default coordinates used by OpenGL (-1.0 to 1.0) for each
axis. Any vertex that falls out of this range will not be visible
on the screen.</li>
</ul></li>

<li><span class="underline">VBO</span> - Vertex Buffer Object</li>

<li><span class="underline">VAO</span> - Vertex Array Object</li>

<li><span class="underline">FBO</span> - Framebuffer Object</li>

<li><span class="underline">IBO</span> - Index Buffer Object</li>

<li><span class="underline">UBO</span> - Uniform Buffer Object</li>

<li><span class="underline">FPS</span> - Frame Per Seconds</li>

<li><span class="underline">Shader</span> - Program that runs on the GPU and performs vertex
computations such as coordinate transformations (matrix
multiplications), colors and texture computations.</li>

<li><span class="underline">GLSL</span> - OpenGL shading programming language - for performing
computer graphics calculations on the GPU hardware.</li>

<li><span class="underline">HLSL</span> (High-Level Shader Language) - Microsft DirectX shading language.</li>
</ul>
</div>
</div>

<div id="outline-container-org9305602" class="outline-3">
<h3 id="org9305602"><span class="section-number-3">1.4</span> Legacy OpenGL Subroutines</h3>
<div class="outline-text-3" id="text-1-4">
<p>
The following OpenGL subroutines are from the OpenGL immediate mode
(fixed-function pipeline) and are useful for identifying codes using
immediate-mode. 
</p>

<ul class="org-ul">
<li>Vertex:
<ul class="org-ul">
<li>glVertex2f()</li>
<li>glVertex2f()</li>
<li>glVertex3f()</li>
</ul></li>

<li>Begin/End:
<ul class="org-ul">
<li>glEnd()</li>
<li>glBegin()</li>
</ul></li>

<li>Colors
<ul class="org-ul">
<li>glColor()</li>
<li>glMaterial()</li>
<li>glVertexPointer()</li>
</ul></li>

<li>Coordinate Transformation
<ul class="org-ul">
<li>glLoadIdentity()</li>
<li>glRotate()</li>
<li>glTranslate()</li>
<li>glScale()</li>
<li>glRotate3f()</li>
<li>glMatrixMode()</li>
<li>glFrustum()</li>
<li>gluLookAt()</li>
<li>gluPerspective()</li>
</ul></li>

<li>Save Context 
<ul class="org-ul">
<li>glPop()</li>
<li>glPush()</li>
<li>glPushMatrix()</li>
<li>glPopMatrix()</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org8564cca" class="outline-3">
<h3 id="org8564cca"><span class="section-number-3">1.5</span> Library GLM - OpenGL Math</h3>
<div class="outline-text-3" id="text-1-5">
<p>
The library GLM (OpenGL math library) contains many classes and
subroutines for computer graphics computations, such as: homogeneous
coordinates; quaternios; 1D, 2D, 3D and homogeneous coordinates
vectors; vector-matrix operations and so on. Aside those facilities,
the library also provides the subroutines <span class="underline">glm::lookAt()</span>, for computing
view matrix transform, that turns world coordinates into camera
coordinates; <span class="underline">glm::perspective()</span> - for computing the projection matrix,
that turns camera coordinates into clip-space coordinates (NDC
coordinates with range -1.0 to 1.0) and also <span class="underline">glm::ortho</span> for computing
the orthogonal perspective matrix.
</p>

<p>
Web Site: 
</p>

<ul class="org-ul">
<li><a href="https://glm.g-truc.net/0.9.9/index.html">OpenGL Mathematics</a></li>
</ul>

<p>
Repository:
</p>

<ul class="org-ul">
<li><a href="https://github.com/g-truc/glm">https://github.com/g-truc/glm</a></li>
</ul>


<p>
Type signature of most relevant GLM functions: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">------ Basic Matrix Transformation =&gt;&gt; Useful for model matrix ---------------//</span>
<span class="org-type">float</span>     <span class="org-constant">glm</span>::<span class="org-function-name">radians</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">foat</span>  <span class="org-variable-name">degrees</span><span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::rotate   <span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">glm</span>::<span class="org-type">mat4</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">m</span>, <span class="org-type">float</span> <span class="org-variable-name">angle</span>, <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">axis</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::scale    <span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">glm</span>::<span class="org-type">mat4</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">m</span>, <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">factors</span>           <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::translate<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">glm</span>::<span class="org-type">mat4</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">m</span>, <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">translation</span>       <span class="org-rainbow-delimiters-depth-1">)</span>;


<span class="org-comment-delimiter">// </span><span class="org-comment">---- Camera and  Perspective transformation matrices -------------//</span>
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::lookAt<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">eye</span>, <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">look</span>, <span class="org-constant">glm</span>::<span class="org-type">vec3</span> <span class="org-keyword">const</span> &amp; <span class="org-variable-name">up</span> <span class="org-rainbow-delimiters-depth-1">)</span>; 
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::ortho<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">left</span>, <span class="org-type">float</span> <span class="org-variable-name">right</span>, <span class="org-type">float</span> <span class="org-variable-name">bottom</span>, <span class="org-type">float</span> <span class="org-variable-name">top</span>, <span class="org-type">float</span> <span class="org-variable-name">near</span>, <span class="org-type">float</span> <span class="org-variable-name">far</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::ortho<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">left</span>, <span class="org-type">float</span> <span class="org-variable-name">right</span>, <span class="org-type">float</span> <span class="org-variable-name">bottom</span>, <span class="org-type">float</span> <span class="org-variable-name">top</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::frustum<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">left</span>, <span class="org-type">float</span> <span class="org-variable-name">right</span>, <span class="org-type">float</span> <span class="org-variable-name">bottom</span>, <span class="org-type">float</span> <span class="org-variable-name">top</span>, <span class="org-type">float</span> <span class="org-variable-name">near</span>, <span class="org-type">float</span> <span class="org-variable-name">far</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-function-name">glm</span>::mat4 <span class="org-constant">glm</span>::perspective<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">fovy</span>, <span class="org-type">float</span> <span class="org-variable-name">aspect</span>, <span class="org-type">float</span> <span class="org-variable-name">near</span>, <span class="org-type">float</span> <span class="org-variable-name">far</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>


<p>
<b>Downloading</b> 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ mkdir -p /tmp/temp &amp;&amp; <span class="org-builtin">cd</span> /temp

<span class="org-comment-delimiter"># </span><span class="org-comment">Download source code archive </span>
$ &gt;&gt; curl -o <span class="org-keyword">glm.zip</span> -L https://github.com/g-truc/glm/archive/master.zip

<span class="org-comment-delimiter"># </span><span class="org-comment">Extract code </span>
$ &gt;&gt; unzip  glm.zip

<span class="org-comment-delimiter"># </span><span class="org-comment">Enter the in the extracted directory </span>
$ &gt;&gt; cd glm-master/

<span class="org-comment-delimiter"># </span><span class="org-comment">List directory content </span>
$ &gt;&gt; ls
cmake/  CMakeLists.txt  copying.txt  doc/  glm/  manual.md  readme.md  test/  util/
</pre>
</div>

<p>
<b>Load the library in CERN's ROOT repl</b> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"> $ &gt;&gt; ~/Applications/root/bin/root 
ERROR in <span class="org-constant">cling</span>::<span class="org-constant">CIFactory</span>::createCI<span class="org-rainbow-delimiters-depth-1">()</span>: cannot extract standard library <span class="org-type">include</span> <span class="org-variable-name">paths</span><span class="org-negation-char">!</span>
<span class="org-function-name">Invoking</span>:
  LC_ALL=C ccache  -O2 -DNDEBUG -xc++ -E -v /dev/null 2&gt;&amp;1 | sed -n -e <span class="org-warning">'</span>/^.include/,$<span class="org-rainbow-delimiters-depth-1">{</span><span class="org-warning">'</span> -e <span class="org-warning">'</span>/^ \/.*++/p<span class="org-warning">'</span> -e <span class="org-string">'}'</span>
Results was:
With exit code 0
   ------------------------------------------------------------------
  | Welcome to ROOT 6.22/02                        https:<span class="org-comment-delimiter">//</span><span class="org-comment">root.cern |</span>
  | <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">c</span><span class="org-rainbow-delimiters-depth-2">)</span> 1995-2020, The <span class="org-type">ROOT</span> <span class="org-variable-name">Team</span>; <span class="org-constant">conception</span>: R. Brun, F. Rademakers |
  | Built <span class="org-keyword">for</span> linuxx8664gcc on Aug 17 2020, 12:46:52                 |
  | From tags/v6-22-02@v6-22-02                                      |
  | Try <span class="org-warning">'</span>.help<span class="org-warning">'</span>, <span class="org-warning">'</span>.demo<span class="org-warning">'</span>, <span class="org-warning">'</span>.license<span class="org-warning">'</span>, <span class="org-warning">'</span>.credits<span class="org-warning">'</span>, <span class="org-warning">'</span>.quit<span class="org-string">'/'</span>.q<span class="org-warning">'</span>       |
   ------------------------------------------------------------------

root <span class="org-rainbow-delimiters-depth-2">[</span>0<span class="org-rainbow-delimiters-depth-2">]</span> 

root <span class="org-rainbow-delimiters-depth-2">[</span>0<span class="org-rainbow-delimiters-depth-2">]</span> .I . 

root <span class="org-rainbow-delimiters-depth-2">[</span>0<span class="org-rainbow-delimiters-depth-2">]</span> .I . 
root <span class="org-rainbow-delimiters-depth-2">[</span>1<span class="org-rainbow-delimiters-depth-2">]</span> #<span class="org-type">include</span> <span class="org-rainbow-delimiters-depth-2">&lt;</span>glm/glm.hpp<span class="org-rainbow-delimiters-depth-2">&gt;</span>
root <span class="org-rainbow-delimiters-depth-2">[</span>2<span class="org-rainbow-delimiters-depth-2">]</span> #<span class="org-type">include</span> <span class="org-rainbow-delimiters-depth-2">&lt;</span>glm/gtc/matrix_transform.hpp<span class="org-rainbow-delimiters-depth-2">&gt;</span>
root <span class="org-rainbow-delimiters-depth-2">[</span>3<span class="org-rainbow-delimiters-depth-2">]</span> #<span class="org-type">include</span> <span class="org-rainbow-delimiters-depth-2">&lt;</span>glm/gtc/type_ptr.hpp<span class="org-rainbow-delimiters-depth-2">&gt;</span>
root <span class="org-rainbow-delimiters-depth-2">[</span>4<span class="org-rainbow-delimiters-depth-2">]</span> #<span class="org-type">include</span> <span class="org-rainbow-delimiters-depth-2">&lt;</span>glm/gtx/string_cast.hpp<span class="org-rainbow-delimiters-depth-2">&gt;</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">Note: GLM matrices are stored in Column-major order </span>
<span class="org-type">void</span> show_matrix<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">label</span>, <span class="org-constant">glm</span>::<span class="org-type">mat4</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">m</span><span class="org-rainbow-delimiters-depth-2">){</span>
    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n [MATRIX] "</span> &lt;&lt; label &lt;&lt; <span class="org-string">" = "</span> &lt;&lt; <span class="org-string">'\n'</span>;
    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::fixed &lt;&lt; <span class="org-constant">std</span>::setprecision<span class="org-rainbow-delimiters-depth-3">(</span>3<span class="org-rainbow-delimiters-depth-3">)</span>;
    <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-type">size_t</span> <span class="org-variable-name">i</span> = 0; i &lt; 4; i++<span class="org-rainbow-delimiters-depth-3">)</span>
    <span class="org-rainbow-delimiters-depth-3">{</span>
        <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-type">size_t</span> <span class="org-variable-name">j</span> = 0; j &lt; 4; j++<span class="org-rainbow-delimiters-depth-4">)</span>
        <span class="org-rainbow-delimiters-depth-4">{</span>
            <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-5">(</span>8<span class="org-rainbow-delimiters-depth-5">)</span> &lt;&lt; m<span class="org-rainbow-delimiters-depth-5">[</span>j<span class="org-rainbow-delimiters-depth-5">][</span>i<span class="org-rainbow-delimiters-depth-5">]</span>;
        <span class="org-rainbow-delimiters-depth-4">}</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">'\n'</span>;
    <span class="org-rainbow-delimiters-depth-3">}</span>
<span class="org-rainbow-delimiters-depth-2">}</span>
</pre>
</div>

<p>
Define a 4x4 homogenous coordinate matrix: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>18<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-constant">glm</span>::mat4 mat<span class="org-rainbow-delimiters-depth-1">{</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16 <span class="org-rainbow-delimiters-depth-1">}</span>;
root <span class="org-rainbow-delimiters-depth-1">[</span>19<span class="org-rainbow-delimiters-depth-1">]</span> 
root <span class="org-rainbow-delimiters-depth-1">[</span>19<span class="org-rainbow-delimiters-depth-1">]</span> mat
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat4</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2008


<span class="org-comment-delimiter">// </span><span class="org-comment">Matrix is not what user expects as it is written in Column-major order </span>
root <span class="org-rainbow-delimiters-depth-1">[</span>20<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"mat"</span>, mat<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> mat = 
   1.000   5.000   9.000  13.000
   2.000   6.000  10.000  14.000
   3.000   7.000  11.000  15.000
   4.000   8.000  12.000  16.000
root <span class="org-rainbow-delimiters-depth-1">[</span>21<span class="org-rainbow-delimiters-depth-1">]</span> 

root <span class="org-rainbow-delimiters-depth-1">[</span>21<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>22<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>1<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>23<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>2<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 3.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>24<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>3<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 4.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>25<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">][</span>3<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 16.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>26<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 9.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>27<span class="org-rainbow-delimiters-depth-1">]</span> mat<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">][</span>1<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 10.0000f
</pre>
</div>

<p>
Obtain transpose matrix: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>28<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> tmat = <span class="org-constant">glm</span>::transpose<span class="org-rainbow-delimiters-depth-1">(</span>mat<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2058

root <span class="org-rainbow-delimiters-depth-1">[</span>29<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"tmat"</span>, tmat<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> tmat = 
   1.000   2.000   3.000   4.000
   5.000   6.000   7.000   8.000
   9.000  10.000  11.000  12.000
  13.000  14.000  15.000  16.000

root <span class="org-rainbow-delimiters-depth-1">[</span>33<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>34<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>35<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 3.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>36<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 4.00000f


root <span class="org-rainbow-delimiters-depth-1">[</span>37<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>38<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>1<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 5.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>39<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>2<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 9.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>40<span class="org-rainbow-delimiters-depth-1">]</span> tmat<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">][</span>3<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 13.0000f
</pre>
</div>

<p>
Get pointer to first element: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>41<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-type">float</span>* ptr = <span class="org-constant">glm</span>::value_ptr<span class="org-rainbow-delimiters-depth-1">(</span>tmat<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span> *<span class="org-rainbow-delimiters-depth-1">)</span> 0x7f904e6c2058

root <span class="org-rainbow-delimiters-depth-1">[</span>42<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>43<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 5.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>44<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 9.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>45<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 13.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>46<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>47<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 6.00000f

root <span class="org-rainbow-delimiters-depth-1">[</span>48<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>6<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 10.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>49<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>7<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 14.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>50<span class="org-rainbow-delimiters-depth-1">]</span> ptr<span class="org-rainbow-delimiters-depth-1">[</span>8<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 3.00000f
</pre>
</div>

<p>
Null 4x4 matrix: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>53<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> zero_4x4 = <span class="org-constant">glm</span>::mat4<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c20e0

root <span class="org-rainbow-delimiters-depth-1">[</span>54<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"zero_4x4"</span>, zero_4x4<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> zero_4x4 = 
   0.000   0.000   0.000   0.000
   0.000   0.000   0.000   0.000
   0.000   0.000   0.000   0.000
   0.000   0.000   0.000   0.000
</pre>
</div>

<p>
Identity matrix: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>55<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> id_4x4 = <span class="org-constant">glm</span>::mat4<span class="org-rainbow-delimiters-depth-1">(</span>1.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2120
root <span class="org-rainbow-delimiters-depth-1">[</span>56<span class="org-rainbow-delimiters-depth-1">]</span> 
root <span class="org-rainbow-delimiters-depth-1">[</span>56<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"id_4x4"</span>, id_4x4<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> id_4x4 = 
   1.000   0.000   0.000   0.000
   0.000   1.000   0.000   0.000
   0.000   0.000   1.000   0.000
   0.000   0.000   0.000   1.000
</pre>
</div>

<p>
Matrix translation coordinate transform: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>58<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> t1 = <span class="org-constant">glm</span>::translate<span class="org-rainbow-delimiters-depth-1">(</span>id_4x4, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>2.0, 10.0, 30.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2160

root <span class="org-rainbow-delimiters-depth-1">[</span>59<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"t1"</span>, t1<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> t1 = 
   1.000   0.000   0.000   2.000
   0.000   1.000   0.000  10.000
   0.000   0.000   1.000  30.000
   0.000   0.000   0.000   1.000


root <span class="org-rainbow-delimiters-depth-1">[</span>62<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> t2 = <span class="org-constant">glm</span>::translate<span class="org-rainbow-delimiters-depth-1">(</span>t1, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>-10, 100.0, 200.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c21a0

root <span class="org-rainbow-delimiters-depth-1">[</span>63<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"t2"</span>, t2<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> t2 = 
   1.000   0.000   0.000  -8.000
   0.000   1.000   0.000 110.000
   0.000   0.000   1.000 230.000
   0.000   0.000   0.000   1.000
</pre>
</div>

<p>
Rotation around Z axis of 90 degrees: 
</p>

<ul class="org-ul">
<li>glm::mat4 glm::rotate(glm::mat4 const&amp; matrix, float angle_radians, glm::vec3 const&amp; axis)</li>
<li>Rotate around a given axis. The angle is given in radians.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>65<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">const</span> <span class="org-keyword">auto</span> axis_z = <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-1">(</span>0.0f, 0.0f, 1.0f<span class="org-rainbow-delimiters-depth-1">)</span>;
root <span class="org-rainbow-delimiters-depth-1">[</span>66<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">const</span> <span class="org-keyword">auto</span> axis_y = <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-1">(</span>0.0f, 1.0f, 0.0f<span class="org-rainbow-delimiters-depth-1">)</span>;
root <span class="org-rainbow-delimiters-depth-1">[</span>67<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">const</span> <span class="org-keyword">auto</span> axis_x = <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-1">(</span>1.0f, 0.0f, 0.0f<span class="org-rainbow-delimiters-depth-1">)</span>;


<span class="org-comment-delimiter">/*          </span><span class="org-comment">| cos(t)  -sin(t)   0   0  |</span>
<span class="org-comment"> *          | sin(t)   cos(t)   0   0  |</span>
<span class="org-comment"> *  Rz(t) = |  0        0       1   0  |</span>
<span class="org-comment"> *          |  0        0       0   1  |</span>
<span class="org-comment"> * </span>
<span class="org-comment"> *  </span>
<span class="org-comment"> *  t_rotZ = Rz(90) x id_4x4 = Rz(90)</span>
<span class="org-comment"> */</span>
root <span class="org-rainbow-delimiters-depth-1">[</span>71<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> t_rotZ = <span class="org-constant">glm</span>::rotate<span class="org-rainbow-delimiters-depth-1">(</span>id_4x4, <span class="org-constant">glm</span>::radians<span class="org-rainbow-delimiters-depth-2">(</span>90.0f<span class="org-rainbow-delimiters-depth-2">)</span>, axis_z<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2204

root <span class="org-rainbow-delimiters-depth-1">[</span>72<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"t_rotZ"</span>, t_rotZ<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> t_rotZ = 
  -0.000  -1.000   0.000   0.000
   1.000  -0.000   0.000   0.000
   0.000   0.000   1.000   0.000
   0.000   0.000   0.000   1.000
root <span class="org-rainbow-delimiters-depth-1">[</span>73<span class="org-rainbow-delimiters-depth-1">]</span> 

 root <span class="org-rainbow-delimiters-depth-1">[</span>96<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-constant">glm</span>::to_string<span class="org-rainbow-delimiters-depth-1">(</span>t_rotZ<span class="org-rainbow-delimiters-depth-1">)</span>
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-string">"mat4x4((-0.000000, 1.000000, 0.000000, 0.000000), ... "</span>
 root <span class="org-rainbow-delimiters-depth-1">[</span>97<span class="org-rainbow-delimiters-depth-1">]</span> 
</pre>
</div>

<p>
Scaling transformation: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>75<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> s1 = <span class="org-constant">glm</span>::scale<span class="org-rainbow-delimiters-depth-1">(</span>id_4x4, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>2.0, 2.0, 2.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2244

root <span class="org-rainbow-delimiters-depth-1">[</span>76<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s1"</span>, s1<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s1 = 
   2.000   0.000   0.000   0.000
   0.000   2.000   0.000   0.000
   0.000   0.000   2.000   0.000
   0.000   0.000   0.000   1.000

root <span class="org-rainbow-delimiters-depth-1">[</span>78<span class="org-rainbow-delimiters-depth-1">]</span> s1 = <span class="org-constant">glm</span>::scale<span class="org-rainbow-delimiters-depth-1">(</span>s1, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>5.0, 5.0, 5.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2244

root <span class="org-rainbow-delimiters-depth-1">[</span>79<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s1"</span>, s1<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s1 = 
  10.000   0.000   0.000   0.000
   0.000  10.000   0.000   0.000
   0.000   0.000  10.000   0.000
   0.000   0.000   0.000   1.000
root <span class="org-rainbow-delimiters-depth-1">[</span>80<span class="org-rainbow-delimiters-depth-1">]</span> 

<span class="org-comment-delimiter">// </span><span class="org-comment">Apply transform to vector: </span>

root <span class="org-rainbow-delimiters-depth-1">[</span>82<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> res = s1 * <span class="org-constant">glm</span>::vec4<span class="org-rainbow-delimiters-depth-1">(</span>2.0, 5.0, 10.0, 1.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">vec</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2284

root <span class="org-rainbow-delimiters-depth-1">[</span>91<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-constant">glm</span>::to_string<span class="org-rainbow-delimiters-depth-1">(</span>res<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-string">"vec4(20.000000, 50.000000, 100.000000, 1.000000)"</span>

root <span class="org-rainbow-delimiters-depth-1">[</span>92<span class="org-rainbow-delimiters-depth-1">]</span> res<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 20.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>93<span class="org-rainbow-delimiters-depth-1">]</span> res<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 50.0000f

root <span class="org-rainbow-delimiters-depth-1">[</span>94<span class="org-rainbow-delimiters-depth-1">]</span> res<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 100.000f

root <span class="org-rainbow-delimiters-depth-1">[</span>95<span class="org-rainbow-delimiters-depth-1">]</span> res<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.00000f
</pre>
</div>

<p>
Scaling transformation: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>97<span class="org-rainbow-delimiters-depth-1">]</span> <span class="org-keyword">auto</span> s = <span class="org-constant">glm</span>::scale<span class="org-rainbow-delimiters-depth-1">(</span>id_4x4, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>4.0, 5.0, 6.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c22a4

root <span class="org-rainbow-delimiters-depth-1">[</span>98<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s"</span>, s<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s = 
   4.000   0.000   0.000   0.000
   0.000   5.000   0.000   0.000
   0.000   0.000   6.000   0.000
   0.000   0.000   0.000   1.000
root <span class="org-rainbow-delimiters-depth-1">[</span>99<span class="org-rainbow-delimiters-depth-1">]</span> 
root <span class="org-rainbow-delimiters-depth-1">[</span>99<span class="org-rainbow-delimiters-depth-1">]</span> s = <span class="org-constant">glm</span>::translate<span class="org-rainbow-delimiters-depth-1">(</span>s, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>4, -5, 9<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c22a4


root <span class="org-rainbow-delimiters-depth-1">[</span>100<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s"</span>, s<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s = 
   4.000   0.000   0.000  16.000
   0.000   5.000   0.000 -25.000
   0.000   0.000   6.000  54.000
   0.000   0.000   0.000   1.000
root <span class="org-rainbow-delimiters-depth-1">[</span>101<span class="org-rainbow-delimiters-depth-1">]</span> 


root <span class="org-rainbow-delimiters-depth-1">[</span>105<span class="org-rainbow-delimiters-depth-1">]</span> s = <span class="org-constant">glm</span>::scale<span class="org-rainbow-delimiters-depth-1">(</span>s, <span class="org-constant">glm</span>::vec3<span class="org-rainbow-delimiters-depth-2">(</span>5.0, 2.0, 3.0<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c22a4


root <span class="org-rainbow-delimiters-depth-1">[</span>106<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s"</span>, s<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s = 
  25.000   0.000   0.000  20.000
   0.000   4.000   0.000 -10.000
   0.000   0.000   9.000  27.000
   0.000   0.000   0.000   1.000
</pre>
</div>

<p>
Inverse matrix: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">root <span class="org-rainbow-delimiters-depth-1">[</span>111<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"s"</span>, s<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> s = 
  25.000   0.000   0.000  20.000
   0.000   4.000   0.000 -10.000
   0.000   0.000   9.000  27.000
   0.000   0.000   0.000   1.000

root <span class="org-rainbow-delimiters-depth-1">[</span>112<span class="org-rainbow-delimiters-depth-1">]</span> inv_s = <span class="org-constant">glm</span>::inverse<span class="org-rainbow-delimiters-depth-1">(</span>s<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">glm</span>::<span class="org-type">mat</span><span class="org-rainbow-delimiters-depth-2">&lt;</span>4, 4, <span class="org-type">float</span>, <span class="org-constant">glm</span>::<span class="org-constant">qualifier</span>::packed_highp<span class="org-rainbow-delimiters-depth-2">&gt;</span> &amp;<span class="org-rainbow-delimiters-depth-1">)</span> @0x7f904e6c2324

root <span class="org-rainbow-delimiters-depth-1">[</span>113<span class="org-rainbow-delimiters-depth-1">]</span> show_matrix<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"inv_s"</span>, inv_s<span class="org-rainbow-delimiters-depth-1">)</span>

 <span class="org-rainbow-delimiters-depth-1">[</span>MATRIX<span class="org-rainbow-delimiters-depth-1">]</span> inv_s = 
   0.040  -0.000   0.000  -0.800
  -0.000   0.250  -0.000   2.500
   0.000  -0.000   0.111  -3.000
  -0.000   0.000  -0.000   1.000
root <span class="org-rainbow-delimiters-depth-1">[</span>114<span class="org-rainbow-delimiters-depth-1">]</span> 
root <span class="org-rainbow-delimiters-depth-1">[</span>114<span class="org-rainbow-delimiters-depth-1">]</span> 

</pre>
</div>
</div>
</div>
<div id="outline-container-org5f63dfa" class="outline-3">
<h3 id="org5f63dfa"><span class="section-number-3">1.6</span> Simple 2D draphics - no VBO abstraction</h3>
<div class="outline-text-3" id="text-1-6">
<p>
The following code draws a square and a triangle using the OpenGL
retained mode API. Before the rendering takes place, data must be
upload to the VBO (Vertex Buffer Object), allocated on the GPU-side,
via <span class="underline">glBufferData()</span> call that sends the data to the previous bound VBO
through <span class="underline">glBindBuffer()</span> call. Then, on the rendering loop and on every
frame, the buffer data layout must described with
<span class="underline">glVertexAttribPointer()</span> before drawing via call to <span class="underline">glDrawArrays()</span>
subroutine, which draw vertices from the current bound buffer. 
</p>

<p>
Subroutines that modifies global state may cause unintended behavior,
so it is a good practice to unset the affected global state when the
current global state is no longer needed. For instance, if the current
VBO no longer needs to be bound, this global state can be disabled by
calling <i>glBindBuffer(GL_ARRAY_BUFFER, 0)</i>.
</p>


<p>
OpenGL subroutines used: 
</p>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glGenBuffers.xhtml">glGenBuffers()</a> =&gt; Instantiate a buffer object.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glGenBuffers</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">GLsizei</span> <span class="org-variable-name">n</span>, <span class="org-type">GLuint</span>* <span class="org-variable-name">buffers</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glBindBuffer.xhtml">glBindBuffer()</a> =&gt; Bind some buffer object, a.k.a enable, only one
buffer can be bound at a time. (The VBO is a global state).</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glBindBuffer</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">GLenum</span> <span class="org-variable-name">target</span>,<span class="org-type">nt</span> <span class="org-variable-name">buffer</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glBufferData.xhtml">glBufferData()</a>  =&gt;&gt; Send data to current bound buffer object that
was bound via glBindBuffer() call.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glBufferData</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">GLenum</span>      <span class="org-variable-name">target</span>,
                   <span class="org-type">GLsizeiptr</span>  <span class="org-variable-name">size</span>,
                   <span class="org-keyword">const</span> <span class="org-type">void</span>* <span class="org-variable-name">data</span>,
                   <span class="org-type">GLenum</span>      <span class="org-variable-name">usage</span>
                   <span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glEnableVertexAttribArray.xhtml">glEnableVertexAttribArray()</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glEnableVertexAttribArray</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">GLuint</span> <span class="org-variable-name">index</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml">glVertexAttribPointer()</a>
<ul class="org-ul">
<li>Describes the data layout of current bound buffer.</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glVertexAttribPointer</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">GLuint</span>      <span class="org-variable-name">index</span>,
                            <span class="org-type">GLint</span>       <span class="org-variable-name">size</span>,
                            <span class="org-type">GLenum</span>      <span class="org-variable-name">type</span>,
                            <span class="org-type">GLboolean</span>   <span class="org-variable-name">normalized</span>,
                            <span class="org-type">GLsizei</span>     <span class="org-variable-name">stride</span>,
                            <span class="org-keyword">const</span> <span class="org-type">void</span>* <span class="org-variable-name">pointer</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<ul class="org-ul">
<li><a href="https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glDrawArrays.xhtml">glDrawArrays()</a> =&gt; Render OpenGL primitives from current bound
buffer object's data. Those primitives are: lines, triangles or
quads and so on.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">void</span> <span class="org-function-name">glDrawArrays</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">GLenum</span> <span class="org-variable-name">mode</span>, <span class="org-type">GLint</span> <span class="org-variable-name">first</span>, <span class="org-type">GLsizei</span> <span class="org-variable-name">count</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>


<p>
<b>Screenshot</b> 
</p>


<div class="figure">
<p><a href="images/opengl-draw2d-raw.png"><img src="images/opengl-draw2d-raw.png" alt="opengl-draw2d-raw.png" /></a>
</p>
</div>

<p>
<b>Source Code</b> 
</p>

<p>
File: <span class="underline">CMakeLists.txt</span> 
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span class="org-function-name">cmake_minimum_required</span>(VERSION 3.5)
<span class="org-function-name">project</span>(GLFW_project)

<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD 17)
<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)
<span class="org-function-name">set</span>(CMAKE_VERBOSE_MAKEFILE ON)

<span class="org-comment">#================ GLFW Settings  ===============#</span>

<span class="org-function-name">find_package</span>(OpenGL REQUIRED)

<span class="org-function-name">include</span>(FetchContent)

<span class="org-comment"># Set GLFW Options before FectchContent_MakeAvailable </span>
<span class="org-function-name">set</span>( GLFW_BUILD_EXAMPLES OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_TESTS    OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_DOCS     OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_INSTALL  OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )

<span class="org-comment"># Donwload GLFW library</span>
<span class="org-function-name">FetchContent_Declare</span>(
  glfwlib
  URL   https://github.com/glfw/glfw/releases/download/3.3.2/glfw-3.3.2.zip
)
<span class="org-function-name">FetchContent_MakeAvailable</span>(glfwlib)

       <span class="org-function-name">add_executable</span>( draw2d-raw  draw2d-raw.cpp )
<span class="org-function-name">target_link_libraries</span>( draw2d-raw  glfw OpenGL::GL GLU)
</pre>
</div>

<p>
File: <span class="underline">draw2d-raw.cpp</span> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">Draw curve mapping buffer to the GPU.</span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">vector</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span> 
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">array</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cassert</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-comment-delimiter">// </span><span class="org-comment">-------- OpenGL headers ---------//</span>
<span class="org-comment-delimiter">//</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">GL_GLEXT_PROTOTYPES</span> 1 <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for OpenGL &gt;= 3.0 functions</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">GL3_PROTOTYPES</span>      1 <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for OpenGL &gt;= 3.0 functions</span>

<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/gl.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GLFW/glfw3.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-comment-delimiter">// </span><span class="org-comment">#include &lt;GL/glew.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/glu.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/glut.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>


<span class="org-keyword">struct</span> <span class="org-type">Vertex2D</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">GLfloat</span> <span class="org-variable-name">x</span>;
    <span class="org-type">GLfloat</span> <span class="org-variable-name">y</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>;

<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span>** <span class="org-variable-name">argv</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">GLFWwindow</span>* <span class="org-variable-name">window</span>;

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Initialize the library */</span>
    <span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-negation-char">!</span>glfwInit<span class="org-rainbow-delimiters-depth-3">()</span><span class="org-rainbow-delimiters-depth-2">)</span>
        <span class="org-keyword">return</span> -1;

    glutInit<span class="org-rainbow-delimiters-depth-2">(</span>&amp;argc, argv<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Create a windowed mode window and its OpenGL context */</span>
    window = glfwCreateWindow<span class="org-rainbow-delimiters-depth-2">(</span>640, 480, <span class="org-string">"2D Drawing raw VBO buffers"</span>, <span class="org-constant">NULL</span>, <span class="org-constant">NULL</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-negation-char">!</span>window<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        glfwTerminate<span class="org-rainbow-delimiters-depth-3">()</span>;
        <span class="org-keyword">return</span> -1;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Make the window's context current */</span>
    glfwMakeContextCurrent<span class="org-rainbow-delimiters-depth-2">(</span>window<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">glClearColor(0.0f, 0.5f, 0.6f, 1.0f);</span>
    glClearColor<span class="org-rainbow-delimiters-depth-2">(</span>0.0f, 0.0f, 0.0, 1.0f<span class="org-rainbow-delimiters-depth-2">)</span>;


    <span class="org-type">Vertex2D</span> <span class="org-variable-name">triangle_points</span><span class="org-rainbow-delimiters-depth-2">[</span>3<span class="org-rainbow-delimiters-depth-2">]</span> = <span class="org-rainbow-delimiters-depth-2">{</span>
        Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span>-0.25,   -0.25<span class="org-rainbow-delimiters-depth-3">}</span>
      , Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span> 0.00,   0.25<span class="org-rainbow-delimiters-depth-3">}</span>
      , Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span> 0.25,  -0.25<span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-type">Vertex2D</span> <span class="org-variable-name">square_points</span><span class="org-rainbow-delimiters-depth-2">[</span>4<span class="org-rainbow-delimiters-depth-2">]</span> = <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-rainbow-delimiters-depth-3">{</span> -0.3,  -0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span> -0.3,   0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span>  0.3,   0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span>  0.3,  -0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">================== Triangle Buffer ====================//</span>
    <span class="org-comment-delimiter">//</span>

    <span class="org-type">GLuint</span> <span class="org-variable-name">vbo_triangle_</span> = 0;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Create an OpenGL VBO buffer </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">=&gt;&gt; void glGenBuffers (GLsizei n, GLuint *buffers);</span>
    glGenBuffers<span class="org-rainbow-delimiters-depth-2">(</span>  1                <span class="org-comment-delimiter">// </span><span class="org-comment">Number of buffers that will be instantiated</span>
                 , &amp;vbo_triangle_   <span class="org-comment-delimiter">// </span><span class="org-comment">Address of first element or address of array </span>
                                    <span class="org-comment-delimiter">// </span><span class="org-comment">that results will be written to.</span>
                 <span class="org-rainbow-delimiters-depth-2">)</span>;
    assert<span class="org-rainbow-delimiters-depth-2">(</span> vbo_triangle_ != 0 <span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Set this buffer as the current buffer - Only one buffer can be bound at a time. </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">=&gt;&gt; void glBindBuffer (GLenum target, GLuint buffer)</span>
    glBindBuffer<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, vbo_triangle_<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Upload data to current VBO buffer in GPU </span>
    glBufferData<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, <span class="org-keyword">sizeof</span><span class="org-rainbow-delimiters-depth-3">(</span>triangle_points<span class="org-rainbow-delimiters-depth-3">)</span>, triangle_points, GL_STATIC_DRAW<span class="org-rainbow-delimiters-depth-2">)</span>;   

    <span class="org-comment-delimiter">// </span><span class="org-comment">Unbind current buffer in order to avoid unintended behaviors</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">as the subroutine glBindBuffer() modifies has a global state.</span>
    glBindBuffer<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, 0<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">================ Square / Vertex Buffer Object 2 ==================//</span>
    <span class="org-comment-delimiter">//      </span>

    <span class="org-type">GLuint</span> <span class="org-variable-name">vbo_square_</span> = 0;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Instiate buffer - gets a handle or token for </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">a buffer allocated on GPU-side.</span>
    glGenBuffers<span class="org-rainbow-delimiters-depth-2">(</span>1, &amp;vbo_square_<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Check for error </span>
    assert<span class="org-rainbow-delimiters-depth-2">(</span> vbo_square_ != 0<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Bind Current buffer (Affects global state)</span>
    glBindBuffer<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, vbo_square_<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Upload data to the GPU </span>
    glBufferData<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, <span class="org-keyword">sizeof</span><span class="org-rainbow-delimiters-depth-3">(</span>square_points<span class="org-rainbow-delimiters-depth-3">)</span>, square_points, GL_STATIC_DRAW<span class="org-rainbow-delimiters-depth-2">)</span>;   
    <span class="org-comment-delimiter">// </span><span class="org-comment">Unbind buffer </span>
    glBindBuffer<span class="org-rainbow-delimiters-depth-2">(</span>GL_ARRAY_BUFFER, 0<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-type">GLint</span> <span class="org-variable-name">shader_attr</span> = 0;

    <span class="org-comment-delimiter">//  </span><span class="org-comment">======= R E N D E R  - L O O P ============//</span>
    <span class="org-comment-delimiter">//</span>
    <span class="org-keyword">while</span> <span class="org-rainbow-delimiters-depth-2">(</span> <span class="org-negation-char">!</span>glfwWindowShouldClose<span class="org-rainbow-delimiters-depth-3">(</span>window<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        glClear<span class="org-rainbow-delimiters-depth-3">(</span>GL_COLOR_BUFFER_BIT<span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-comment-delimiter">// </span><span class="org-comment">====== BEGIN RENDERING ============//</span>

            <span class="org-comment-delimiter">// </span><span class="org-comment">------------ Draw triangle --------------//</span>
            <span class="org-comment-delimiter">//</span>
            glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, vbo_triangle_<span class="org-rainbow-delimiters-depth-3">)</span>;
            glEnableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>shader_attr<span class="org-rainbow-delimiters-depth-3">)</span>;

            <span class="org-comment-delimiter">// </span><span class="org-comment">Describe buffer data layout (binary layout)</span>
            <span class="org-comment-delimiter">// </span><span class="org-comment">=&gt;&gt; glVertexAttribPointer ( GLuint index, GLint size, GLenum type</span>
            <span class="org-comment-delimiter">//                           </span><span class="org-comment">, GLboolean normalized, GLsizei stride, const void *pointer);</span>
            <span class="org-comment-delimiter">//</span>
            glVertexAttribPointer<span class="org-rainbow-delimiters-depth-3">(</span>shader_attr <span class="org-comment-delimiter">// </span><span class="org-comment">GLint  index         =&gt; Shader attribute location, 0 for now </span>
                                , 2           <span class="org-comment-delimiter">// </span><span class="org-comment">GLint  size          =&gt; 2 components (X, Y) of type GLfloat</span>
                                , GL_FLOAT    <span class="org-comment-delimiter">// </span><span class="org-comment">GLemum type          =&gt; Type of each component  </span>
                                , GL_FALSE    <span class="org-comment-delimiter">// </span><span class="org-comment">GLboolean normalized  </span>
                                , 0           <span class="org-comment-delimiter">// </span><span class="org-comment">GLsizei stride</span>
                                , <span class="org-constant">nullptr</span>     <span class="org-comment-delimiter">// </span><span class="org-comment">const void* pointer </span>
                                <span class="org-rainbow-delimiters-depth-3">)</span>;
            <span class="org-comment-delimiter">// </span><span class="org-comment">Draw arrays using the content of buffer </span>
            <span class="org-comment-delimiter">// </span><span class="org-comment">Plot 1 triangle (each triangle has 3 vertices)</span>
            glDrawArrays<span class="org-rainbow-delimiters-depth-3">(</span>GL_TRIANGLES, 0, 3<span class="org-rainbow-delimiters-depth-3">)</span>;

            <span class="org-comment-delimiter">// </span><span class="org-comment">Disable global state </span>
            glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, 0<span class="org-rainbow-delimiters-depth-3">)</span>;
            glDisableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>0<span class="org-rainbow-delimiters-depth-3">)</span>;

            <span class="org-comment-delimiter">//</span><span class="org-comment">------------ Draw Square -------------------------//</span>
            <span class="org-comment-delimiter">//</span>

<span class="org-preprocessor">            #if</span> 1
            glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, vbo_square_<span class="org-rainbow-delimiters-depth-3">)</span>;
            glEnableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>shader_attr<span class="org-rainbow-delimiters-depth-3">)</span>;
            glVertexAttribPointer<span class="org-rainbow-delimiters-depth-3">(</span>0, 2, GL_FLOAT, GL_FALSE, 0, <span class="org-constant">nullptr</span><span class="org-rainbow-delimiters-depth-3">)</span>;
            <span class="org-comment-delimiter">// </span><span class="org-comment">Plot 4 vertices </span>
            glDrawArrays<span class="org-rainbow-delimiters-depth-3">(</span>GL_LINE_LOOP, 0, 4<span class="org-rainbow-delimiters-depth-3">)</span>;

            <span class="org-comment-delimiter">// </span><span class="org-comment">Disable global state </span>
            glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, 0<span class="org-rainbow-delimiters-depth-3">)</span>;
            glDisableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>shader_attr<span class="org-rainbow-delimiters-depth-3">)</span>;            
<span class="org-preprocessor">            #endif</span> 

        <span class="org-comment-delimiter">// </span><span class="org-comment">====== END RENDERING ==============//</span>

        <span class="org-comment-delimiter">/* </span><span class="org-comment">Swap front and back buffers */</span>
        glfwSwapBuffers<span class="org-rainbow-delimiters-depth-3">(</span>window<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-comment-delimiter">/* </span><span class="org-comment">Poll for and process events */</span>
        glfwPollEvents<span class="org-rainbow-delimiters-depth-3">()</span>;

        <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-3">(</span> glfwGetKey<span class="org-rainbow-delimiters-depth-4">(</span>window, <span class="org-string">'Q'</span> <span class="org-rainbow-delimiters-depth-4">)</span> == GLFW_PRESS <span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">{</span>
             <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" [TRACE] User typed Q =&gt;&gt; Shutdown program. Ok. "</span> &lt;&lt; <span class="org-string">'\n'</span>;
             <span class="org-keyword">break</span>;
        <span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>

    glfwTerminate<span class="org-rainbow-delimiters-depth-2">()</span>;
    <span class="org-keyword">return</span> 0;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc389878" class="outline-3">
<h3 id="orgc389878"><span class="section-number-3">1.7</span> Simple 2D graphics - using VBO abstraction</h3>
<div class="outline-text-3" id="text-1-7">
<p>
This sample code draws a square, triangle and a chart using 2D
coordinates and ignoring the Z axis. 
</p>

<p>
Unlike legacy OpenGL (fixed-pipeline) that requires the calling code
to call primitive rendering subroutines on every frame, which has a
significant overhead, Modern OpenGL or retained-mode, uses buffer
objects for storing data on the GPU memory and shaders, programs that
runs on the GPU-side for processing vertexes and colors. The following
code uses <span class="underline">VertexBufferObject</span> class for encapsulating VBO - Vertex
Buffer Objects. The challenging of dealing with VBOs is that, many of
subroutines applicable to VBO modify global state or assume that some
global state should be set before calling the subroutine. The effect
of calling the many OpenGL subroutines depends on the state and the
order that they were called.
</p>

<p>
The code was tested on Ubuntu Linux 64 bits. On Windows, it requires
GLEW for loading OpenGL function pointers. 
</p>

<p>
<b>Screenshot:</b>
</p>


<div class="figure">
<p><a href="images/opengl-draw2d.png"><img src="images/opengl-draw2d.png" alt="opengl-draw2d.png" /></a>
</p>
<p><span class="figure-number">Figure 2: </span>OpenGL simple 2D redering with VBO.</p>
</div>


<p>
<b>Source Code</b> 
</p>


<p>
File: <span class="underline">CMakeLists.txt</span> 
</p>

<div class="org-src-container">
<pre class="src src-cmake"><span class="org-function-name">cmake_minimum_required</span>(VERSION 3.5)
<span class="org-function-name">project</span>(GLFW_project)

<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD 17)
<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)
<span class="org-function-name">set</span>(CMAKE_VERBOSE_MAKEFILE ON)

<span class="org-comment">#================ GLFW Settings  ===============#</span>

<span class="org-function-name">find_package</span>(OpenGL REQUIRED)

<span class="org-function-name">include</span>(FetchContent)

<span class="org-comment"># Set GLFW Options before FectchContent_MakeAvailable </span>
<span class="org-function-name">set</span>( GLFW_BUILD_EXAMPLES OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_TESTS    OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_DOCS     OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )
<span class="org-function-name">set</span>( GLFW_BUILD_INSTALL  OFF CACHE BOOL  <span class="org-string">"GLFW lib only"</span> )

<span class="org-comment"># Donwload GLFW library</span>
<span class="org-function-name">FetchContent_Declare</span>(
  glfwlib
  URL   https://github.com/glfw/glfw/releases/download/3.3.2/glfw-3.3.2.zip
)
<span class="org-function-name">FetchContent_MakeAvailable</span>(glfwlib)

       <span class="org-function-name">add_executable</span>( draw2d  draw2d.cpp )
<span class="org-function-name">target_link_libraries</span>( draw2d  glfw OpenGL::GL GLU)
</pre>
</div>

<p>
File: <span class="underline">draw2d.cpp</span> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">Draw curve mapping buffer to the GPU.</span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">vector</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span> 
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">array</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-comment-delimiter">// </span><span class="org-comment">-------- OpenGL headers ---------//</span>
<span class="org-comment-delimiter">//</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">GL_GLEXT_PROTOTYPES</span> 1 <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for OpenGL &gt;= 3.0 functions</span>
<span class="org-preprocessor">#define</span> <span class="org-variable-name">GL3_PROTOTYPES</span>      1 <span class="org-comment-delimiter">// </span><span class="org-comment">Necessary for OpenGL &gt;= 3.0 functions</span>

<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/gl.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GLFW/glfw3.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-comment-delimiter">// </span><span class="org-comment">#include &lt;GL/glew.h&gt;</span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/glu.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">GL/glut.h</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-comment-delimiter">// </span><span class="org-comment">Makes a class non copiable. </span>
<span class="org-comment-delimiter">// </span><span class="org-comment">Auomates the boilerplate code for </span>
<span class="org-comment-delimiter">// </span><span class="org-comment">declaring a class as non-copiable </span>
<span class="org-preprocessor">#define</span> <span class="org-function-name">CL_NON_COPIABLE</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-variable-name">className</span> <span class="org-rainbow-delimiters-depth-1">)</span>                  \
    <span class="org-keyword">public</span>:                                           \
    className<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">className</span> <span class="org-keyword">const</span>&amp;<span class="org-rainbow-delimiters-depth-1">)</span> = <span class="org-keyword">delete</span>;            \
    <span class="org-type">className</span>&amp; <span class="org-keyword">operator</span><span class="org-variable-name">=</span> <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">className</span> <span class="org-keyword">const</span>&amp;<span class="org-rainbow-delimiters-depth-1">)</span> = <span class="org-keyword">delete</span>; \
    <span class="org-keyword">private</span>:


<span class="org-comment-delimiter">// </span><span class="org-comment">Class for encapsulating VBO - Vertex-Buffer Objects </span>
<span class="org-keyword">class</span> <span class="org-type">VertexBufferObject</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Handle for Vertex-Buffer Object (Allocated on GPU memory)</span>
    <span class="org-type">GLuint</span>  <span class="org-variable-name">m_vbo</span> = 0;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Shader attribute location variable </span>
    <span class="org-type">GLuint</span> <span class="org-variable-name">m_attr_location</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Type of single component </span>
    <span class="org-type">GLenum</span>  <span class="org-variable-name">m_type</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Number of elements m_type of single component </span>
    <span class="org-type">GLsizei</span> <span class="org-variable-name">m_size</span>;    

    CL_NON_COPIABLE<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">VertexBufferObject</span><span class="org-rainbow-delimiters-depth-2">)</span>
<span class="org-function-name">public</span>:

    <span class="org-function-name">VertexBufferObject</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">GLuint</span> <span class="org-variable-name">shader_attr_loc</span> = 0<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span> 
        m_attr_location = shader_attr_loc;
        ::glGenBuffers<span class="org-rainbow-delimiters-depth-3">(</span>1, &amp;m_vbo<span class="org-rainbow-delimiters-depth-3">)</span>;  

        <span class="org-comment-delimiter">// </span><span class="org-comment">--- Buffer Object Data Layout parameters ------//</span>
        <span class="org-comment-delimiter">//</span>
        <span class="org-comment-delimiter">// </span><span class="org-comment">Type of single component </span>
        <span class="org-type">GLenum</span>  <span class="org-variable-name">m_type</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Number of elements m_type of single component </span>
        <span class="org-type">GLsizei</span> <span class="org-variable-name">m_size</span>;        
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Destructor </span>
    ~<span class="org-function-name">VertexBufferObject</span><span class="org-rainbow-delimiters-depth-2">(){</span> <span class="org-keyword">this</span>-&gt;dispose<span class="org-rainbow-delimiters-depth-3">()</span>;  <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-type">GLuint</span> <span class="org-function-name">id</span><span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-keyword">return</span> m_vbo; <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Delete current buffer when no longer in use </span>
    <span class="org-type">void</span> <span class="org-function-name">dispose</span><span class="org-rainbow-delimiters-depth-2">()</span> 
    <span class="org-rainbow-delimiters-depth-2">{</span>
        ::glDeleteBuffers<span class="org-rainbow-delimiters-depth-3">(</span>1, &amp;m_vbo<span class="org-rainbow-delimiters-depth-3">)</span>;
        m_vbo = 0;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Make this buffer active only one buffer can be active at a time.</span>
    <span class="org-type">void</span> <span class="org-function-name">bind</span><span class="org-rainbow-delimiters-depth-2">()</span> 
    <span class="org-rainbow-delimiters-depth-2">{</span> 
        glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, m_vbo<span class="org-rainbow-delimiters-depth-3">)</span>; 
        glEnableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>m_attr_location<span class="org-rainbow-delimiters-depth-3">)</span>;
     <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Unbind current buffer in order to avoid unintended behavior </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">due to the global state. </span>
    <span class="org-type">void</span> <span class="org-function-name">unbind</span><span class="org-rainbow-delimiters-depth-2">()</span> 
    <span class="org-rainbow-delimiters-depth-2">{</span> 
        glBindBuffer<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, 0<span class="org-rainbow-delimiters-depth-3">)</span>; 
        glDisableVertexAttribArray<span class="org-rainbow-delimiters-depth-3">(</span>m_attr_location<span class="org-rainbow-delimiters-depth-3">)</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Upload data to GPU - the data is often an array of POD types </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">POD (Plain-Old-Data) - any contiguous data without any internal pointer.</span>
    <span class="org-type">void</span> <span class="org-function-name">send_data</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">void</span>* <span class="org-variable-name">pData</span>, <span class="org-type">GLsizeiptr</span> <span class="org-variable-name">size</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">this</span>-&gt;bind<span class="org-rainbow-delimiters-depth-3">()</span>;    
        glBufferData<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, size, pData, GL_STATIC_DRAW<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">this</span>-&gt;unbind<span class="org-rainbow-delimiters-depth-3">()</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Map buffer to GPU memory. This method allows sending data directly </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">to the VBO by writing to the returned pointer.</span>
    <span class="org-comment-delimiter">// </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">@param size - Byte amount of memory allocated on the GPU-side.</span>
    <span class="org-type">void</span>* <span class="org-function-name">map_buffer</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">GLsizeiptr</span> <span class="org-variable-name">size</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">this</span>-&gt;bind<span class="org-rainbow-delimiters-depth-3">()</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Just reserver data, do not copy vertex points to GPU memory. </span>
        glBufferData<span class="org-rainbow-delimiters-depth-3">(</span>GL_ARRAY_BUFFER, size, <span class="org-constant">nullptr</span>, GL_STATIC_DRAW<span class="org-rainbow-delimiters-depth-3">)</span>;   
        <span class="org-comment-delimiter">// </span><span class="org-comment">Obtain pointer to buffer mapped to GPU memory.</span>
        <span class="org-type">void</span>* <span class="org-variable-name">ptr</span> = glMapBuffer<span class="org-rainbow-delimiters-depth-3">(</span> GL_ARRAY_BUFFER, GL_WRITE_ONLY <span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">this</span>-&gt;unbind<span class="org-rainbow-delimiters-depth-3">()</span>;
        <span class="org-keyword">return</span> ptr;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>
    <span class="org-type">T</span>* <span class="org-function-name">map_buffer_t</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">GLsizeiptr</span> <span class="org-variable-name">size</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span> 
        <span class="org-keyword">return</span> <span class="org-keyword">reinterpret_cast</span><span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-type">T</span>*<span class="org-rainbow-delimiters-depth-3">&gt;(</span><span class="org-keyword">this</span>-&gt;map_buffer<span class="org-rainbow-delimiters-depth-4">(</span>size<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">Note: It is assumed that shader program is bound before </span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">calling this function. </span>
    <span class="org-comment-delimiter">//</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">shader_attr_location =&gt; Is attribute location of the Vertex Shader</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">that will process the vertices.</span>
    <span class="org-type">void</span> <span class="org-function-name">set_data_layout</span><span class="org-rainbow-delimiters-depth-2">(</span> <span class="org-type">GLenum</span> <span class="org-variable-name">type</span>, <span class="org-type">GLint</span> <span class="org-variable-name">size</span><span class="org-rainbow-delimiters-depth-2">)</span> 
    <span class="org-rainbow-delimiters-depth-2">{</span>
        m_type = type; 
        m_size = size;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-type">void</span> <span class="org-function-name">draw_arrays</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">GLenum</span> <span class="org-variable-name">draw_type</span>, <span class="org-type">GLuint</span> <span class="org-variable-name">count</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">this</span>-&gt;bind<span class="org-rainbow-delimiters-depth-3">()</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Describe data layout - binary format.</span>
        glVertexAttribPointer<span class="org-rainbow-delimiters-depth-3">(</span> m_attr_location, m_size, m_type, GL_FALSE, 0, <span class="org-constant">nullptr</span><span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">Performs drawing </span>
        glDrawArrays<span class="org-rainbow-delimiters-depth-3">(</span> draw_type, 0, count<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">this</span>-&gt;unbind<span class="org-rainbow-delimiters-depth-3">()</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
<span class="org-rainbow-delimiters-depth-1">}</span>;

<span class="org-keyword">struct</span> <span class="org-type">Vertex2D</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">GLfloat</span> <span class="org-variable-name">x</span>;
    <span class="org-type">GLfloat</span> <span class="org-variable-name">y</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>;

<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span>** <span class="org-variable-name">argv</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">GLFWwindow</span>* <span class="org-variable-name">window</span>;

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Initialize the library */</span>
    <span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-negation-char">!</span>glfwInit<span class="org-rainbow-delimiters-depth-3">()</span><span class="org-rainbow-delimiters-depth-2">)</span>
        <span class="org-keyword">return</span> -1;

    glutInit<span class="org-rainbow-delimiters-depth-2">(</span>&amp;argc, argv<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Create a windowed mode window and its OpenGL context */</span>
    window = glfwCreateWindow<span class="org-rainbow-delimiters-depth-2">(</span>640, 480, <span class="org-string">"Sample 2D Drawing"</span>, <span class="org-constant">NULL</span>, <span class="org-constant">NULL</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">if</span> <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-negation-char">!</span>window<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        glfwTerminate<span class="org-rainbow-delimiters-depth-3">()</span>;
        <span class="org-keyword">return</span> -1;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">/* </span><span class="org-comment">Make the window's context current */</span>
    glfwMakeContextCurrent<span class="org-rainbow-delimiters-depth-2">(</span>window<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">glClearColor(0.0f, 0.5f, 0.6f, 1.0f);</span>
    glClearColor<span class="org-rainbow-delimiters-depth-2">(</span>0.0f, 0.0f, 0.0, 1.0f<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-keyword">constexpr</span> <span class="org-type">size_t</span> <span class="org-variable-name">NPOINTS</span> = 2000;

    <span class="org-comment-delimiter">//</span><span class="org-comment">------------- Vertex Buffer Object 1 -----------//</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">=&gt; Note: anything vertex should be within the range -1.0 to 1.0 </span>

    <span class="org-type">VertexBufferObject</span> <span class="org-variable-name">vbo_chart</span><span class="org-rainbow-delimiters-depth-2">{}</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Describe layout.</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Each vertex has 2 components (X, Y) of type GL_FLOAT </span>
    vbo_chart.set_data_layout<span class="org-rainbow-delimiters-depth-2">(</span>GL_FLOAT, 2<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-type">Vertex2D</span>* <span class="org-variable-name">chart</span> = vbo_chart.map_buffer_t<span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">Vertex2D</span><span class="org-rainbow-delimiters-depth-2">&gt;(</span> NPOINTS * <span class="org-keyword">sizeof</span><span class="org-rainbow-delimiters-depth-3">(</span>Vertex2D<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-type">float</span> <span class="org-variable-name">x</span> = 0.0;

    <span class="org-comment-delimiter">//  </span><span class="org-comment">Write data directly on GPU memory without copying any </span>
    <span class="org-comment-delimiter">//  </span><span class="org-comment">pre-allocated buffer on main-memory.</span>
    <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">size_t</span> <span class="org-variable-name">k</span> = 0; k &lt; NPOINTS; k++<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        x = <span class="org-rainbow-delimiters-depth-3">(</span>k - 1000.0<span class="org-rainbow-delimiters-depth-3">)</span> / 100.0;
        chart<span class="org-rainbow-delimiters-depth-3">[</span>k<span class="org-rainbow-delimiters-depth-3">]</span>.x = x;
        chart<span class="org-rainbow-delimiters-depth-3">[</span>k<span class="org-rainbow-delimiters-depth-3">]</span>.y = sin<span class="org-rainbow-delimiters-depth-3">(</span>x * 10.0<span class="org-rainbow-delimiters-depth-3">)</span> / <span class="org-rainbow-delimiters-depth-3">(</span>1.0 + x * x<span class="org-rainbow-delimiters-depth-3">)</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-comment-delimiter">// </span><span class="org-comment">------------- Triangle / Vertex Buffer Object 2 ------------//</span>
    <span class="org-comment-delimiter">//      </span>

    <span class="org-type">Vertex2D</span> <span class="org-variable-name">triangle_points</span><span class="org-rainbow-delimiters-depth-2">[</span>3<span class="org-rainbow-delimiters-depth-2">]</span> = <span class="org-rainbow-delimiters-depth-2">{</span>
        Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span>-0.25,   -0.25 <span class="org-rainbow-delimiters-depth-3">}</span>
      , Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span> 0.00,    0.25 <span class="org-rainbow-delimiters-depth-3">}</span>
      , Vertex2D<span class="org-rainbow-delimiters-depth-3">{</span> 0.25,   -0.25 <span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-type">VertexBufferObject</span> <span class="org-variable-name">vbo_triangle</span><span class="org-rainbow-delimiters-depth-2">{}</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Each vertex has 2 coordinates of type GL_FLOAT </span>
    vbo_triangle.set_data_layout<span class="org-rainbow-delimiters-depth-2">(</span>GL_FLOAT, 2<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Upload data to GPU </span>
    vbo_triangle.send_data<span class="org-rainbow-delimiters-depth-2">(</span>triangle_points, <span class="org-keyword">sizeof</span><span class="org-rainbow-delimiters-depth-3">(</span>triangle_points<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;


    <span class="org-comment-delimiter">// </span><span class="org-comment">---------- Square / Vertex Buffer Object 2 ------------//</span>
    <span class="org-comment-delimiter">//      </span>

    <span class="org-type">Vertex2D</span> <span class="org-variable-name">square_points</span><span class="org-rainbow-delimiters-depth-2">[</span>4<span class="org-rainbow-delimiters-depth-2">]</span> = <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-rainbow-delimiters-depth-3">{</span> -0.3,  -0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span> -0.3,   0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span>  0.3,   0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
      , <span class="org-rainbow-delimiters-depth-3">{</span>  0.3,  -0.3 <span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-keyword">auto</span> <span class="org-variable-name">vbo_square</span> = VertexBufferObject<span class="org-rainbow-delimiters-depth-2">{}</span>;
    vbo_square.set_data_layout<span class="org-rainbow-delimiters-depth-2">(</span>GL_FLOAT, 2<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Upload data to GPU </span>
    vbo_square.send_data<span class="org-rainbow-delimiters-depth-2">(</span>square_points, <span class="org-keyword">sizeof</span><span class="org-rainbow-delimiters-depth-3">(</span>square_points<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;


    <span class="org-comment-delimiter">//  </span><span class="org-comment">======= R E N D E R  - L O O P ============//</span>
    <span class="org-comment-delimiter">//</span>
    <span class="org-keyword">while</span> <span class="org-rainbow-delimiters-depth-2">(</span> <span class="org-negation-char">!</span>glfwWindowShouldClose<span class="org-rainbow-delimiters-depth-3">(</span>window<span class="org-rainbow-delimiters-depth-3">)</span> <span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        glClear<span class="org-rainbow-delimiters-depth-3">(</span>GL_COLOR_BUFFER_BIT<span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-comment-delimiter">// </span><span class="org-comment">====== BEGIN RENDERING ============//</span>

        vbo_chart.draw_arrays<span class="org-rainbow-delimiters-depth-3">(</span>GL_LINE_STRIP, NPOINTS<span class="org-rainbow-delimiters-depth-3">)</span>;
        vbo_triangle.draw_arrays<span class="org-rainbow-delimiters-depth-3">(</span>GL_TRIANGLES, 3<span class="org-rainbow-delimiters-depth-3">)</span>;
        vbo_square.draw_arrays<span class="org-rainbow-delimiters-depth-3">(</span>GL_LINE_LOOP, 4<span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-comment-delimiter">// </span><span class="org-comment">====== END RENDERING ==============//</span>

        <span class="org-comment-delimiter">/* </span><span class="org-comment">Swap front and back buffers */</span>
        glfwSwapBuffers<span class="org-rainbow-delimiters-depth-3">(</span>window<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-comment-delimiter">/* </span><span class="org-comment">Poll for and process events */</span>
        glfwPollEvents<span class="org-rainbow-delimiters-depth-3">()</span>;

        <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-3">(</span> glfwGetKey<span class="org-rainbow-delimiters-depth-4">(</span>window, <span class="org-string">'Q'</span> <span class="org-rainbow-delimiters-depth-4">)</span> == GLFW_PRESS <span class="org-rainbow-delimiters-depth-3">)</span>
        <span class="org-rainbow-delimiters-depth-3">{</span>
             <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" [TRACE] User typed Q =&gt;&gt; Shutdown program. Ok. "</span> &lt;&lt; <span class="org-string">'\n'</span>;
             <span class="org-keyword">break</span>;
        <span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>

    glfwTerminate<span class="org-rainbow-delimiters-depth-2">()</span>;
    <span class="org-keyword">return</span> 0;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2021-02-08 seg 23:06</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
