<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-10-05 Fri 16:25 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CPP / C++ Review</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Caio Rodrigues" />
<meta name="description" content="cpp/c++ code examples and demonstrations."
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<link href="theme/org-nav-theme.css" rel="stylesheet">
<script src="theme/org-nav-theme.js"></script>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">CPP / C++ Review</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga8cd9e3">1. C++ - CPP</a>
<ul>
<li><a href="#orgdab381c">1.1. Pages in this document</a></li>
<li><a href="#org443aa99">1.2. C++ Language features</a></li>
<li><a href="#org1471156">1.3. Big Picture</a></li>
<li><a href="#orgd8a6ebb">1.4. Mind Map</a></li>
<li><a href="#orgf703eb2">1.5. C++ Checklist</a></li>
<li><a href="#org2a8b610">1.6. C++ Resources</a></li>
<li><a href="#orgc2c7021">1.7. Drawbacks and ABI Issues</a></li>
<li><a href="#org6c3f928">1.8. Guidelines</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orga8cd9e3" class="outline-2">
<h2 id="orga8cd9e3"><span class="section-number-2">1</span> C++ - CPP</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgdab381c" class="outline-3">
<h3 id="orgdab381c"><span class="section-number-3">1.1</span> Pages in this document</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><a href="Understanding-CPP.html">Understanding C++</a> - Exploration of C++ basic concepts and also
modern C++ features.</li>

<li><a href="cpp-reference-card.html">C++ and STL reference card</a> - Concise reference of C++ standard
template library showing main methods, collections (aka
containters) and type signatures.</li>

<li><a href="Root-cern-repl.html">CERN's Root C++ REPL and CLING</a> - Notes about the CERN's interactive
interpereter based on Clang/LLVM for C++ where the user can type
and evaluate C++ code, load libraries like shared libraries, boost
libraries and and also test C++ with immediate feedback. ROOT is
invaluable tool for learn, practicing C++ and create demonstrations.</li>

<li><a href="sample-modern-cpp-programs.html">Sample Modern C++ Programs</a></li>

<li><a href="bookmarks.html">C++ Selected Bookmarks and Conference Videos</a></li>
</ul>

<p>
<b>This Repository</b> 
</p>

<ul class="org-ul">
<li><a href="https://github.com/caiorss/C-Cpp-Notes">https://github.com/caiorss/C-Cpp-Notes</a></li>
</ul>

<p>
<b>This Site</b>
</p>

<ul class="org-ul">
<li><a href="https://caiorss.github.io/C-Cpp-Notes/">https://caiorss.github.io/C-Cpp-Notes/</a></li>
</ul>
</div>
</div>

<div id="outline-container-org443aa99" class="outline-3">
<h3 id="org443aa99"><span class="section-number-3">1.2</span> C++ Language features</h3>
<div class="outline-text-3" id="text-1-2">
<p>
C++ Supported Paradigms: 
</p>

<ul class="org-ul">
<li><span class="underline">Imperative / Procedural</span> as C and Pascal</li>

<li><span class="underline">Object Oriented</span></li>

<li><span class="underline">Functional Programmign</span> since C++11 with the introduction type
deduction (auto keyword) and lambda functions.</li>

<li><span class="underline">Generic Programming</span> - Template metaprogramming, a combination of
statically typed duck-typing and lisp-like metaprogramming that
allows efficient code generation at compile-time.</li>
</ul>

<p>
Other Features: 
</p>

<ul class="org-ul">
<li>Automatic memory management.</li>
<li>No garbage collector.</li>
<li>Low level access to system and operating system services or API in
a similar way to C.</li>
</ul>

<p>
Domains where C++ is used: 
</p>

<ul class="org-ul">
<li>System Programming - It means, operating systems, device drivers,
hardware interfacing, USB driver &#x2026;</li>
<li>Embedded Systems</li>
<li>3D game engines and AAA (triple-A) games.</li>
<li>High Performance Computing (HPC)</li>
<li>High perfomance numerical simulation.</li>
<li>High Perfomance reusable libraries and software components</li>
<li>Physics</li>
<li>High Energy Physics - See CERN</li>
</ul>
</div>
</div>

<div id="outline-container-org1471156" class="outline-3">
<h3 id="org1471156"><span class="section-number-3">1.3</span> Big Picture</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Operating System
<ul class="org-ul">
<li>Windows</li>
<li>Linux (Unix)</li>
<li>Mac OSX (unix)</li>
<li>BSD Family (Unix)</li>
</ul></li>

<li>Executable Formats
<ul class="org-ul">
<li>Windows / .exe, *.dll files         (PE32)</li>
<li>Linux   / No extension, *.so files  (ELF)</li>
<li>MacOSX  / *.dylib                   (MachO)</li>
</ul></li>

<li>Processor Architecture

<ul class="org-ul">
<li>Most used for personal computers (based on x86)
<ul class="org-ul">
<li>Intel x86     - 32 bits.</li>
<li>AMD/Inteal 64 - 64 bits.</li>
</ul></li>

<li>Most used for embedded systems and mobile devices.
<ul class="org-ul">
<li>ARM (32 bits) - Widely used in Smartphones, PDAs, Tablets and
so on.</li>
<li>Power PC</li>
</ul></li>
</ul></li>

<li>Graphical Stack - Outline of the most common graphical systems.

<ul class="org-ul">
<li>X11 - XServer / Unix (Linux, BSD, FreeBSD)</li>

<li>Windows API / Microsoft Windows OS</li>

<li>MacOSX ???</li>
</ul></li>
</ul>


<p>
<b>Tooling</b>
</p>

<ul class="org-ul">
<li>Compilers

<ul class="org-ul">
<li>Windows C/C++ compiler</li>

<li>GCC - Gnu C/C++ Compiler (Stard Compiler of many Linux distributions)</li>

<li>LLVM/Clang</li>

<li>Proprietary compilers: Many manufacturers provide compilers for
their processors, microcontrollers and embedded systems that
generally have a different architecture than most people are used
to.</li>
</ul></li>

<li>Building Tools

<ul class="org-ul">
<li>GNU Make</li>

<li>Cmake</li>
</ul></li>

<li>Main C/C++ GUI - Graphical User Interfaces Libraries

<ul class="org-ul">
<li>QT toolkit / C++ - Cross Platform. QT is the most supported cross
platform toolkit, but it is hard to be called from languages
other than C++ as it is written in C++ and this language doesn't
have a standard ABI (Application Binary Interface).</li>

<li>GTK / C with C++ inteface - Cross platform, most common in Linux OS.</li>

<li>Cocoa / MacOSX - Not cross platform. It is only available to MacOSX.</li>

<li>Windows API. / Only available for Windows.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgd8a6ebb" class="outline-3">
<h3 id="orgd8a6ebb"><span class="section-number-3">1.4</span> Mind Map</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Shared Libraries / Software Components 
</p>

<ul class="org-ul">
<li>Interoperability</li>

<li>Binary Compatibility</li>

<li>C-library

<ul class="org-ul">
<li><a href="http://www.etalabs.net/compare_libcs.html">Comparison of C/POSIX standard library implementations for Linux</a></li>
</ul></li>

<li>Linking

<ul class="org-ul">
<li>Static Linking</li>

<li>Dynamic Linking</li>
</ul></li>

<li><a href="http://en.wikipedia.org/wiki/Dependency_hell">Dependency Hell</a></li>

<li>API - Application Programming Interface</li>

<li>ABI - <a href="https://en.wikipedia.org/wiki/Application_binary_interface">Application Binary Interface</a>

<ul class="org-ul">
<li>Calling Conventions</li>

<li><a href="https://en.wikipedia.org/wiki/System_call">System Call</a></li>

<li>Stable and Standard ABI - C Language</li>

<li><a href="https://en.wikipedia.org/wiki/Loader_(computing)">Loader (computing)</a></li>

<li><a href="https://en.wikipedia.org/wiki/Dynamic_linker">Dynamic linker</a></li>

<li><a href="https://en.wikipedia.org/wiki/Binary-code_compatibility">Binary-code compatibility</a></li>
</ul></li>

<li>FFI - Foreign Function Interface</li>

<li>Excetuable Formats

<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/Portable_Executable">PE</a> - Portable Executable / Windows (*.exe files and *.dll files)</li>

<li><a href="https://en.wikipedia.org/wiki/Executable_and_Linkable_Format">ELF</a> - Executable and Linkable Format / Unix (Linux, BSD &#x2026;)</li>

<li><a href="https://en.wikipedia.org/wiki/Mach-O">Mach-O</a> -  Mach object file format / Mach-OSX and IOS</li>

<li><a href="https://en.wikipedia.org/wiki/Comparison_of_executable_file_formats">Comparison of executable file formats</a></li>

<li></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgf703eb2" class="outline-3">
<h3 id="orgf703eb2"><span class="section-number-3">1.5</span> C++ Checklist</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> - Create C++ shared library</li>

<li class="off"><code>[&#xa0;]</code> - Create a C-interface and FFI-interface for a C++ shared
library.

<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> - Example - Haskell FFI.</li>

<li class="off"><code>[&#xa0;]</code> - Example - Python FFI.</li>

<li class="off"><code>[&#xa0;]</code> - Example - F# (.NET) FFI.</li>
</ul></li>

<li class="off"><code>[&#xa0;]</code> - Some graphical programming with QT.</li>

<li class="off"><code>[&#xa0;]</code> - Interface low level Unix/Linux OS services.</li>

<li class="off"><code>[&#xa0;]</code> - Standard STL library</li>

<li class="off"><code>[&#xa0;]</code> - Vectors and numerical computing with STL.</li>
</ul>
</div>
</div>

<div id="outline-container-org2a8b610" class="outline-3">
<h3 id="org2a8b610"><span class="section-number-3">1.6</span> C++ Resources</h3>
<div class="outline-text-3" id="text-1-6">
<p>
<b>C++ General Resources</b>
</p>

<ul class="org-ul">
<li>Ian D. Chivers - <b>An Introduction to C++</b>
<a href="http://www.icsd.aegean.gr/lecturers/kavallieratou/Cplusplus_files/notes.pdf">http://www.icsd.aegean.gr/lecturers/kavallieratou/Cplusplus_files/notes.pdf</a></li>

<li><a href="https://www.reddit.com/r/Physics/comments/2w4exo/what_are_the_useful_aspects_of_c_in_physics/">What are the useful aspects of C++ in Physics programming? : Physics</a></li>

<li><a href="https://anteru.net/blog/2016/05/01/3249/">Designing C APIs in 2016 | Anteru’s blog</a></li>
</ul>

<p>
<b>C++ Numerical Methods and Scientific Computing</b>
</p>

<ul class="org-ul">
<li>Prof. R. Hiptmair, SAM, ETH Zurich. <b>Numerical Methods for
Computational Science and Engineering</b> -
<a href="http://www.sam.math.ethz.ch/~hiptmair/tmp/NumCSE/NumCSE15.pdf">http://www.sam.math.ethz.ch/~hiptmair/tmp/NumCSE/NumCSE15.pdf</a></li>
</ul>


<ul class="org-ul">
<li>Norbert Pozar. <b>Basic C++ for numerical computations: vectors</b>
<a href="http://polaris.s.kanazawa-u.ac.jp/~npozar/basic-cpp-for-numerics-vectors.html">http://polaris.s.kanazawa-u.ac.jp/~npozar/basic-cpp-for-numerics-vectors.html</a></li>
</ul>


<p>
<b>C++ STL - Standard Template Library</b>
</p>


<ul class="org-ul">
<li><b>A modest STL tutorial</b>
<a href="http://cs.brown.edu/~jak/proglang/cpp/stltut/tut.html">http://cs.brown.edu/~jak/proglang/cpp/stltut/tut.html</a></li>
</ul>


<ul class="org-ul">
<li>Carlos Moreno. <b>C++ Vectors</b> <a href="https://cal-linux.com/tutorials/vectors.html">https://cal-linux.com/tutorials/vectors.html</a></li>
</ul>


<p>
<b>C++ ABI - Application Binary Interface, Binary Compatibility and FFI</b>
</p>

<ul class="org-ul">
<li>By Agner Fog. <b>Calling conventions for different C++ compilers and
operating systems</b>
<a href="http://www.agner.org/optimize/calling_conventions.pdf">http://www.agner.org/optimize/calling_conventions.pdf</a></li>
</ul>


<ul class="org-ul">
<li>Armin Ronacher. <b>Beautiful Native Libraries</b>
<a href="http://lucumr.pocoo.org/2013/8/18/beautiful-native-libraries/">http://lucumr.pocoo.org/2013/8/18/beautiful-native-libraries/</a></li>
</ul>


<ul class="org-ul">
<li>Herb Sutter. <b>Defining a Portable C++ ABI</b> <a href="https://isocpp.org/files/papers/n4028.pdf">https://isocpp.org/files/papers/n4028.pdf</a></li>

<li><b>Some thoughts on binary compatibility</b>
<a href="http://blog.qt.io/blog/2009/08/12/some-thoughts-on-binary-compatibility/">http://blog.qt.io/blog/2009/08/12/some-thoughts-on-binary-compatibility/</a></li>

<li><b>Interoperability of Libraries Created by Different Compiler
Brands</b> <a href="http://www.mingw.org/wiki/Interoperability_of_Libraries_Created_by_Different_Compiler_Brands">http://www.mingw.org/wiki/Interoperability_of_Libraries_Created_by_Different_Compiler_Brands</a></li>

<li>Thiago Macieira. <b>Binary compatibility for library developers</b>
<a href="https://events.linuxfoundation.org/sites/events/files/slides/Binary_Compatibility_for_library_devs.pdf">https://events.linuxfoundation.org/sites/events/files/slides/Binary_Compatibility_for_library_devs.pdf</a></li>

<li><b>What Language I Use for… Creating Reusable Libraries: Objective-C</b>
<a href="http://www.informit.com/articles/article.aspx?p=2144812">http://www.informit.com/articles/article.aspx?p=2144812</a></li>

<li><b>Compilable modern alternatives to C/C++</b> -
<a href="https://softwareengineering.stackexchange.com/questions/162614/compilable-modern-alternatives-to-c-c">https://softwareengineering.stackexchange.com/questions/162614/compilable-modern-alternatives-to-c-c</a></li>

<li><a href="https://stackoverflow.com/questions/3217513/are-llvm-gcc-and-clang-binary-compatible-with-gcc-particularly-mingw-gcc-on-w">linker - Are llvm-gcc and clang binary compatible with gcc? - particularly mingw gcc on Windows - Stack Overflow</a></li>

<li><a href="http://rlc.vlinder.ca/blog/2009/08/binary-compatibility/">Binary Compatibility | Making Life Easier</a></li>

<li><b>System V Application Binary Interface AMD64 Architecture Processor
Supplement</b> <a href="https://c9x.me/compile/bib/abi-x64.pdf">https://c9x.me/compile/bib/abi-x64.pdf</a></li>

<li><b>Software optimization resources</b> - <a href="http://www.agner.org/optimize/">http://www.agner.org/optimize/</a></li>

<li><a href="https://softwareengineering.stackexchange.com/questions/281882/why-does-c-provide-language-bindings-where-c-falls-short">Why does C provide language 'bindings' where C++ falls short? - Software Engineering Stack Exchange</a></li>

<li><a href="https://news.ycombinator.com/item?id=2379676">I've written in C++ professionally almost 12 years (17 years counting College), &#x2026; | Hacker News</a></li>

<li><a href="https://www.reddit.com/r/swift/comments/67z7dy/what_is_abi_stability_and_why_does_it_matter/">What is ABI stability and why does it matter? : swift</a></li>

<li><a href="https://www.reddit.com/r/programming/comments/4r6r8e/abi_vs_api/">ABI vs. API : programming</a></li>

<li><a href="https://www.reddit.com/r/linux_gaming/comments/5nqaux/confused_about_compatibility/dcdxd19/">heartsofwar comments on Confused about Compatibility</a></li>

<li><a href="https://www.reddit.com/r/askscience/comments/3ei05n/why_is_that_programs_need_to_be_ported_between/">Why is that programs need to be ported between operating systems in order in to function? What goes on at the programming level to require this? : askscience</a></li>

<li><a href="https://www.reddit.com/r/AskProgramming/comments/5c74i4/some_thoughts_about_abis/">some thoughts about ABIs : AskProgramming</a></li>

<li><a href="http://damienkatz.net/2013/01/the_unreasonable_effectiveness_of_c.html">Damien Katz: The Unreasonable Effectiveness of C</a></li>

<li><a href="https://www.reddit.com/r/linux/comments/42vngw/why_is_the_linux_community_ambivalent_about/">Why is the Linux community ambivalent about binary compatibility? : linux</a></li>

<li><a href="https://www.reddit.com/r/C_Programming/comments/4afu69/implementing_cross_platform_library_in_c_proscons/">Implementing cross platform library in C pros/cons C_Programming</a></li>

<li></li>


<li></li>
</ul>

<p>
<b>C-Interface</b> 
</p>

<ul class="org-ul">
<li><b>CppCon 2014: Stefanus DuToit "Hourglass Interfaces for C++ APIs</b> -
<a href="https://www.youtube.com/watch?v=PVYdHDm0q6Y">https://www.youtube.com/watch?v=PVYdHDm0q6Y</a></li>
</ul>


<p>
<b>FFI - Foreign Function Interface</b>
</p>

<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/Foreign_function_interface">https://en.wikipedia.org/wiki/Foreign_function_interface</a></li>

<li><a href="http://www.mono-project.com/docs/advanced/pinvoke/">Interop with Native Libraries | Mono</a></li>

<li><a href="https://en.wikipedia.org/wiki/SWIG">SWIG - Wikipedia</a> -  Simplified Wrapper and Interface Generator</li>

<li><a href="https://sourceware.org/libffi/">libffi</a> - A Portable Foreign Function Interface Library</li>

<li><a href="https://en.wikipedia.org/wiki/Libffi">libffi - Wikipedia</a></li>

<li><a href="https://docs.python.org/3/extending/extending.html">1. Extending Python with C or C++ — Python 3.6.1 documentation</a></li>

<li><a href="https://msdn.microsoft.com/en-us/library/aa288468(v=vs.71).aspx">Platform Invoke Tutorial (C#)</a></li>

<li><a href="https://www.reddit.com/r/explainlikeimfive/comments/5c2yfq/eli5_how_can_a_single_software_project_use/">Eli5: How can a single software project use multiple languages? Wouldn't the compiler have difficulty understanding what's what? : explainlikeimfive</a></li>

<li><a href="https://www.reddit.com/r/learnprogramming/comments/3dzif8/how_do_you_communicate_between_different_computer/">How do you communicate between different computer languages? : learnprogramming</a></li>
</ul>


<p>
<b>Courses and Online Books</b>
</p>

<ul class="org-ul">
<li><a href="https://en.wikibooks.org/wiki/C++_Programming">C++ Programming - Wikibooks, open books for an open world</a></li>
</ul>


<ul class="org-ul">
<li>Francois Fleuret. <b>C++ lecture notes</b>
<a href="https://www.idiap.ch/~fleuret/files/Francois_Fleuret_-_C++_Lecture_Notes.pdf">https://www.idiap.ch/~fleuret/files/Francois_Fleuret_-_C++_Lecture_Notes.pdf</a></li>
</ul>


<ul class="org-ul">
<li>Course:  <a href="https://www3.ntu.edu.sg/home/ehchua/programming/">https://www3.ntu.edu.sg/home/ehchua/programming/</a>

<ul class="org-ul">
<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp0_Introduction.html">An Introduction to C++ Programming for First-time Programmers - C++ Programming Tutorial</a> - <a href="https://archive.is/MRDZI">https://archive.is/MRDZI</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp9_STL.html">C++ Libraries, String and Standard Template Library</a> - <a href="https://archive.is/lrIDk">https://archive.is/lrIDk</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp2_MoreBasics.html">C++ More Basics</a> - <a href="https://archive.is/pr7pn">https://archive.is/pr7pn</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp3_OOP.html">Object-oriented Programming (OOP) in C++</a> - <a href="https://archive.is/lpXae">https://archive.is/lpXae</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp4_PointerReference.html">C++ Pointers and References</a> - <a href="https://archive.is/Ja1xJ">https://archive.is/Ja1xJ</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp5_OOPExamples.html">Examples on Classes and Objects</a> - <a href="https://archive.is/eZJPl">https://archive.is/eZJPl</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp8_Template.html">Object-oriented Programming (OOP) in C++ - Template and Generic Programming</a> - <a href="https://archive.is/eG0KZ">https://archive.is/eG0KZ</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp9_String.html">C++ Libraries, String and Standard Template Library</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp9_String.html">C++ Libraries, String and Standard Template Library</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp10_IO.html">C++ IO Streams and File Input/Output</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/cp11_TipsTraps.html">Examples on Classes and Objects</a></li>

<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/cpp/DataStructureAlgorithm.html">Data Structure and Algorithm</a></li>
</ul></li>
</ul>

<p>
<b>Unix - API / LibC</b>
</p>

<ul class="org-ul">
<li><b>User space and the libc interface</b> - <a href="https://www.win.tue.nl/~aeb/linux/lk/lk-3.html">https://www.win.tue.nl/~aeb/linux/lk/lk-3.html</a></li>
</ul>


<p>
<b>Embedded Systems</b>
</p>

<ul class="org-ul">
<li><a href="http://bitbashing.io/embedded-cpp.html">C++ On Embedded Systems</a></li>

<li><a href="http://git.eti.pg.gda.pl/intel-grant/pliki/esp/ESP_Toolchain_ENG.pdf">Embedded Systems Programming OS Linux - Toolchain</a></li>

<li></li>
</ul>

<p>
<b>Alternatives to C++</b>
</p>

<p>
The C++ language is suitable for system programming, writing native
applications and writing high performance software components or
libraries. However the lack of standard ABI - Application Binary
interface makes calling C++ calling a C++ library through FFI -
Foreign Function Interface in another language harder.
</p>

<p>
Due to the C++ ABI issues, many portable libraries that are easier to
invoked through a FFI are written in C, for instance, GTK GUI toolkit,
&#x2026; 
</p>

<p>
Selection Requirements: 
</p>

<ul class="org-ul">
<li>Compile to native code.</li>

<li>Have an stable and standard ABI - Application Binary Interface like C.</li>

<li>Be able to build shared libraries *.so or *.dll and easily invoked
through FFI - Foreign Function Intefaces of high level languages
such as Python, Ruby, Java, C# and so on.</li>

<li>Be memory safe in order to avoid buffer overflow.</li>
</ul>


<p>
<span class="underline">D language</span>
</p>


<ul class="org-ul">
<li><a href="http://bitbashing.io/2015/01/26/d-is-like-native-python.html">D is like native Python</a></li>

<li><a href="http://code.dlang.org/packages/pyd">Package pyd version 0.9.9 - DUB - The D package registry</a></li>

<li><a href="http://dlang.org/spec/abi.html">Application Binary Interface - D Programming Language</a></li>

<li><a href="https://dlang.org/dll-linux.html">Writing Shared Libraries With D On Linux - D Programming Language</a></li>

<li><a href="http://blog.tenstral.net/2016/05/adventures-in-d-programming.html">Adventures in D programming | Ximions Blog</a></li>
</ul>

<p>
<span class="underline">Gambit Scheme</span> 
</p>

<p>
A Scheme implementation that is interactive with a REPL and that can
generate C-code and invoke C-libraries. It can be compiled to
shared libraries *.so or *.dlls and be called from scheme REPL.
</p>

<p>
<span class="underline">Rust</span>
</p>
</div>
</div>

<div id="outline-container-orgc2c7021" class="outline-3">
<h3 id="orgc2c7021"><span class="section-number-3">1.7</span> Drawbacks and ABI Issues</h3>
<div class="outline-text-3" id="text-1-7">
<p>
<b>Drawbacks</b>
</p>

<ul class="org-ul">
<li>C++ is unsafe. Bugs like stack overflow, buffer overlow, null
pointr exceptions may happen.</li>

<li><span class="underline">Operating System Depedent</span> - C++ may be portable, but it is not
cross platform since it is compiled to machine code and for a
particular operatiing system.</li>

<li>Hardware dependent (Processor Architecture) and Operating System
Depedent. C++ is compied to machine code / binary code for a
particular operating system and processor architecture with
different executable formats. The most common processor
architectures are Intel x86 (32 bits) and AMD64 (64 bits).

<ul class="org-ul">
<li>OS Windows            / Executable Format - PE-32</li>

<li>Unix (Linux, BSD &#x2026;) / Executable Format - ELF</li>

<li>Mac-OSX               / Executable Format - Mac-O</li>

<li></li>
</ul></li>

<li><span class="underline">No Standard ABI (Application Binary Interface)</span> - C++ shared
libraries and programs compiled with different compilers or
different versions of same compiler may be incompatible because
unlinke C, C++ doesn't have a standard ABI. It makes hard to call
libraries written in C+++ through an FFI - Foreign Function
Interface form another programming language such as Python.</li>
</ul>


<p>
<b>ABI Issues</b> - Credits: <b>Defining a Portable C++ ABI</b> - <a href="https://isocpp.org/files/papers/n4028.pdf">https://isocpp.org/files/papers/n4028.pdf</a>
</p>

<p>
<span class="underline">A C++ developer cannot compile C++ code and share the object file with</span>
<span class="underline">other C++ developers on the same platform and know that the result</span>
<span class="underline">will compile and link correctly</span>. Our status quo is that two source
files a.cpp and b.cpp can only be linked together if they are compiled
with both:" &#x2013; (<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)
</p>

<ul class="org-ul">
<li>"the same version of the same compiler, or another compiler with a
compatibility mode" (<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)</li>

<li>"compatible switch settings, since most C++ compilers offer
incompatible switch settings where even compiling two files with
the same version of the same compiler will not link successfully."
(<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)</li>
</ul>



<p>
Issues:
</p>

<ul class="org-ul">
<li>"It makes sharing binary C++ libraries more difficult: <span class="underline">To ship a C++</span>
<span class="underline">library in binary form for a given platform requires building it</span>
<span class="underline">with possibly dozens of popular combinations of switch settings for</span>
the popular compiler(s) on that platform, and then may not cover
all combinations. Alternatively, one can wrap the library in that
platform’s stable C ABI, which brings us to…"  (<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)</li>
</ul>



<ul class="org-ul">
<li>"_It is a valid reason to use C: This is (the) one area where C is_
<span class="underline">superior to C++</span>. Among programs and programmers who would otherwise
use C++, <span class="underline">the top reason to use C appears to be the inability to</span>
<span class="underline">publish an API with a stable binary ABI</span>, including that it can be
linked to from C, C++, and other languages’ foreign function
interfaces (FFIs) such as Java JNI and .NET PInvoke. In
particular…"  (<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)</li>
</ul>



<ul class="org-ul">
<li>"_It therefore creates ongoing security problems: The fact that C is_
<span class="underline">the only de facto ABI-stable lingua franca continues to encourage</span>
<span class="underline">type- and memory-unsafe C APIs that traffick in things like error</span>
prone pointer/length pairs instead of more strongly typed and still
highly efficient abstractions, including but not limited to
std::string or the new string_view"  (<a href="https://isocpp.org/files/papers/n4028.pdf">Herb Sutter</a>)</li>
</ul>


<p>
<b>Solutions to ABI compatibility issues</b>
</p>

<ol class="org-ol">
<li><span class="underline">Distribute the library in source format</span>. Approach adopted by QT
(former Trolltech Inc, now the QT Company) with open source and
commercial license.</li>

<li>Distribute the library in binary format and only support a
specific compiler.</li>

<li><span class="underline">Compile he C++ shared library with all possible compilers</span> and
distribute the binaries for each compiler, compiler version,
processor architecture and operating system.</li>

<li><span class="underline">Write the library in C, instead of C++</span>. This approach is followed
by most Unix/Linux libraries and OpenGL and Gtk GUI toolkit.</li>

<li>Use some language that can compile/generate C-code (transpiler).</li>

<li>Use Microsoft COM (Component Object Model)/ DCOM or CORBA, DBUS &#x2026;</li>
</ol>



<p>
Note: C is until now the only language with a standard and public ABI
and most OS exposes its API through a C interface, programming
languages runtimes are generally implement in C.
</p>
</div>
</div>

<div id="outline-container-org6c3f928" class="outline-3">
<h3 id="org6c3f928"><span class="section-number-3">1.8</span> Guidelines</h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li>Malloc - Avoid malloc and manual memory management. Instead of that
use <span class="underline">new</span> and <span class="underline">vector</span> instead of realloc.</li>
<li>Pointer - Avoid pointers.</li>
<li>Arrays - Use C++ STL vector classes instead of arrays.</li>
<li>Strings. Don't use array of characters to represent a string,
instead of that use c++ strings by inclunding '#include &lt;string&gt;'
header at the top of file.</li>
<li>Separate the operating system depedent code from the
operating system agnostic code.</li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Caio Rodrigues</p>
<p class="date">Created: 2018-10-05 Fri 16:25</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
