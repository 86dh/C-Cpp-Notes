<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-02-22 Sat 13:26 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CPP/C++ Math and Numerical Computing</title>
<meta name="generator" content="Org mode" />
<meta name="description" content="cpp/c++ stl math numerical methods apis random"
 />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<link href="theme/org-nav-theme.css" rel="stylesheet">
<script src="theme/org-nav-theme.js"></script>
<link rel="icon" href="favicon.ico" type="image/vnd.microsoft.icon" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2018 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">CPP/C++ Math and Numerical Computing</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0e513d0">1. Math and Numerical Computing</a>
<ul>
<li><a href="#org39fdd53">1.1. Numerical Libraries and Headers</a></li>
<li><a href="#org9bd294d">1.2. Numerical Constants</a></li>
<li><a href="#org087230a">1.3. Floating Point</a>
<ul>
<li><a href="#org59c965c">1.3.1. Overview</a></li>
<li><a href="#orgde31d42">1.3.2. Equality</a></li>
<li><a href="#org493bc69">1.3.3. Functions</a></li>
<li><a href="#org3e32fda">1.3.4. Decompose 32 bits floating points</a></li>
<li><a href="#orgea845ea">1.3.5. Libraries</a></li>
<li><a href="#org23f01ba">1.3.6. Literature and Further Reading</a></li>
</ul>
</li>
<li><a href="#org12671dc">1.4. C++11 Random Number Library</a>
<ul>
<li><a href="#org6f2e8a9">1.4.1. Overview</a></li>
<li><a href="#org9d9056c">1.4.2. Basic Examples</a></li>
<li><a href="#org19bb64b">1.4.3. Example - Normally Distributed Randoms</a></li>
<li><a href="#org2718d7d">1.4.4. Example - Class encapsulating uniform random distribution</a></li>
<li><a href="#orga751bca">1.4.5. Example - Functional wrapper for random uniform distribution</a></li>
</ul>
</li>
<li><a href="#orgffcdcd9">1.5. Numerical Libraries Evaluation</a>
<ul>
<li><a href="#orgb65afce">1.5.1. Eigen - Linear Algebra Library</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>


<div id="outline-container-org0e513d0" class="outline-2">
<h2 id="org0e513d0"><span class="section-number-2">1</span> Math and Numerical Computing</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org39fdd53" class="outline-3">
<h3 id="org39fdd53"><span class="section-number-3">1.1</span> Numerical Libraries and Headers</h3>
<div class="outline-text-3" id="text-1-1">
<p>
All numeric libraries: 
</p>
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric">https://en.cppreference.com/w/cpp/numeric</a></li>
</ul>

<p>
Headers: 
</p>

<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/header/cmath">&lt;cmath&gt;</a> - C++ version of the C-header &lt;math.h&gt;. Contains basic
trasncedental functions, sin, cos, tan and so on.
<ul class="org-ul">
<li>C++11 Float point classification functions:
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/isnan">std::isnan</a></li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/isfinite">std::isfinite</a></li>
</ul></li>
<li>Widely used trasncedental functions: (C++11)
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/erf">std::erf</a> - Error functions, can be used for computing normal
function.</li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/erfc">std::erfc</a> - Complementary error function.</li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/tgamma">std::tgamma</a> - Gamma function.</li>
</ul></li>
<li>Special math functions: (C++17)
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/special_math/assoc_laguerre">std::assoc_laguerre</a> - Associated Laguerre polynomials of the
degree n, order m, and argument x.</li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/special_math/beta">std::beta</a></li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/special_math/expint">std::expint</a> - Exponential integral.</li>
</ul></li>
</ul></li>

<li><a href="https://en.cppreference.com/w/cpp/header/complex">&lt;complex&gt;</a> - Complex number library.</li>

<li><a href="https://en.cppreference.com/w/cpp/header/random">&lt;random&gt;</a> - High quality C++11 random generator library. Provides
lots of distributions and random number engines.</li>

<li><a href="https://en.cppreference.com/w/cpp/header/limits">&lt;limits&gt;</a> - Provides numeric limits of all C++ numeric types. For
instance, minimum value, maximum value, number of digits, precision
and episilon values of a given numeric type.</li>

<li><a href="https://en.cppreference.com/w/cpp/header/ratio">&lt;ratio&gt;</a> - Compile-time rational arithmetic library.</li>

<li><a href="http://www.cplusplus.com/reference/numeric/">&lt;numeric&gt;</a> - Numerical "algorithms" or numerical functions for
processing containers. std::accumulate, std::iner_product,
std::partial_sum and std::iota.</li>
</ul>
</div>
</div>

<div id="outline-container-org9bd294d" class="outline-3">
<h3 id="org9bd294d"><span class="section-number-3">1.2</span> Numerical Constants</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Notes: Those constants are defined at the header &lt;cmath&gt;
</p>

<p>
<b>Numerical Constants in Header CMath</b> 
</p>

<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/header/cmath">&lt;cmath&gt;</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 1:</span> C++ Numerical constants in header &lt;cmath&gt;</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Constant</th>
<th scope="col" class="org-right">Value</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>General Math Constants</b></td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>M_E</code></td>
<td class="org-right">2.7182818</td>
<td class="org-left">Euler's number or exp(1)</td>
</tr>

<tr>
<td class="org-left"><code>M_LN2</code></td>
<td class="org-right">0.6931472</td>
<td class="org-left">Natural logarithm of 2 or log(2)</td>
</tr>

<tr>
<td class="org-left"><code>M_LN10</code></td>
<td class="org-right">2.3025851</td>
<td class="org-left">Natural logarithm of 10 or log(10)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>M_LOG10E</code></td>
<td class="org-right">0.4342945</td>
<td class="org-left">Log of E (Euler's number) at base 10</td>
</tr>

<tr>
<td class="org-left"><code>M_LOG2E</code></td>
<td class="org-right">1.4426950</td>
<td class="org-left">Log of E (Euler's number) at base 2</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>M_SQRT2</code></td>
<td class="org-right">1.4142136</td>
<td class="org-left">Square root of 2 or sqrt(2)</td>
</tr>

<tr>
<td class="org-left"><code>M_SQRT1_2</code></td>
<td class="org-right">0.7071068</td>
<td class="org-left">Square root of 1/2 or sqrt(1/2) or 1/sqrt(2)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>M_PI</code></td>
<td class="org-right">3.1415927</td>
<td class="org-left">PI number</td>
</tr>

<tr>
<td class="org-left"><code>M_PI_2</code></td>
<td class="org-right">1.5707963</td>
<td class="org-left">PI/2</td>
</tr>

<tr>
<td class="org-left"><code>M_PI_4</code></td>
<td class="org-right">0.7853982</td>
<td class="org-left">PI/3</td>
</tr>

<tr>
<td class="org-left"><code>M_1_PI</code></td>
<td class="org-right">0.3183099</td>
<td class="org-left">1/PI</td>
</tr>

<tr>
<td class="org-left"><code>M_2_PI</code></td>
<td class="org-right">0.6366197</td>
<td class="org-left">2/PI</td>
</tr>

<tr>
<td class="org-left"><code>M_2_SQRTPI</code></td>
<td class="org-right">1.1283792</td>
<td class="org-left">2/sqrt(PI)</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>


<p>
<b>Example in CERN's Root REPL - Math Constants</b>
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

&gt;&gt; M_PI
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 3.1415927

&gt;&gt; sin<span class="org-rainbow-delimiters-depth-1">(</span>M_PI<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.2246468e-16

&gt;&gt; cos<span class="org-rainbow-delimiters-depth-1">(</span>M_PI<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -1.0000000

&gt;&gt; cos<span class="org-rainbow-delimiters-depth-1">(</span>M_PI_2<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 6.1232340e-17

&gt;&gt; sin<span class="org-rainbow-delimiters-depth-1">(</span>M_PI_2<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.0000000
&gt;&gt; 
</pre>
</div>

<p>
See: 
</p>

<ul class="org-ul">
<li>P0631R2 Math Constants - Document P0631R2 - <b>Math Constants</b> -
<a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0631r2.pdf">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2018/p0631r2.pdf</a></li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/INFINITY">INFINITY - cppreference.com</a></li>
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/NAN">NAN -   cppreference.com</a></li>
</ul>
</div>
</div>
<div id="outline-container-org087230a" class="outline-3">
<h3 id="org087230a"><span class="section-number-3">1.3</span> Floating Point</h3>
<div class="outline-text-3" id="text-1-3">
</div>
<div id="outline-container-org59c965c" class="outline-4">
<h4 id="org59c965c"><span class="section-number-4">1.3.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
<b>Computer Representation of Real Numbers</b> 
</p>

<p>
Main Representations: 
</p>

<p>
<span class="underline">Fixed Point</span> 
</p>

<p>
Most used in some financial calculations for handling monetary values
or in embedded devices such as microcontrollers and some DSP - Digital
Signal Processors or in legacy systems without a FPU Floating Point
Unit where the cost of software emulation of float points is not
acceptable. 
</p>

<p>
Types of Fixed Point: 
</p>

<ul class="org-ul">
<li>Binary Fixed Points</li>

<li>Decimal Fixed Points</li>

<li>Arbitrary Precision Fixed Points</li>

<li>Arbitrary Precision Decimal Fixed Point (aka Big-Decimal)
<ul class="org-ul">
<li>Better for handling monetary values such as prices.</li>
</ul></li>
</ul>

<p>
Note: 
</p>
<ul class="org-ul">
<li>A systems without a FPU can emulate using software or it can use an
external FPU chip.</li>
</ul>

<p>
<span class="underline">Float Points</span>  
</p>

<p>
Most used in mainstream processors or systems with systems with FPU -
(Float Point Unit). Nowadays most of float point implementations are
conformant to the IEEE754 standard. 
</p>

<ul class="org-ul">
<li>Binary Float Points (IEEE754)
<ul class="org-ul">
<li>binary32 - (C++ float) - single precision</li>
<li>binary64 - (C++ double) - double precision</li>
<li>binary128 - (C++ long double) - quadruple precision</li>
</ul></li>

<li>Decimal Float Point (IEEE754)
<ul class="org-ul">
<li>decimal32</li>
<li>decimal64</li>
<li>decimal128</li>

<li>Arbitrary Precision Float Points (Non IEEE754)</li>
</ul></li>
</ul>

<p>
<b>Technical Standards for Float Points</b>
</p>

<ul class="org-ul">
<li>IEEE 754:1985 - Standard for Binary Float-Point Arithmetic</li>

<li>IEEE 754:1987 - Standard for Radix-Indenpendet Float-Point Arithmetic</li>

<li>IEEE 754:2008 - Standard for Floating-Point Arithmetic
<ul class="org-ul">
<li>ISO standard ISO/IEC/IEEE 60559:2011</li>
</ul></li>
</ul>

<p>
<b>Problems of Float Points</b> 
</p>

<ul class="org-ul">
<li>Float Points - FP <b>are not real numbers</b>, they are an approximation
or a computer representation for real numbers.</li>

<li>Float Points can only represent a finite and limited amount of
real numbers.</li>

<li>Not all real numbers can be exactly represented due to the
quantiazation or discretization error.</li>

<li>Operations are not commutative</li>

<li>Loss of precision</li>

<li><span class="underline">Cancellation</span> aka catastrophic cancellation which is the total
loss of precision when subtracting two large and very close real
numbers.</li>
</ul>

<p>
<b>Category of Float Points Values</b> 
</p>

<p>
Any float point values can fall in one of the following categories: 
</p>

<ol class="org-ol">
<li>Signed Zeror (+0 or -0)</li>

<li>Normal numbers</li>

<li>Subnormals</li>

<li>Inifnities (positive and negative infinity)</li>

<li>NaN - Not a number.</li>
</ol>


<p>
<b>Float Point Types in C++ X IEEE754</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">C++ Type</th>
<th scope="col" class="org-right">Bits</th>
<th scope="col" class="org-right">S</th>
<th scope="col" class="org-right">E</th>
<th scope="col" class="org-right">M</th>
<th scope="col" class="org-right">B</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">binary16</td>
<td class="org-left">N/A</td>
<td class="org-right">16</td>
<td class="org-right">1</td>
<td class="org-right">5</td>
<td class="org-right">10</td>
<td class="org-right">15</td>
<td class="org-left">IEE754 half precision floating point</td>
</tr>

<tr>
<td class="org-left">binary32</td>
<td class="org-left">float</td>
<td class="org-right">32</td>
<td class="org-right">1</td>
<td class="org-right">8</td>
<td class="org-right">23</td>
<td class="org-right">127</td>
<td class="org-left">IEE754 single precision floating point</td>
</tr>

<tr>
<td class="org-left">binary64</td>
<td class="org-left">double</td>
<td class="org-right">64</td>
<td class="org-right">1</td>
<td class="org-right">11</td>
<td class="org-right">52</td>
<td class="org-right">1023</td>
<td class="org-left">IEE754 double precision floating point</td>
</tr>

<tr>
<td class="org-left">binary128</td>
<td class="org-left">long double</td>
<td class="org-right">128</td>
<td class="org-right">1</td>
<td class="org-right">15</td>
<td class="org-right">112</td>
<td class="org-right">16383</td>
<td class="org-left">IEE754 quadruple precision floating point</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">long double</td>
<td class="org-right">80</td>
<td class="org-right">1</td>
<td class="org-right">15</td>
<td class="org-right">64</td>
<td class="org-right">16383</td>
<td class="org-left">80 bit extended precision.</td>
</tr>
</tbody>
</table>

<p>
Symbols: 
</p>

<ul class="org-ul">
<li>S =&gt; Sign bits =&gt; 0 for positive numbers and 1 for negative numbers.</li>
<li>E =&gt; Exponent bits</li>
<li>B =&gt; Exponent Bias</li>
<li>M =&gt; Mantiassa Bits (aka Fraction or <span class="underline">significand</span>)</li>
</ul>

<p>
Notes: 
</p>

<ul class="org-ul">
<li><span class="underline">long double</span> =&gt;  In some platforms, the type <span class="underline">long double</span> can be an 80-bits extended
precision, not binary128. However, most computers and CPUs support
binary128.</li>

<li><span class="underline">binary16</span> (half precision floating point) =&gt; There is no C++
fundamental type with binary16 float point format. It mostly used
in computer graphics and GPUs. The format was intruduced in NVidia
GPUs and defined by the IEEE754-2008.</li>
</ul>

<p>
Exponent range: 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">C++ Type</th>
<th scope="col" class="org-right">ERmin</th>
<th scope="col" class="org-right">ERmax</th>
<th scope="col" class="org-right">Emin</th>
<th scope="col" class="org-right">Emax</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">binar16</td>
<td class="org-left">half precision</td>
<td class="org-left">-</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">binary32</td>
<td class="org-left">single precision</td>
<td class="org-left">float</td>
<td class="org-right">1</td>
<td class="org-right">254</td>
<td class="org-right">-126</td>
<td class="org-right">127</td>
</tr>

<tr>
<td class="org-left">binary64</td>
<td class="org-left">double precision</td>
<td class="org-left">double</td>
<td class="org-right">1</td>
<td class="org-right">2026</td>
<td class="org-right">-1022</td>
<td class="org-right">1023</td>
</tr>

<tr>
<td class="org-left">binary128</td>
<td class="org-left">quadruple precision</td>
<td class="org-left">long double</td>
<td class="org-right">1</td>
<td class="org-right">32766</td>
<td class="org-right">-16382</td>
<td class="org-right">16383</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Symbols: 
</p>

<ul class="org-ul">
<li>ERmin =&gt; Minimum value of raw expoent (without bias).</li>
<li>ERMax =&gt; Maximum value of raw exponent (without bias)</li>
<li>Emax = ERmax - bias =&gt; Maximum value of exponent.</li>
</ul>

<p>
<b>Storage Layout</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Float Point Type</th>
<th scope="col" class="org-right">Bits</th>
<th scope="col" class="org-left">Sign</th>
<th scope="col" class="org-left">Exponent</th>
<th scope="col" class="org-left">Mantissa</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">float</td>
<td class="org-right">32</td>
<td class="org-left">1 [31]</td>
<td class="org-left">8  [23-30]</td>
<td class="org-left">32 [0-22]</td>
</tr>

<tr>
<td class="org-left">double</td>
<td class="org-right">64</td>
<td class="org-left">1 [63]</td>
<td class="org-left">11 [52-62]</td>
<td class="org-left">51 [0-51]</td>
</tr>

<tr>
<td class="org-left">long double</td>
<td class="org-right">128</td>
<td class="org-left">1 [127]</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>1 [31] - Means that sign bit of the float point is the 31th bit.</li>
<li>8 [23-30] - Means that the exponents bits are are all bits between
23th and 30th bit (including both sides).</li>
</ul>


<p>
<b>Binary Format for 32 bits float points binary32, aka float</b>  
</p>

<div class="org-src-container">
<pre class="src src-text">  [S]ign  [E]xponent               [M]antissa (aka significand)
  1 bit   8 bits                   23 bits 
  +----+-------------------------+-------------------------------+
  | S  | E7 E6 E5 E4 E3 E2 E1 E0 | MMM.MMMM MMMM.MMMM MMMM.MMMM  |
  +----+-------------------------+-------------------------------+
    31 | 30                   23 | 22                           0  --- Bit position 

Mantissa: M22 M21 M20 M19 M18 M17 M16 .... M2 M1 M0
         --------                          ---------
           byte 4                            byte 0
</pre>
</div>


<p>
<b>Representation of Float Points</b> 
</p>

<ul class="org-ul">
<li>General Format:</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">              Sign         Exponent - Bias 
Value :=  (-1)     *  Radix        *        Mantissa

              S      E - B 
Value :=  (-1)  *  R    *  M
</pre>
</div>

<ul class="org-ul">
<li>Single Precision (float)
<ul class="org-ul">
<li>Where:
<ul class="org-ul">
<li>S - sign bit - 0 for positive number, 1 for negative</li>
<li>E - Exponent bits</li>
<li>M - Mantissa bits</li>
<li>Radix (base) 2</li>
<li>Bias: 127</li>
<li>b[i] i-th bit, b22 =&gt; bit 22.</li>
</ul></li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-text">               S      (E - 127)
 Value :=  (-1)   *  2         * (1.M)
          -----    ------        ------
          Sign     Exponent     Mantissa 
         Factor     Factor       Factor 


              b31    b30,b29,..,b23 - 127           
Value :=  (-1)   *  2            *     (1.b22,b21,b20,...b0)

matissa = 1.0 + b22 / 2^1 + b21 / 2^2 + b20 / 2^3 + ... b0 / 2^22 
</pre>
</div>

<ul class="org-ul">
<li>Double Precision (double)</li>
</ul>

<pre class="example">
              S      (E - 1023)
Value :=  (-1)   X  2         X (1.M)
</pre>


<p>
<b>Special Values for Single Precision float point number in Hexadecimal</b> (float type)
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Case</th>
<th scope="col" class="org-right">Case</th>
<th scope="col" class="org-right">Bytes Values</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Positive Zero</td>
<td class="org-right">+0.0</td>
<td class="org-right">0x00000000</td>
</tr>

<tr>
<td class="org-left">Negative Zero</td>
<td class="org-right">-0.0</td>
<td class="org-right">0x80000000</td>
</tr>

<tr>
<td class="org-left">Positive Infinity</td>
<td class="org-right">+INF</td>
<td class="org-right">0x7F800000</td>
</tr>

<tr>
<td class="org-left">Negative Infinity</td>
<td class="org-right">-INF</td>
<td class="org-right">0xFF800000</td>
</tr>

<tr>
<td class="org-left">Positive NaN</td>
<td class="org-right">+NaN</td>
<td class="org-right">0x7FC00000</td>
</tr>

<tr>
<td class="org-left">Negative NaN</td>
<td class="org-right">-NaN</td>
<td class="org-right">0xFFC00000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Maximum positive</td>
<td class="org-right">3.40E38</td>
<td class="org-right">0x7F7FFFFF</td>
</tr>

<tr>
<td class="org-left">Minimum negative</td>
<td class="org-right">-3.40E38</td>
<td class="org-right">0xFF7FFFFF</td>
</tr>
</tbody>
</table>


<p>
<b>Float Point IEEE754 Parameters and Constants</b> 
</p>

<ul class="org-ul">
<li>Header: <a href="https://en.cppreference.com/w/cpp/header/limits">&lt;limits&gt;</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption class="t-above"><span class="table-number">Table 2:</span> C++ Float Point Parameters and Special Values in header &lt;limits&gt;</caption>

<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Constant</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::max()</td>
<td class="org-left">Maximum absolute value that a float can represent.</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::min()</td>
<td class="org-left">Minimum absolute value that a float can represent.</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::lowest()</td>
<td class="org-left">Minimum negative value that a float can represent.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::epsilon()</td>
<td class="org-left">Machine epsilon - maximum difference between two representable values.</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::quiet_NaN()</td>
<td class="org-left"><b>NaN</b> - <span class="underline">Not a Number</span> float point value</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::signaling_NaN()</td>
<td class="org-left"><b>NaN</b> - <span class="underline">Not a Number</span> float point value</td>
</tr>

<tr>
<td class="org-left">std::numeric_limits&lt;T&gt;::infinity()</td>
<td class="org-left"><b>inf</b> - Maximum positive infinity</td>
</tr>

<tr>
<td class="org-left">-std::numeric_limits&lt;T&gt;::infinity()</td>
<td class="org-left"><b>-inf</b> - Miminum negative infinity</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
Notes: 
</p>

<ul class="org-ul">
<li>eps <span class="underline">(epsilon)</span> is defined as the positive number x, such that x +
1.0 is not equal to 1.0. Two numbers X and Y, cannot be
distinguished if ||X - Y|| &lt; eps.</li>

<li>The <b>eps</b> is the highest precision or the smallest tolerance tha any
numerical algorithm or numerical method implementation can
achieve.</li>

<li><b>NaN</b> is a special float error value indicating that the value
cannot be represented. Any computation with NaN yields a NaN that
is propagated to all other computations. This value is returned
from operations such as dividing zero by zero, taking a square
root of a negative number &#x2026; and so on.</li>
</ul>

<p>
<b>Examples in CERN's Root REPL - Float point parameters.</b>
</p>

<p>
EPS (Epsilon) value for several float point types. 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">IEEE754 - Float Point - 32 bits - single precision </span>
&gt;&gt; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.19209e-07f

<span class="org-comment-delimiter">// </span><span class="org-comment">IEEE754 - Float Point - 64 bits - double precision </span>
&gt;&gt; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.2204460e-16

<span class="org-comment-delimiter">// </span><span class="org-comment">IEE754 - Float point 128 bits - quadruple precision </span>
&gt;&gt; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">long</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">long</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.0842022e-19L
</pre>
</div>

<p>
Testing float point equality machine precision <b>EPS</b> - epsilon. 
</p>

<div class="org-src-container">
<pre class="src src-cpp"> <span class="org-comment-delimiter">// </span><span class="org-comment">Machine precison. </span>
 &gt;&gt; <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> eps = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.2204460e-16

 &gt;&gt; 10.0 == 10.0
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

 <span class="org-comment-delimiter">// </span><span class="org-comment">Two numbers are almost equal if their difference is less than or equal than the </span>
 <span class="org-comment-delimiter">// </span><span class="org-comment">EPS - epsilon or the machine precison. </span>
 &gt;&gt; 10.0 == 10.0 + eps
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>
 &gt;&gt; 

 <span class="org-comment-delimiter">// </span><span class="org-comment">=======&gt;&gt;&gt; Double - 64 bits float point &lt;&lt;================</span>

 &gt;&gt; 10.0 == 10.000000000000001
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

 &gt;&gt; .000000000000001 <span class="org-rainbow-delimiters-depth-1">&lt;</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-constant">false</span>

 <span class="org-comment-delimiter">// </span><span class="org-comment">Cannot distinguish 10.0 and 10.00000000000000001 since the difference </span>
 <span class="org-comment-delimiter">// </span><span class="org-comment">between them is less than the EPSILON for double precision float points.</span>
 <span class="org-rainbow-delimiters-depth-1">&gt;</span>&gt; 10.0 == 10.00000000000000001
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

 &gt;&gt; .00000000000000001 <span class="org-rainbow-delimiters-depth-1">&lt;</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-constant">true</span>
 <span class="org-rainbow-delimiters-depth-1">&gt;</span>&gt; 
 &gt;&gt; .00000000000000001 <span class="org-rainbow-delimiters-depth-1">&lt;</span> eps
<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-constant">true</span>

 <span class="org-comment-delimiter">// </span><span class="org-comment">=======&gt;&gt;&gt; float - 32 bits float point &lt;&lt;================ </span>

 <span class="org-rainbow-delimiters-depth-1">&gt;</span>&gt; 10.0f == 10.000001f
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

 &gt;&gt; 0.000001<span class="org-type">f</span> <span class="org-rainbow-delimiters-depth-1">&lt;</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>
 <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-constant">false</span>

 <span class="org-comment-delimiter">// </span><span class="org-comment">No longer can distinguish 10.0f and 10.0000001f since </span>
 <span class="org-comment-delimiter">// </span><span class="org-comment">the difference between them is less than EPSILON for float points. </span>
 <span class="org-rainbow-delimiters-depth-1">&gt;</span>&gt; 10.0f == 10.0000001f
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

 &gt;&gt; .0000001f &lt; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
 <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

</pre>
</div>

<p>
Float Point Equality is Misleading: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; 0.1 + 0.1 + 0.1 == 0.3
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

&gt;&gt; 0.2 + 0.1 == 0.3
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

&gt;&gt; 1.0 / 3.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 0.33333333
&gt;&gt; 
&gt;&gt; 1.0 / 3.0 == 0.333333333
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
&gt;
</pre>
</div>

<p>
<b>Testing NaN constant - Not a Number</b>
</p>

<p>
Alias values: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">Machine precison. - EPISILON </span>
&gt;&gt; <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> eps = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.2204460e-16

<span class="org-comment-delimiter">// </span><span class="org-comment">NAN - Not A Number </span>
&gt;&gt; <span class="org-keyword">auto</span> dnan = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::quiet_NaN<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan

<span class="org-comment-delimiter">// </span><span class="org-comment">Positive Infinity </span>
&gt;&gt; <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> pinf = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> inf

<span class="org-comment-delimiter">// </span><span class="org-comment">Negative Infinity </span>
&gt;&gt; <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> ninf = -<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -inf
</pre>
</div>

<p>
NaN propagation: Any operation with a NaN yields a NaN.
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; q = sqrt<span class="org-rainbow-delimiters-depth-1">(</span>-10<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -nan

<span class="org-comment-delimiter">// </span><span class="org-comment">Division of zero by zero </span>
&gt;&gt; x = 0.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan

&gt;&gt; q + 10.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan

&gt;&gt; q - ninf
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan

&gt;&gt; q + ninf
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan
</pre>
</div>

<p>
Equality comparison between any float point number and itself
evaluates to true while equality between NaNs evaluates to false.  
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; 0.0 == 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>
&gt;&gt; 

&gt;&gt; 10.0 == 10.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; 9.81451654 == 9.81451654
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; dnan == dnan
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
</pre>
</div>

<p>
If-else statement: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; xx = dnan;

&gt;&gt; <span class="org-type">double</span> xx = 10.0;
&gt;&gt; <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-1">(</span>xx<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [TRUE]"</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span> <span class="org-keyword">else</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [FALSE] "</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span>
 <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">TRUE</span><span class="org-rainbow-delimiters-depth-1">]</span>

&gt;&gt; xx = -100.0;
&gt;&gt; <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-1">(</span>xx<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [TRUE]"</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span> <span class="org-keyword">else</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [FALSE] "</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span>
 <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">TRUE</span><span class="org-rainbow-delimiters-depth-1">]</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">Set to Zero </span>
&gt;&gt; xx = 0.0;
&gt;&gt; <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-1">(</span>xx<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [TRUE]"</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span> <span class="org-keyword">else</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [FALSE] "</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span>
 <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">FALSE</span><span class="org-rainbow-delimiters-depth-1">]</span> 

<span class="org-comment-delimiter">// </span><span class="org-comment">Set to NAN </span>
&gt;&gt; xx = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::quiet_NaN<span class="org-rainbow-delimiters-depth-1">()</span>;
&gt;&gt; <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-1">(</span>xx<span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [TRUE]"</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span> <span class="org-keyword">else</span> <span class="org-rainbow-delimiters-depth-1">{</span> <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">" [FALSE] "</span><span class="org-rainbow-delimiters-depth-2">)</span>; <span class="org-rainbow-delimiters-depth-1">}</span>
 <span class="org-rainbow-delimiters-depth-1">[</span><span class="org-constant">TRUE</span><span class="org-rainbow-delimiters-depth-1">]</span>

</pre>
</div>


<p>
<b>Testing float point limits:</b>
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; <span class="org-type">double</span> x;

&gt;&gt; x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> inf

&gt;&gt; x = -<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -inf

&gt;&gt; x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::quiet_NaN<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan
&gt;&gt; 

&gt;&gt; x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::signaling_NaN<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span>

&gt;&gt;  x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::max<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.7976931e+308

&gt;&gt;  x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::min<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.2250739e-308

&gt;&gt; x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::lowest<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -1.7976931e+308

&gt;&gt; x = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 2.2204460e-16

&gt;&gt; <span class="org-type">float</span> fx = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.19209e-07f

&gt;&gt; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-type">long</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">long</span> <span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 1.0842022e-19L
&gt;&gt; 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgde31d42" class="outline-4">
<h4 id="orgde31d42"><span class="section-number-4">1.3.2</span> Equality</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>
Equality based on absolute error:
</p>

<ul class="org-ul">
<li>Two float points are almost equal under a given tolerance when the
relative error is smaller than some tolerance.</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">abs(x - y)  &lt; tolerance
</pre>
</div>

<p>
Equality based on relative error (Better):
</p>

<div class="org-src-container">
<pre class="src src-text"> abs(x - y)  &lt; tolerance
 -----------
   abs(x)

Or:

   abs(x - y)  &lt; tolerance * abs(x)
</pre>
</div>

<p>
Or:
</p>

<div class="org-src-container">
<pre class="src src-text">   abs(x - y)  &lt; tolerance x max(abs(x), abs(y))

OR
   abs(x - y)  &lt; tolerance x (abs(x) + abs(y)) / 2.0
</pre>
</div>

<p>
Equality based on relative error and asbsolute error: 
</p>

<ul class="org-ul">
<li>absTol =&gt; Absolute tolerance</li>
<li>relTol =&gt; Relative tolerance</li>
</ul>

<div class="org-src-container">
<pre class="src src-text">def almostEqual(a, b, relTol, absTol):
    return abs(x - y) &lt; max(relTol * max(abs(x), abs(y)), absTol)
</pre>
</div>

<p>
<b>C++ Implementations</b>
</p>

<p>
Equality based on absolute error:
</p>
<ul class="org-ul">
<li>Note: It can be misleading for very small numbers.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">/** </span><span class="org-comment">Checks whether two floats X and Y are almost equal under given tolerance</span>
<span class="org-comment">  * Requires headers: &lt;cmath&gt; and &lt;limits&gt;</span>
<span class="org-comment">  * @tparam T - Any float point type (float, double, long double)</span>
<span class="org-comment">  */</span>
<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">T</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-keyword">auto</span> <span class="org-function-name">aeq_abs</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">T</span> <span class="org-variable-name">x</span>, <span class="org-type">T</span> <span class="org-variable-name">y</span>, <span class="org-type">T</span> <span class="org-variable-name">tol</span><span class="org-rainbow-delimiters-depth-1">)</span> -&gt; <span class="org-type">bool</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> <span class="org-variable-name">eps</span> = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Tolerance can never be smaller than the Epsilon for this</span>
    tol = <span class="org-constant">std</span>::max<span class="org-rainbow-delimiters-depth-2">(</span>tol, eps<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Missing: handle the case if X and/or Y are NaN</span>
    <span class="org-keyword">return</span> <span class="org-constant">std</span>::fabs<span class="org-rainbow-delimiters-depth-2">(</span>x - y<span class="org-rainbow-delimiters-depth-2">)</span> &lt; tol;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Equality based on relative error:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">T</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-keyword">auto</span> <span class="org-function-name">aeq_rel</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">T</span> <span class="org-variable-name">x</span>, <span class="org-type">T</span> <span class="org-variable-name">y</span>, <span class="org-type">T</span> <span class="org-variable-name">tol</span><span class="org-rainbow-delimiters-depth-1">)</span> -&gt; <span class="org-type">bool</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">constexpr</span> <span class="org-keyword">auto</span> <span class="org-variable-name">eps</span> = <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Tolerance can never be smaller than the Epsilon for this</span>
    tol = <span class="org-constant">std</span>::max<span class="org-rainbow-delimiters-depth-2">(</span>tol, eps<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-comment-delimiter">// </span><span class="org-comment">Missing: handle the case if X and/or Y are NaN</span>
    <span class="org-keyword">return</span> <span class="org-constant">std</span>::fabs<span class="org-rainbow-delimiters-depth-2">(</span>x - y<span class="org-rainbow-delimiters-depth-2">)</span> &lt; tol * <span class="org-constant">std</span>::max<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-constant">std</span>::fabs<span class="org-rainbow-delimiters-depth-3">(</span>x<span class="org-rainbow-delimiters-depth-3">)</span>, <span class="org-constant">std</span>::fabs<span class="org-rainbow-delimiters-depth-3">(</span>y<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span> ;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Equality based on absolute and relative tolerance:  
</p>
<ul class="org-ul">
<li>Based on: <a href="https://www.python.org/dev/peps/pep-0485/">Python PEP-485</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">/** </span><span class="org-comment">Checks wether two floating points are almost equal or close enough. </span>
<span class="org-comment"> *  @tparam T        Any floating point type (float, double, long double)</span>
<span class="org-comment"> *  @param input     Input floating point value </span>
<span class="org-comment"> *  @param expected  Expectd floating point value </span>
<span class="org-comment"> *  @param relTol    Relative tolerance </span>
<span class="org-comment"> *  @param absTol    Absolute tolerance </span>
<span class="org-comment"> *  @return bool     Returns true if input and expected are close enough.</span>
<span class="org-comment"> *  Note: Requires headers: &lt;cmath&gt; and &lt;limits&gt;</span>
<span class="org-comment"> */</span>
<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">T</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-type">bool</span> <span class="org-function-name">almost_equal</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">T</span> <span class="org-variable-name">input</span>, <span class="org-type">T</span> <span class="org-variable-name">expected</span>
                  , <span class="org-type">T</span> <span class="org-variable-name">relTol</span>, <span class="org-type">T</span> <span class="org-variable-name">absTol</span> = 8 * <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::eps<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">using</span> <span class="org-constant">std</span>::<span class="org-type">fmax</span>;
    <span class="org-keyword">using</span> <span class="org-constant">std</span>::<span class="org-type">max</span>;
    <span class="org-keyword">return</span> fmax<span class="org-rainbow-delimiters-depth-2">(</span>expected - input<span class="org-rainbow-delimiters-depth-2">)</span> &lt; max<span class="org-rainbow-delimiters-depth-2">(</span>relTol * max<span class="org-rainbow-delimiters-depth-3">(</span>input, expected<span class="org-rainbow-delimiters-depth-3">)</span>, absTol<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Equality based on absolute and tolerance given as number of precision
digits. 1 precision digit is 0.1 tolerance, 5 precision digits is a
tolerance of 1E-5 or 0.00001.
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">/** </span><span class="org-comment">Check whether two floating points are almost equal or close enough.</span>
<span class="org-comment"> *</span>
<span class="org-comment"> * @tparam T    Any floating point type (float, double, ...)</span>
<span class="org-comment"> * @param  x    Input floating point value</span>
<span class="org-comment"> * @param  y    Expected floating point value</span>
<span class="org-comment"> * @param  drel Precision digits of the relative tolerance.</span>
<span class="org-comment"> * @param  dabs Precision digits of the absolute tolerance.</span>
<span class="org-comment"> * @return bool Returns true if x and y are close enough.</span>
<span class="org-comment"> *</span>
<span class="org-comment"> * Requires headers: &lt;cmath&gt; and &lt;limits&gt;</span>
<span class="org-comment"> */</span>
<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">T</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-keyword">auto</span> <span class="org-function-name">almost_equal_digits</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">T</span> <span class="org-variable-name">x</span>, <span class="org-type">T</span> <span class="org-variable-name">y</span>, <span class="org-type">int</span> <span class="org-variable-name">drel</span> = 8, <span class="org-type">int</span> <span class="org-variable-name">dabs</span> = 0<span class="org-rainbow-delimiters-depth-1">)</span> -&gt; <span class="org-type">bool</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">using</span> <span class="org-constant">std</span>::<span class="org-type">fabs</span>;
    <span class="org-keyword">using</span> <span class="org-constant">std</span>::<span class="org-type">max</span>;
    <span class="org-keyword">static</span> <span class="org-keyword">const</span> <span class="org-type">T</span> <span class="org-variable-name">precisions</span> <span class="org-rainbow-delimiters-depth-2">[]</span> = <span class="org-rainbow-delimiters-depth-2">{</span>
        1E-1, 1E-2, 1E-3, 1E-4, 1E-5, 1E-6, 1E-7, 1E-8
        , 1E-9, 1E-10, 1E-11, 1E-12, 1E-13, 1E-15, 1E-16 <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-keyword">constexpr</span> <span class="org-type">size_t</span> <span class="org-variable-name">n</span> = <span class="org-constant">std</span>::size<span class="org-rainbow-delimiters-depth-2">(</span>precisions<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-type">T</span> <span class="org-variable-name">tol_rel</span> = drel &gt; 0 &amp;&amp; drel &lt; n
                    ? precisions<span class="org-rainbow-delimiters-depth-2">[</span>drel - 1<span class="org-rainbow-delimiters-depth-2">]</span>
                    : <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>;

    <span class="org-type">T</span> <span class="org-variable-name">tol_abs</span> = dabs &gt; 0 &amp;&amp; dabs &lt; n
                    ? precisions<span class="org-rainbow-delimiters-depth-2">[</span>dabs - 1<span class="org-rainbow-delimiters-depth-2">]</span>
                    : 8 &amp; <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">T</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span>;

    <span class="org-keyword">return</span> fabs<span class="org-rainbow-delimiters-depth-2">(</span>x - y<span class="org-rainbow-delimiters-depth-2">)</span> &lt; max<span class="org-rainbow-delimiters-depth-2">(</span>tol_rel * max<span class="org-rainbow-delimiters-depth-3">(</span>fabs<span class="org-rainbow-delimiters-depth-4">(</span>x<span class="org-rainbow-delimiters-depth-4">)</span>, fabs<span class="org-rainbow-delimiters-depth-4">(</span>y<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>, tol_abs<span class="org-rainbow-delimiters-depth-2">)</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org493bc69" class="outline-4">
<h4 id="org493bc69"><span class="section-number-4">1.3.3</span> Functions</h4>
<div class="outline-text-4" id="text-1-3-3">
</div>
<ol class="org-ol">
<li><a id="org5740e91"></a>Classify float point numbers<br />
<div class="outline-text-5" id="text-1-3-3-1">
<p>
Function fclassify at header &lt;cmath&gt; 
</p>

<ul class="org-ul">
<li>int std::fclasify(float arg)</li>
<li>int std::fclasify(double arg)</li>
<li>int std::fclasify(long double arg)</li>
</ul>

<p>
See: 
</p>
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/FP_categories">FP_Categories</a> enumeration.</li>
</ul>

<p>
Probe function: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#define</span> <span class="org-function-name">CLASSIFY_FLOAT</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-variable-name">expr</span><span class="org-rainbow-delimiters-depth-1">)</span> classify_float<span class="org-rainbow-delimiters-depth-1">(</span>#expr, <span class="org-rainbow-delimiters-depth-2">(</span>expr<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">FLOAT</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-type">void</span> <span class="org-function-name">classify_float</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">expr</span>, <span class="org-type">FLOAT</span> <span class="org-variable-name">number</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-type">int</span> <span class="org-variable-name">x</span> = <span class="org-constant">std</span>::fpclassify<span class="org-rainbow-delimiters-depth-2">(</span>number<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>x == FP_INFINITE<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Number x = "</span> &lt;&lt; expr &lt;&lt; <span class="org-string">" is infinity"</span> &lt;&lt; <span class="org-string">"\n"</span>;
        <span class="org-keyword">return</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>x == FP_NAN<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Number x = "</span> &lt;&lt; expr  &lt;&lt; <span class="org-string">" ; NAN not a number"</span> &lt;&lt; <span class="org-string">"\n"</span>;
        <span class="org-keyword">return</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>x == FP_NORMAL<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Number x = "</span> &lt;&lt; expr &lt;&lt; <span class="org-string">" is normal"</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-keyword">return</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>x == FP_SUBNORMAL<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Number x = "</span> &lt;&lt; expr &lt;&lt; <span class="org-string">" is sub-normal"</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-keyword">return</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>x == FP_ZERO<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Number x = "</span> &lt;&lt; expr &lt;&lt; <span class="org-string">" is zero"</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-keyword">return</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" [ERROR] Number x = "</span> &lt;&lt; expr &lt;&lt; <span class="org-string">" cannot be classified. "</span> &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Testing code (main function): 
</p>

<div class="org-src-container">
<pre class="src src-cpp">CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>3451.0523<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1e100<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1e500<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1e-100<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1e-500<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>0.0 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1.0 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-1.0 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span> / 10.0<span class="org-rainbow-delimiters-depth-1">)</span>;
CLASSIFY_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span> / 1000.0<span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<p>
Output:
</p>

<div class="org-src-container">
<pre class="src src-text">Number x = 3451.0523 is normal
Number x = 1e100 is normal
Number x = 1e500 is infinity
Number x = 1e-100 is normal
Number x = 1e-500 is zero
Number x = 0.0 is zero
Number x = +0.0 is zero
Number x = -0.0 is zero
Number x = 0.0 / 0.0 ; NAN not a number
Number x = 1.0 / 0.0 is infinity
Number x = -1.0 / 0.0 is infinity
Number x = std::numeric_limits&lt;double&gt;::min() is normal
Number x = std::numeric_limits&lt;double&gt;::min() / 10.0 is sub-normal
Number x = std::numeric_limits&lt;double&gt;::min() / 1000.0 is sub-normal
</pre>
</div>
</div>
</li>

<li><a id="orgd3fa0ee"></a>Check if float is Finite, NaN or Infinity<br />
<div class="outline-text-5" id="text-1-3-3-2">
<p>
Note: Functions from header: &lt;cmath&gt; 
</p>

<p>
<b>Check if float point</b> is <b>NaN</b> - Not-a-Number.
</p>

<ul class="org-ul">
<li>std::isnan</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; <span class="org-type">float</span> x = 4.5;
&gt;&gt;
&gt;&gt; <span class="org-constant">std</span>::isnan<span class="org-rainbow-delimiters-depth-1">(</span>x<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
&gt;&gt;
&gt;&gt; x = 4.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> inff
&gt;&gt;
&gt;&gt; <span class="org-constant">std</span>::isnan<span class="org-rainbow-delimiters-depth-1">(</span>x<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
&gt;&gt;
&gt;&gt; x = <span class="org-constant">std</span>::sqrt<span class="org-rainbow-delimiters-depth-1">(</span>-1.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> -nanf
&gt;&gt;
&gt;&gt; <span class="org-constant">std</span>::isnan<span class="org-rainbow-delimiters-depth-1">(</span>x<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>
&gt;&gt;
&gt;&gt; x = 0.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-1">)</span> nanf
&gt;&gt;
&gt;&gt; <span class="org-constant">std</span>::isnan<span class="org-rainbow-delimiters-depth-1">(</span>x<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>
</pre>
</div>

<p>
<b>Check whether a float point is infinity</b> 
</p>

<ul class="org-ul">
<li>std::isinf</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; <span class="org-constant">std</span>::isinf<span class="org-rainbow-delimiters-depth-1">(</span>1e100<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

&gt;&gt; <span class="org-constant">std</span>::isinf<span class="org-rainbow-delimiters-depth-1">(</span>1e500<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; <span class="org-constant">std</span>::isinf<span class="org-rainbow-delimiters-depth-1">(</span>1 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; <span class="org-constant">std</span>::isinf<span class="org-rainbow-delimiters-depth-1">(</span>-1 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; <span class="org-constant">std</span>::isinf<span class="org-rainbow-delimiters-depth-1">(</span>0.0 / 0.0<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
</pre>
</div>

<p>
<b>Check whether float point is finite</b>
</p>

<ul class="org-ul">
<li>std::isfinite</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; <span class="org-type">double</span> q = 10.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> 10.000000
&gt;&gt; <span class="org-constant">std</span>::isfinite<span class="org-rainbow-delimiters-depth-1">(</span>q<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">true</span>

&gt;&gt; q = 0.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> nan
&gt;&gt; <span class="org-constant">std</span>::isfinite<span class="org-rainbow-delimiters-depth-1">(</span>q<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

&gt;&gt; q = 1.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> inf
&gt;&gt; <span class="org-constant">std</span>::isfinite<span class="org-rainbow-delimiters-depth-1">(</span>q<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>

&gt;&gt; q = -1.0 / 0.0
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-1">)</span> -inf
&gt;&gt; <span class="org-constant">std</span>::isfinite<span class="org-rainbow-delimiters-depth-1">(</span>q<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">bool</span><span class="org-rainbow-delimiters-depth-1">)</span> <span class="org-constant">false</span>
</pre>
</div>
</div>
</li>
<li><a id="orgc0f90fa"></a>Maximum, minimum and absolute value<br />
<div class="outline-text-5" id="text-1-3-3-3">
<p>
Header: &lt;cmath&gt; 
</p>

<p>
<b>Maximum</b> 
</p>

<p>
Overloads for std::fmax. 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">float</span>       <span class="org-function-name">fmax</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">x</span>, <span class="org-type">float</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;               <span class="org-comment-delimiter">// </span><span class="org-comment">(1)  (since C++11)</span>
<span class="org-type">double</span>      <span class="org-function-name">fmax</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">double</span> <span class="org-variable-name">x</span>, <span class="org-type">double</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;             <span class="org-comment-delimiter">// </span><span class="org-comment">(2)  (since C++11)</span>
<span class="org-type">long</span> <span class="org-type">double</span> <span class="org-function-name">fmax</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">x</span>, <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;   <span class="org-comment-delimiter">// </span><span class="org-comment">(3)  (since C++11)</span>
</pre>
</div>

<p>
<b>Minimum</b> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">float</span>       <span class="org-function-name">fmin</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">x</span>, <span class="org-type">float</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;              <span class="org-comment-delimiter">// </span><span class="org-comment">(1)   (since C++11)</span>
<span class="org-type">double</span>      <span class="org-function-name">fmin</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">double</span> <span class="org-variable-name">x</span>, <span class="org-type">double</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;            <span class="org-comment-delimiter">// </span><span class="org-comment">(2)   (since C++11)</span>
<span class="org-type">long</span> <span class="org-type">double</span> <span class="org-function-name">fmin</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">x</span>, <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">y</span> <span class="org-rainbow-delimiters-depth-1">)</span>;  <span class="org-comment-delimiter">// </span><span class="org-comment">(3)   (since C++11)</span>
</pre>
</div>

<p>
<b>Absolute Value</b> 
</p>

<ul class="org-ul">
<li>See: <a href="https://en.cppreference.com/w/cpp/numeric/math/fabs">fabs</a> (cppreference)</li>
</ul>

<p>
Overloads for <span class="underline">fabs</span> 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-type">float</span>       <span class="org-function-name">fabs</span> <span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">arg</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-type">float</span>       <span class="org-function-name">fabsf</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">float</span> <span class="org-variable-name">arg</span> <span class="org-rainbow-delimiters-depth-1">)</span>;  
<span class="org-type">double</span>      <span class="org-function-name">fabs</span> <span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">double</span> <span class="org-variable-name">arg</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-type">long</span> <span class="org-type">double</span> <span class="org-function-name">fabs</span> <span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">arg</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
<span class="org-type">long</span> <span class="org-type">double</span> <span class="org-function-name">fabsl</span><span class="org-rainbow-delimiters-depth-1">(</span> <span class="org-type">long</span> <span class="org-type">double</span> <span class="org-variable-name">arg</span> <span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<p>
<b>See also:</b>
</p>

<ul class="org-ul">
<li><a href="https://stackoverflow.com/questions/16584558/the-difference-between-max-and-fmax-cross-platform-compiling">c++ - The difference between max and fmax (Cross platform compiling) - Stack Overflow</a></li>

<li><a href="https://stackoverflow.com/questions/30913952/minimum-and-maximum-of-signed-zero/30914285?noredirect=1#comment49866669_30914285">c++ - Minimum and maximum of signed zero - Stack Overflow</a></li>
</ul>
</div>
</li>

<li><a id="org2e6ad6b"></a>Rounding and truncation<br />
<div class="outline-text-5" id="text-1-3-3-4">
<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/math/round">round</a></li>

<li><a href="https://en.cppreference.com/w/cpp/numeric/math/trunc">trunc</a></li>

<li><a href="https://en.cppreference.com/w/cpp/numeric/math/floor">floor</a></li>

<li><a href="https://en.cppreference.com/w/cpp/numeric/math/ceil">ceil</a></li>
</ul>
</div>
</li>
</ol>
</div>
<div id="outline-container-org3e32fda" class="outline-4">
<h4 id="org3e32fda"><span class="section-number-4">1.3.4</span> Decompose 32 bits floating points</h4>
<div class="outline-text-4" id="text-1-3-4">
<p>
The following application decomposes 32 bits IEE754 floating point
numbers showing the integer data representation in hexadecimal, sign
bit, exponent and mantissa.  
</p>

<p>
Source: 
</p>
<ul class="org-ul">
<li>File: <a href="src/numerics/decompose_binary32flt.cpp">file:src/numerics/decompose_binary32flt.cpp</a></li>
<li>Online Compiler: <a href="https://rextester.com/UZZA57396">https://rextester.com/UZZA57396</a></li>
</ul>

<p>
Compilation: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ g++ decompose_binary32flt.cpp -o <span class="org-keyword">out.bin</span> -g -std=c++1z -Wall -Wextra 
</pre>
</div>

<p>
The results can be checked with the online tool: 
</p>

<ul class="org-ul">
<li><a href="https://calculla.com/floating_point_numbers">https://calculla.com/floating_point_numbers</a></li>
</ul>

<p>
<b>Program Source Listing</b>
</p>

<p>
Header: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">string</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iomanip</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">limits</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cmath</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">cstdint</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">map</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
</pre>
</div>

<p>
Preprocessor Macros: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#define</span> <span class="org-function-name">SHOW_FLOAT</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-variable-name">expr</span><span class="org-rainbow-delimiters-depth-1">)</span> show_float<span class="org-rainbow-delimiters-depth-1">(</span>#expr, <span class="org-rainbow-delimiters-depth-2">(</span>expr<span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
Function: show_float - shows decomposed floating point number. 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">Decompose float point</span>
<span class="org-type">void</span> <span class="org-function-name">show_float</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">expr</span>, <span class="org-type">float</span> <span class="org-variable-name">x</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">constexpr</span> <span class="org-type">int</span> <span class="org-variable-name">w1</span> = 34;
    <span class="org-keyword">constexpr</span> <span class="org-type">int</span> <span class="org-variable-name">w2</span> = 4;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Float point classification constants</span>
    <span class="org-keyword">static</span> <span class="org-keyword">auto</span> <span class="org-keyword">const</span> <span class="org-type">fpmap</span> = <span class="org-constant">std</span>::<span class="org-type">map</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span>, <span class="org-keyword">const</span> <span class="org-type">char</span>*<span class="org-rainbow-delimiters-depth-2">&gt;{</span>
         <span class="org-rainbow-delimiters-depth-3">{</span>FP_INFINITE,  <span class="org-string">"FP_INFINITE"</span><span class="org-rainbow-delimiters-depth-3">}</span>
        ,<span class="org-rainbow-delimiters-depth-3">{</span>FP_NAN,       <span class="org-string">"FP_NAN"</span><span class="org-rainbow-delimiters-depth-3">}</span>
        ,<span class="org-rainbow-delimiters-depth-3">{</span>FP_NORMAL,    <span class="org-string">"PF_NORMAL"</span><span class="org-rainbow-delimiters-depth-3">}</span>
        ,<span class="org-rainbow-delimiters-depth-3">{</span>FP_SUBNORMAL, <span class="org-string">"FP_SUBNORMAL"</span><span class="org-rainbow-delimiters-depth-3">}</span>
        ,<span class="org-rainbow-delimiters-depth-3">{</span>FP_ZERO,      <span class="org-string">"FP_ZERO"</span><span class="org-rainbow-delimiters-depth-3">}</span>
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Integer represetation extracted</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">through type punning aka memory reinterpretation</span>
    <span class="org-constant">std</span>::<span class="org-type">uint32_t</span>* <span class="org-variable-name">pn</span>       = <span class="org-keyword">reinterpret_cast</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-constant">std</span>::<span class="org-type">uint32_t</span>*<span class="org-rainbow-delimiters-depth-2">&gt;(</span>&amp;x<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-constant">std</span>::<span class="org-type">uint32_t</span>  <span class="org-variable-name">value</span>    = *pn;
    <span class="org-constant">std</span>::<span class="org-type">uint32_t</span>  <span class="org-variable-name">mantissa</span> = value &amp; <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span>1 &lt;&lt; 23<span class="org-rainbow-delimiters-depth-3">)</span> - 1<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-constant">std</span>::<span class="org-type">uint32_t</span>  <span class="org-variable-name">raw_exp</span>  = <span class="org-rainbow-delimiters-depth-2">(</span>value &gt;&gt; 23<span class="org-rainbow-delimiters-depth-2">)</span> &amp; 0xFF;
    <span class="org-constant">std</span>::<span class="org-type">uint32_t</span>  <span class="org-variable-name">sign</span>     = <span class="org-rainbow-delimiters-depth-2">(</span>value &gt;&gt; 31<span class="org-rainbow-delimiters-depth-2">)</span> &amp; 0x01;

    <span class="org-keyword">auto</span> <span class="org-variable-name">print_row</span> = <span class="org-rainbow-delimiters-depth-2">[</span>&amp;<span class="org-variable-name">w1</span>, &amp;<span class="org-variable-name">w2</span><span class="org-rainbow-delimiters-depth-2">](</span><span class="org-keyword">const</span> <span class="org-type">char</span>* <span class="org-variable-name">label</span>, <span class="org-keyword">auto</span> <span class="org-keyword">const</span>&amp; <span class="org-variable-name">value</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>w1<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; <span class="org-constant">std</span>::right &lt;&lt; label
                  &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>w2<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; <span class="org-constant">std</span>::left  &lt;&lt; value
                  &lt;&lt; <span class="org-string">"\n"</span>;
    <span class="org-rainbow-delimiters-depth-2">}</span>;

    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Input Expression: "</span>, expr<span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Classification: "</span>, fpmap.at<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-constant">std</span>::fpclassify<span class="org-rainbow-delimiters-depth-4">(</span>x<span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Decimal Representation: "</span>, x<span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Hexadecimal Representation: "</span>, to_hexfloat<span class="org-rainbow-delimiters-depth-3">(</span>x<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Integer Representation (hex): "</span>, num2hexstr<span class="org-rainbow-delimiters-depth-3">(</span>value<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Sign bit: "</span>, sign<span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Exponent: "</span>, <span class="org-keyword">static_cast</span><span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-constant">std</span>::int32_t<span class="org-rainbow-delimiters-depth-3">&gt;(</span>raw_exp<span class="org-rainbow-delimiters-depth-3">)</span> - 127<span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Raw Exponent: "</span>, raw_exp<span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Raw Exponent (hex): "</span>, num2hexstr<span class="org-rainbow-delimiters-depth-3">(</span>raw_exp, 0<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    print_row<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"Mantissa (hex): "</span>, num2hexstr<span class="org-rainbow-delimiters-depth-3">(</span>mantissa, 0<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>;    
    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n\n"</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Function main: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-function-name">std</span>::puts<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"\n==== Decomposition of Single Precision Float Points =====\n"</span><span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">Signed Zero</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+0.0f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-0.0f<span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">NaN - Not a number</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::quiet_NaN<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::quiet_NaN<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">Positive and negative Infinity</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::infinity<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">Subnormal</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span> / 100.0f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::min<span class="org-rainbow-delimiters-depth-2">()</span> / 1000000.0f<span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">Epsilon</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>+<span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::epsilon<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">Normal Numbers</span>
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1.0f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>0.5f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1E-5f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>1.051646E4f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span>-99000134.3401f<span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::max<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
SHOW_FLOAT<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-constant">std</span>::<span class="org-constant">numeric_limits</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">float</span><span class="org-rainbow-delimiters-depth-2">&gt;</span>::lowest<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<p>
<b>Program Output:</b> 
</p>

<div class="org-src-container">
<pre class="src src-text">$ ./out.bin 

==== Decomposition of Single Precision Float Points =====

     ...     ...     ...     ...     ...     ...     ...     ... 

                Input Expression: +std::numeric_limits&lt;float&gt;::infinity()
                  Classification: FP_INFINITE
          Decimal Representation: inf 
      Hexadecimal Representation: inf 
    Integer Representation (hex): 0x7f800000
                        Sign bit: 0   
                        Exponent: 128 
                    Raw Exponent: 255 
              Raw Exponent (hex): 0xff
                  Mantissa (hex): 0x0 


                Input Expression: -std::numeric_limits&lt;float&gt;::infinity()
                  Classification: FP_INFINITE
          Decimal Representation: -inf
      Hexadecimal Representation: -inf
    Integer Representation (hex): 0xff800000
                        Sign bit: 1   
                        Exponent: 128 
                    Raw Exponent: 255 
              Raw Exponent (hex): 0xff
                  Mantissa (hex): 0x0 


                Input Expression: +std::numeric_limits&lt;float&gt;::min()
                  Classification: PF_NORMAL
          Decimal Representation: 1.17549e-38
      Hexadecimal Representation: 0x1p-126
    Integer Representation (hex): 0x00800000
                        Sign bit: 0   
                        Exponent: -126
                    Raw Exponent: 1   
              Raw Exponent (hex): 0x1 
                  Mantissa (hex): 0x0 

  ... ....   ... ....   ... ....   ... ....   ... .... 


</pre>
</div>
</div>
</div>
<div id="outline-container-orgea845ea" class="outline-4">
<h4 id="orgea845ea"><span class="section-number-4">1.3.5</span> Libraries</h4>
<div class="outline-text-4" id="text-1-3-5">
<ul class="org-ul">
<li><b>Boost Multiprecision</b>
<ul class="org-ul">
<li>site: <a href="https://www.boost.org/doc/libs/1_71_0/libs/multiprecision/doc/html/boost_multiprecision/intro.html">https://www.boost.org/doc/libs/1_71_0/libs/multiprecision/doc/html/boost_multiprecision/intro.html</a></li>
<li>"The Multiprecision Library provides integer, rational,
floating-point, and complex types in C++ that have more range
and precision than C++'s ordinary built-in types. The big
number types in Multiprecision can be used with a wide
selection of basic mathematical operations, elementary
transcendental functions as well as the functions in
Boost.Math. The Multiprecision types can also interoperate with
the built-in types in C++ using clearly defined conversion
rules. This allows Boost.Multiprecision to be used for all
kinds of mathematical calculations involving integer, rational
and floating-point types requiring extended range and
precision. Multiprecision consists of a generic interface to
the mathematics of large numbers as well as a selection of big
number back ends, with support for integer, rational,
floating-point, and complex types. Boost.Multiprecision
provides a selection of back ends provided off-the-rack in
including interfaces to GMP, MPFR, MPIR, MPC, TomMath as well
as its own collection of Boost-licensed, header-only back ends
for integers, rationals and floats. In addition, user-defined
back ends can be created and used with the interface of
Multiprecision, provided the class implementation adheres to
the necessary concepts."</li>
</ul></li>

<li><b>half</b> - IEEE 754-based half-precision floating-point library
<ul class="org-ul">
<li>site: <a href="http://half.sourceforge.net/index.html">http://half.sourceforge.net/index.html</a></li>
<li>"This is a C++ header-only library to provide an IEEE 754
conformant 16-bit half-precision floating-point type along with
corresponding arithmetic operators, type conversions and common
mathematical functions. It aims for both efficiency and ease of
use, trying to accurately mimic the behaviour of the built-in
floating-point types at the best performance possible. It is
hosted on SourceForge.net."</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org23f01ba" class="outline-4">
<h4 id="org23f01ba"><span class="section-number-4">1.3.6</span> Literature and Further Reading</h4>
<div class="outline-text-4" id="text-1-3-6">
<p>
<b>Fundamental:</b>
</p>

<ul class="org-ul">
<li><b>FAQ What Every Computer Scientist Should Know About Floating-Point Arithmetic</b>
<ul class="org-ul">
<li><a href="https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html">https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></li>
</ul></li>

<li><b>The Perils of Float Point</b> 
<ul class="org-ul">
<li><a href="http://www.lahey.com/float.htm">http://www.lahey.com/float.htm</a></li>
</ul></li>

<li><b>A Tutorial on Data Representation Integers, Floating-point Numbers, and Characters</b>
<ul class="org-ul">
<li><a href="https://www3.ntu.edu.sg/home/ehchua/programming/java/datarepresentation.html">https://www3.ntu.edu.sg/home/ehchua/programming/java/datarepresentation.html</a></li>
</ul></li>

<li><b>An Introduction to Float-Point Arithmetic and Computation</b> - CERN, Jeff Arnold
<ul class="org-ul">
<li><a href="https://indico.cern.ch/event/626147/attachments/1456066/2247140/FloatingPoint.Handout.pdf">https://indico.cern.ch/event/626147/attachments/1456066/2247140/FloatingPoint.Handout.pdf</a></li>
</ul></li>
</ul>


<p>
<b>Float Point Comparison, Assertions and Testing</b>
</p>

<ul class="org-ul">
<li><b>PEP 485 &#x2013; A Function for testing approximate equality</b> [BEST] - Cristopher Baker - Noaa.gov
<ul class="org-ul">
<li><a href="https://www.python.org/dev/peps/pep-0485/">https://www.python.org/dev/peps/pep-0485/</a></li>
<li>"This PEP proposes the addition of an isclose() function to the
standard library math module that determines whether one value
is approximately equal or "close" to another value."</li>
</ul></li>

<li><b>Boost Libraries Floating Point Comparison</b> [BEST]
<ul class="org-ul">
<li><a href="https://www.boost.org/doc/libs/1_71_0/libs/math/doc/html/math_toolkit/float_comparison.html">https://www.boost.org/doc/libs/1_71_0/libs/math/doc/html/math_toolkit/float_comparison.html</a></li>
</ul></li>

<li><b>Comparing Float Point Numbers, 2021 Edition</b>
<ul class="org-ul">
<li><a href="https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/">https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/</a></li>
</ul></li>

<li><b>Comparing Floting Point Numbers</b> - Bruce Dawson
<ul class="org-ul">
<li><a href="http://staff.polito.it/claudio.fornaro/CorsoINF/Other%20interesting%20lectures/Comparing%20Floating%20Point%20Numbers.pdf">http://staff.polito.it/claudio.fornaro/CorsoINF/Other interesting lectures/Comparing Floating Point Numbers.pdf</a></li>
</ul></li>

<li><b>Comparing Floating-Point Numbers Is Tricky</b>
<ul class="org-ul">
<li><a href="https://bitbashing.io/comparing-floats.html">https://bitbashing.io/comparing-floats.html</a></li>
</ul></li>

<li><b>Boost - Float Point Comparison</b> - Boost C++ Libraries
<ul class="org-ul">
<li><a href="https://www.boost.org/doc/libs/1_71_0/libs/math/doc/html/math_toolkit/float_comparison.html">https://www.boost.org/doc/libs/1_71_0/libs/math/doc/html/math_toolkit/float_comparison.html</a></li>
</ul></li>

<li><b>Float Point Comparison in Rust</b>
<ul class="org-ul">
<li><a href="https://docs.rs/float-cmp/0.5.2/float_cmp/">https://docs.rs/float-cmp/0.5.2/float_cmp/</a></li>
</ul></li>
</ul>


<p>
<b>Floating Point Exceptions - SIGFPE</b>:
</p>

<p>
Note - floating point exceptions are not C++ exceptions, they are
signal.
</p>

<ul class="org-ul">
<li><a href="https://en.cppreference.com/w/cpp/numeric/fenv">Floating-point environment - cppreference.com</a></li>

<li><a href="https://en.cppreference.com/w/cpp/header/cfenv">Standard library header &lt;cfenv&gt; - cppreference.com</a> (C++11 features)</li>

<li><a href="https://docs.oracle.com/cd/E19957-01/806-3568/ncg_handle.html">Exceptions and Exception Handling</a> [BEST] - Oracle</li>

<li><a href="http://www.math.utah.edu/~beebe/software/ieee/">IEEE 754 floating-point test software</a> [BEST] - Nelson H. F. Beebe</li>

<li><a href="https://www.ibm.com/support/knowledgecenter/en/ssw_aix_72/generalprogramming/floating-point_except.html">Floating-point exceptions</a> - IBM Knowledge Center.</li>

<li><a href="https://davidlindelof.com/how-to-test-for-floating-point-exceptions-with-cpputest/">How to test for floating point exceptions with CppUTest | David's blog</a> [BEST]</li>

<li><a href="https://www.gnu.org/software/gsl/doc/html/debug.html#handling-floating-point-exceptions">Handling SIGFPE with GDB</a> [BEST] [PRACTICAL] [DEBUG]</li>

<li><a href="https://www.scinethpc.ca/tag/debugging/">debugging | SciNet | Advanced Research Computing at the University of Toronto</a> [EXAMPLE] [BEST]</li>

<li><a href="https://www.numbercrunch.de/blog/2016/05/c1114-for-scientific-computing-vi/">C++11/14 for scientific computing VI – Number Crunch</a></li>

<li><a href="https://technopark02.blogspot.com/2005/10/handling-sigfpe.html">Mandalika's scratchpad: Handling SIGFPE</a> [EXAMPLE]</li>

<li><a href="https://codeday.me/jp/qa/20190324/474528.html">C/C++ハンドラSIGFPEとは何ですか？ - コードログ</a> [EXAMPLE]</li>

<li><a href="https://wiki.sei.cmu.edu/confluence/display/c/FLP03-C.+Detect+and+handle+floating-point+errors">FLP03-C. Detect and handle floating-point errors - SEI CERT C Coding Standard - Confluence</a></li>

<li><a href="https://docs.python.org/2/library/fpectl.html">28.16. fpectl — Floating point exception control — Python 2.7.16 documentation</a></li>

<li><a href="http://www.bgu.ac.il/intel_fortran_docs/compiler_f/main_for/fpops/fortran/fpops_fpex_for_f.htm">Handling Floating-point Exceptions</a> - Intel Fortran Compiler</li>

<li><a href="https://hal.archives-ouvertes.fr/file/index/docid/128124/filename/floating-point.pdf">The Pitfalls of Veryfing Floating-Point Computations</a> - David Monniaux</li>

<li><a href="https://www.gnu.org/software/libc/manual/html_node/Program-Error-Signals.html">Program Error Signals (The GNU C Library)</a></li>

<li><a href="https://people.inf.ethz.ch/suz/theses/TV-thesis.pdf">Automatic Detection of Floating Point Exceptions</a> - Thanh V. Vo - Thesis.</li>
</ul>


<p>
<b>Platform Specific Behavior</b>
</p>

<ul class="org-ul">
<li><b>Cross-Platform Issues with Floating-Point Arithmetic in C++</b>
<ul class="org-ul">
<li><a href="https://www.appinf.com/download/FPIssues.pdf">https://www.appinf.com/download/FPIssues.pdf</a></li>
</ul></li>

<li><a href="https://mcuoneclipse.com/2019/03/29/be-aware-floating-point-operations-on-arm-cortex-m4f/">Be aware: Floating Point Operations on ARM Cortex-M4F | MCU on Eclipse</a></li>
</ul>


<p>
<b>Floating point Binary16</b>
</p>

<ul class="org-ul">
<li><a href="https://software.intel.com/en-us/articles/performance-benefits-of-half-precision-floats">Performance Benefits of Half Precision Floats | Intel® Software</a></li>
</ul>

<p>
<b>Miscellaneous</b>
</p>

<ul class="org-ul">
<li><b>Real Close to the Machine: Floating Point in D</b>
<ul class="org-ul">
<li><a href="https://dlang.org/articles/d-floating-point.html">https://dlang.org/articles/d-floating-point.html</a></li>
</ul></li>

<li><b>Making floating point math highly efficient for AI hardware</b> - Facebook 
<ul class="org-ul">
<li><a href="https://ai.facebook.com/blog/making-floating-point-math-highly-efficient-for-ai-hardware/">https://ai.facebook.com/blog/making-floating-point-math-highly-efficient-for-ai-hardware/</a></li>
</ul></li>

<li><b>Subnormal Floating-Point Degradation in Parallel Applications</b>
<ul class="org-ul">
<li><a href="http://charm.cs.uiuc.edu/subnormal/">http://charm.cs.uiuc.edu/subnormal/</a></li>
</ul></li>

<li><b>Float Point Numbers &amp; Currency Rouding Errors</b>
<ul class="org-ul">
<li><a href="https://spin.atomicobject.com/2014/08/14/currency-rounding-errors/">https://spin.atomicobject.com/2014/08/14/currency-rounding-errors/</a></li>
</ul></li>

<li><b>Symbolic Execution for Checking Accuracy of Float-Point Programs</b> (Paper)
<ul class="org-ul">
<li><a href="http://www.ccs.neu.edu/home/wahl/Publications/rpw15.pdf">http://www.ccs.neu.edu/home/wahl/Publications/rpw15.pdf</a></li>
</ul></li>

<li><b>Five Tips for Floating Point Programs</b> - John D. Coock
<ul class="org-ul">
<li><a href="https://www.codeproject.com/Articles/29637/Five-Tips-for-Floating-Point-Programming">https://www.codeproject.com/Articles/29637/Five-Tips-for-Floating-Point-Programming</a></li>
</ul></li>

<li><b>Hydra Chronicles, Part III - Catastrophic Imprecision</b> 
<ul class="org-ul">
<li><a href="https://www.brodieg.com/2019/06/18/hydra-precision/">https://www.brodieg.com/2019/06/18/hydra-precision/</a></li>
</ul></li>

<li><b>Number Representation and Errors</b> - Jun Zhang
<ul class="org-ul">
<li><a href="https://www.cs.uky.edu/~jzhang/CS321/lecture1.pdf">https://www.cs.uky.edu/~jzhang/CS321/lecture1.pdf</a></li>
</ul></li>

<li><b>Why Fixed Point Won't Cure Your Float Point Blues</b> - Richard Harris
<ul class="org-ul">
<li><a href="https://accu.org/index.php/journals/1717">https://accu.org/index.php/journals/1717</a></li>
</ul></li>

<li><b>Fixed-Point Math in C</b>
<ul class="org-ul">
<li><a href="https://www.embedded.com/discussion/other/4024639/Fixed-point-math-in-C">https://www.embedded.com/discussion/other/4024639/Fixed-point-math-in-C</a></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org12671dc" class="outline-3">
<h3 id="org12671dc"><span class="section-number-3">1.4</span> C++11 Random Number Library</h3>
<div class="outline-text-3" id="text-1-4">
</div>
<div id="outline-container-org6f2e8a9" class="outline-4">
<h4 id="org6f2e8a9"><span class="section-number-4">1.4.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-4-1">
<p>
C++11 provides a safer, more convenient and useful random number
facilities than the old C-API rand() that fits many different domains
such as numerical simulations, games, quizzes, password generation,
security and so on. 
</p>

<ul class="org-ul">
<li>Header: <a href="https://en.cppreference.com/w/cpp/numeric/random">&lt;random&gt;</a></li>
<li>Predecessor: <a href="https://www.boost.org/doc/libs/1_70_0/doc/html/boost_random.html">Boost.Random</a></li>

<li>Advatanges over the old C-API rand():
<ul class="org-ul">
<li>Safer and Stronger</li>
<li>More user control</li>
<li>Multiple random number engines</li>
<li>Many probability distributions</li>
</ul></li>
</ul>


<p>
Note:
</p>

<ul class="org-ul">
<li>The C++11 random numbers' API is not object oriented, there is no
class hierarchy. The library is <b>generic</b> and uses lots of <b>C++'s
generic programming</b> (template meta programming) features. This
design choice allows the library to be header-only and to be reused
for many different types without virtual-function calls overhead.</li>
</ul>

<p>
<b>Uses of Random Numbers</b> 
</p>

<ul class="org-ul">
<li>Many Science, Physics and Engineering fields:
<ul class="org-ul">
<li>Monte-Carlo Simulations</li>
<li>Brownian Motion Simulation</li>
<li>Simulation of noises and disturbances</li>
<li>SDE</li>
</ul></li>

<li>Cryptography
<ul class="org-ul">
<li>Password generation</li>
<li>Generation of keys</li>
</ul></li>

<li>Games and RPG Role Play Games</li>

<li>Shuffling</li>

<li>Lottery</li>
</ul>

<p>
<b>C++11 Random Number System:</b>
</p>

<p>
The random number API has three parts, a seed generator, a pseudo-random
number engine and a probability distribution. 
</p>

<ul class="org-ul">
<li><b>seed</b> - Initial state of a pseudo-random number generator, a big
random integer.</li>

<li><b>seed generator:</b> A non-deterministic random number generator that
yields new seed random whenever it is invoked. Its purpose is to
initialize the random engine.</li>

<li><b>pseudo-random generator engine</b>: Generates a reproducible sequence
of big integers that are fed to a probability distribution. A
pseudo-random generator always yields the same numerical sequence
for the same <b>seed</b> or initial state, therefore, in order to make the
generator really random, it is necessary to initialize it with a
different seed during the program initialization. While the
deterministic feature of the random engines may look like a
disadvantange, they are useful for testing and reproducibility of
results, simulations and experiments. For instance, by using the
same seed and engine, it is possible to reproduce and test the
results of monte-carlo numerical simulation.
<ul class="org-ul">
<li>Note: The engines are deterministic, but can be made
non-deterministic by changing the seed during the
initialization.</li>
</ul></li>

<li><b>probability distribution</b>: A probability distribution object takes
the generator output, a big number, and returns a random number
specified by the distribution.</li>
</ul>

<p>
Some Engines: 
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Library Class</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><b>Seed Generator</b></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><a href="https://en.cppreference.com/w/cpp/numeric/random/random_device">std::random_device</a></td>
<td class="org-left">Generates a seed, aka non-deterministic random number.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Random Generator Engines</b></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">std::default_random_engine</td>
<td class="org-left">Default engine, the algorithm used is implementation defined.</td>
</tr>

<tr>
<td class="org-left">std::mt19937</td>
<td class="org-left">32-bit Mersenne Twister by Matsumoto and Nishimura, 1998</td>
</tr>

<tr>
<td class="org-left">std::mt19937_64</td>
<td class="org-left">64-bit Mersenne Twister by Matsumoto and Nishimura, 2000</td>
</tr>

<tr>
<td class="org-left">std::minstd_rand0</td>
<td class="org-left">Linear Congruential</td>
</tr>

<tr>
<td class="org-left">std::minstd_rand</td>
<td class="org-left">Linear Congruential</td>
</tr>

<tr>
<td class="org-left">std::ranlux48</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">std::knuth_b</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><b>Probability Distributions</b></td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left"><a href="https://en.cppreference.com/w/cpp/numeric/random/uniform_int_distribution">std::uniform_int_distribution</a></td>
<td class="org-left">Generates uniformly distributed integers in the interval [a, b]</td>
</tr>

<tr>
<td class="org-left"><a href="https://en.cppreference.com/w/cpp/numeric/random/uniform_real_distribution">std::uniform_real_distribution&lt;T&gt;</a></td>
<td class="org-left">Generates uniformly distributed float point numbers.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><a href="https://en.cppreference.com/w/cpp/numeric/random/normal_distribution">std::normal_distribution</a></td>
<td class="org-left">Yields normally distributed numbers with some mean and standard deviation.</td>
</tr>

<tr>
<td class="org-left"><a href="https://en.cppreference.com/w/cpp/numeric/random/lognormal_distribution">std::lognormal_distribution</a></td>
<td class="org-left">Variant of the normal distribution.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">bernouli_distributions&lt;T&gt;</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">binomial_distribution&lt;T&gt;</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">negative_binonmial_distribution&lt;T&gt;</td>
<td class="org-left">-</td>
</tr>

<tr>
<td class="org-left">geometric_distribution&lt;T&gt;</td>
<td class="org-left">-</td>
</tr>
</tbody>
</table>

<p>
<b>Further Reading</b>
</p>

<ul class="org-ul">
<li><a href="https://en.wikipedia.org/wiki/Applications_of_randomness">Applications of randomness</a></li>

<li><a href="https://en.wikipedia.org/wiki/Pseudorandom_number_generator">Pseudorandom number generator</a></li>

<li><a href="http://www0.cs.ucl.ac.uk/staff/d.jones/GoodPracticeRNG.pdf">Good Practice in (Pseudo) Random Number Generation for Bioinformatics Applications</a></li>

<li><a href="https://softwareengineering.stackexchange.com/questions/147134/how-should-i-test-randomness">testing - How should I test randomness? - Software Engineering Stack Exchange</a></li>

<li><a href="http://blog.jessitron.com/2013/08/a-trick-for-deterministic-testing-of.html">Abstractivate: A trick for deterministic testing of random behavior</a></li>
</ul>

<p>
<b>Reproducibility in Science and Research</b> 
</p>

<ul class="org-ul">
<li><a href="https://www.nature.com/news/1-500-scientists-lift-the-lid-on-reproducibility-1.19970">1,500 scientists lift the lid on reproducibility : Nature News &amp; Comment</a></li>

<li><a href="https://reproduciblescience.org/">Reproducible Science</a></li>

<li><a href="http://rescience.github.io/">Reproducible Science is good. Replicated Science is better.</a></li>

<li><a href="https://www.natureindex.com/news-blog/when-it-comes-to-reproducible-science-git-is-code-for-success">When it comes to reproducible science, Git is code for success | Nature Index</a></li>

<li><a href="https://towardsdatascience.com/data-sciences-reproducibility-crisis-b87792d88513">Data Science's Reproducibility Crisis – Towards Data Science</a></li>

<li><a href="https://www.codeproject.com/Articles/1083372/Random-Number-Generator-Recommendations-for-Applic">Random Number Generator Recommendations for Applications - CodeProject</a></li>
</ul>
</div>
</div>

<div id="outline-container-org9d9056c" class="outline-4">
<h4 id="org9d9056c"><span class="section-number-4">1.4.2</span> Basic Examples</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
<b>Example in CERN's ROOT REPL:</b>
</p>

<ul class="org-ul">
<li>Example 1: The function generate_randoms1 fails to generate a
random sequence as whenever the function is called, it generates
the same sequence of numbers because the seed was not set.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">random</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-type">void</span> <span class="org-function-name">generate_randoms1</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">size_t</span> <span class="org-variable-name">n</span><span class="org-rainbow-delimiters-depth-1">){</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">Create default initialized engine object </span>
     <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span> <span class="org-variable-name">engine</span><span class="org-rainbow-delimiters-depth-2">{}</span>;
     <span class="org-comment-delimiter">// </span><span class="org-comment">Generates uniformily distributed integers from 1 to 10, </span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">including both bounds of the interval.  </span>
     <span class="org-constant">std</span>::<span class="org-type">uniform_int_distribution</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">&gt;</span> <span class="org-variable-name">dist</span><span class="org-rainbow-delimiters-depth-2">(</span>1, 10<span class="org-rainbow-delimiters-depth-2">)</span>; 
     <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">auto</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++<span class="org-rainbow-delimiters-depth-2">)</span>
       <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" x["</span> &lt;&lt; i &lt;&lt; <span class="org-string">"] = "</span> &lt;&lt; dist<span class="org-rainbow-delimiters-depth-2">(</span>engine<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Testing: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; generate_randoms1<span class="org-rainbow-delimiters-depth-1">(</span>4<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 5

&gt;&gt; generate_randoms1<span class="org-rainbow-delimiters-depth-1">(</span>4<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 5

&gt;&gt; generate_randoms1<span class="org-rainbow-delimiters-depth-1">(</span>6<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span> = 3 

&gt;&gt; generate_randoms1<span class="org-rainbow-delimiters-depth-1">(</span>10<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span> = 3
 x<span class="org-rainbow-delimiters-depth-1">[</span>6<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>7<span class="org-rainbow-delimiters-depth-1">]</span> = 7
 x<span class="org-rainbow-delimiters-depth-1">[</span>8<span class="org-rainbow-delimiters-depth-1">]</span> = 7
 x<span class="org-rainbow-delimiters-depth-1">[</span>9<span class="org-rainbow-delimiters-depth-1">]</span> = 10
</pre>
</div>

<ul class="org-ul">
<li>Example 2: The function generate_randoms2, generates quasi-random
numbers whenever the seed is changed, if it is kept unchanged, the
distribution and engine will always generate the same results.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">random</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-type">void</span> <span class="org-function-name">generate_randoms2</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">size_t</span> <span class="org-variable-name">n</span>, <span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-variable-name">seed</span><span class="org-rainbow-delimiters-depth-1">){</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">Create default initialized engine object </span>
     <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span> <span class="org-variable-name">engine</span><span class="org-rainbow-delimiters-depth-2">{</span>seed<span class="org-rainbow-delimiters-depth-2">}</span>;
     <span class="org-comment-delimiter">// </span><span class="org-comment">Generates uniformily distributed integers from 1 to 10, </span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">including both bounds of the interval.  </span>
     <span class="org-constant">std</span>::<span class="org-type">uniform_int_distribution</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">&gt;</span> <span class="org-variable-name">dist</span><span class="org-rainbow-delimiters-depth-2">(</span>1, 10<span class="org-rainbow-delimiters-depth-2">)</span>; 
     <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">auto</span> <span class="org-variable-name">i</span> = 0; i &lt; n; i++<span class="org-rainbow-delimiters-depth-2">)</span>
       <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" x["</span> &lt;&lt; i &lt;&lt; <span class="org-string">"] = "</span> &lt;&lt; dist<span class="org-rainbow-delimiters-depth-2">(</span>engine<span class="org-rainbow-delimiters-depth-2">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
Testing: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">Generates a new seed whenever it is called </span>
<span class="org-function-name">std</span>::random_device seed_gen<span class="org-rainbow-delimiters-depth-1">{}</span>;

<span class="org-comment-delimiter">// </span><span class="org-comment">A seed is a big integer used for initializing the generator </span>
&gt;&gt; seed_gen<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-1">)</span> 4133644392

&gt;&gt; seed_gen<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-1">)</span> 2900292039

<span class="org-comment-delimiter">// </span><span class="org-comment">Save current seed </span>
&gt;&gt; <span class="org-keyword">auto</span> seed = seed_gen<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-1">)</span> 2616205616

&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>5, seed<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 4
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 10
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
&gt;&gt; 
&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>6, seed<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 4
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 10
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span> = 10

&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>10, seed<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 4
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 10
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span> = 10
 x<span class="org-rainbow-delimiters-depth-1">[</span>6<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>7<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>8<span class="org-rainbow-delimiters-depth-1">]</span> = 9
 x<span class="org-rainbow-delimiters-depth-1">[</span>9<span class="org-rainbow-delimiters-depth-1">]</span> = 6
&gt;&gt; 
</pre>
</div>

<p>
Changing the seed: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; <span class="org-keyword">auto</span> seed2 = seed_gen<span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">unsigned</span> <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-1">)</span> 3091314163


&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>4, seed2<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 7

&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>8, seed2<span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 2
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 7
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>5<span class="org-rainbow-delimiters-depth-1">]</span> = 9
 x<span class="org-rainbow-delimiters-depth-1">[</span>6<span class="org-rainbow-delimiters-depth-1">]</span> = 4
 x<span class="org-rainbow-delimiters-depth-1">[</span>7<span class="org-rainbow-delimiters-depth-1">]</span> = 1
</pre>
</div>

<p>
Making the sequence "really" random:
</p>

<div class="org-src-container">
<pre class="src src-cpp">&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>5, seed_gen<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 9
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 10
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 2

&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>5, seed_gen<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 5
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 6
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 7
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 4

&gt;&gt; generate_randoms2<span class="org-rainbow-delimiters-depth-1">(</span>5, seed_gen<span class="org-rainbow-delimiters-depth-2">()</span><span class="org-rainbow-delimiters-depth-1">)</span>
 x<span class="org-rainbow-delimiters-depth-1">[</span>0<span class="org-rainbow-delimiters-depth-1">]</span> = 3
 x<span class="org-rainbow-delimiters-depth-1">[</span>1<span class="org-rainbow-delimiters-depth-1">]</span> = 4
 x<span class="org-rainbow-delimiters-depth-1">[</span>2<span class="org-rainbow-delimiters-depth-1">]</span> = 1
 x<span class="org-rainbow-delimiters-depth-1">[</span>3<span class="org-rainbow-delimiters-depth-1">]</span> = 8
 x<span class="org-rainbow-delimiters-depth-1">[</span>4<span class="org-rainbow-delimiters-depth-1">]</span> = 8
</pre>
</div>
</div>
</div>

<div id="outline-container-org19bb64b" class="outline-4">
<h4 id="org19bb64b"><span class="section-number-4">1.4.3</span> Example - Normally Distributed Randoms</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>
The following sample code generates N normally distributed random
numbers with mean 10.0 and standard deviation 5 in three different
ways: first with seed not set; then with seed set by used and third
with seed generated automatically. 
</p>

<ul class="org-ul">
<li>File: <b>randoms1.cpp</b></li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">random</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span> 
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">vector</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span> 
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">string</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span> 
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">functional</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">int</span> <span class="org-variable-name">argc</span>, <span class="org-type">char</span>** <span class="org-variable-name">argv</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">{</span>       
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>argc &lt; 3<span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"Error: option provided. Try again!"</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-keyword">return</span> EXIT_FAILURE;        
    <span class="org-rainbow-delimiters-depth-2">}</span>   

    <span class="org-type">size_t</span> <span class="org-variable-name">quantity</span> = <span class="org-constant">std</span>::stoi<span class="org-rainbow-delimiters-depth-2">(</span>argv<span class="org-rainbow-delimiters-depth-3">[</span>1<span class="org-rainbow-delimiters-depth-3">]</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-constant">std</span>::<span class="org-type">string</span> <span class="org-variable-name">command</span> = argv<span class="org-rainbow-delimiters-depth-2">[</span>2<span class="org-rainbow-delimiters-depth-2">]</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Subprogram 1 - Run without any provided seed </span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>command == <span class="org-string">"-empty"</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" [INFO] Running without setting the generator's seed"</span> &lt;&lt; <span class="org-constant">std</span>::endl;       
        <span class="org-comment-delimiter">// </span><span class="org-comment">Random number engine </span>
        <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span> <span class="org-variable-name">rngen</span><span class="org-rainbow-delimiters-depth-3">{}</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">mean = 10.0, stdev = 5.0 </span>
        <span class="org-constant">std</span>::<span class="org-type">normal_distribution</span><span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-3">&gt;</span> <span class="org-variable-name">ndist</span><span class="org-rainbow-delimiters-depth-3">(</span>10.0, 5.0<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">auto</span> <span class="org-variable-name">i</span> = 0; i &lt; quantity; i++<span class="org-rainbow-delimiters-depth-3">)</span>
            <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"Next random is = "</span> &lt;&lt; ndist<span class="org-rainbow-delimiters-depth-3">(</span>rngen<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-keyword">return</span> EXIT_SUCCESS;
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Subprogram 2 - User provides the seed </span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>command == <span class="org-string">"-seed"</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-3">(</span>argc &lt; 4<span class="org-rainbow-delimiters-depth-3">){</span>
                <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"Error: missing seed. "</span> &lt;&lt; <span class="org-constant">std</span>::endl;
                <span class="org-keyword">return</span> EXIT_FAILURE;
        <span class="org-rainbow-delimiters-depth-3">}</span>
        <span class="org-keyword">auto</span> <span class="org-variable-name">seed</span> = <span class="org-constant">std</span>::atol<span class="org-rainbow-delimiters-depth-3">(</span>argv<span class="org-rainbow-delimiters-depth-4">[</span>3<span class="org-rainbow-delimiters-depth-4">]</span><span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" [INFO] Using seed = "</span> &lt;&lt; seed &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-comment-delimiter">// </span><span class="org-comment">Random number engine </span>
        <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span> <span class="org-variable-name">rngen</span><span class="org-rainbow-delimiters-depth-3">{</span>seed<span class="org-rainbow-delimiters-depth-3">}</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">mean = 10.0, stdev = 5.0 </span>
        <span class="org-constant">std</span>::<span class="org-type">normal_distribution</span><span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-3">&gt;</span> <span class="org-variable-name">ndist</span><span class="org-rainbow-delimiters-depth-3">(</span>10.0, 5.0<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">auto</span> <span class="org-variable-name">i</span> = 0; i &lt; quantity; i++<span class="org-rainbow-delimiters-depth-3">)</span>
           <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"Next random is = "</span> &lt;&lt; ndist<span class="org-rainbow-delimiters-depth-3">(</span>rngen<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;               
    <span class="org-rainbow-delimiters-depth-2">}</span>
    <span class="org-comment-delimiter">// </span><span class="org-comment">Subprogram 2  - Automatically generates a seed </span>
    <span class="org-keyword">if</span><span class="org-rainbow-delimiters-depth-2">(</span>command == <span class="org-string">"-auto"</span><span class="org-rainbow-delimiters-depth-2">)</span>
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-comment-delimiter">// </span><span class="org-comment">Object that generates seed (initial state of random generator)</span>
        <span class="org-constant">std</span>::<span class="org-type">random_device</span> <span class="org-variable-name">seed_gen</span>;

        <span class="org-comment-delimiter">// </span><span class="org-comment">Get a seed (big random integer) used for initializing the random generator. </span>
        <span class="org-keyword">auto</span> <span class="org-variable-name">seed</span> = seed_gen<span class="org-rainbow-delimiters-depth-3">()</span>; 
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"seed = "</span> &lt;&lt;  seed &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-comment-delimiter">// </span><span class="org-comment">Random number engine </span>
        <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span> <span class="org-variable-name">rngen</span><span class="org-rainbow-delimiters-depth-3">{</span>seed<span class="org-rainbow-delimiters-depth-3">}</span>;
        <span class="org-comment-delimiter">// </span><span class="org-comment">mean = 10.0, stdev = 5.0 </span>
        <span class="org-constant">std</span>::<span class="org-type">normal_distribution</span><span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-type">double</span><span class="org-rainbow-delimiters-depth-3">&gt;</span> <span class="org-variable-name">ndist</span><span class="org-rainbow-delimiters-depth-3">(</span>10.0, 5.0<span class="org-rainbow-delimiters-depth-3">)</span>;
        <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">auto</span> <span class="org-variable-name">i</span> = 0; i &lt; quantity; i++<span class="org-rainbow-delimiters-depth-3">)</span>
           <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"Next random is = "</span> &lt;&lt; ndist<span class="org-rainbow-delimiters-depth-3">(</span>rngen<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; <span class="org-constant">std</span>::endl;               
    <span class="org-rainbow-delimiters-depth-2">}</span>       

    <span class="org-keyword">return</span> 0;
<span class="org-rainbow-delimiters-depth-1">}</span>

</pre>
</div>

<p>
Compiling: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Using Clang </span>
$ clang++ randoms1.cpp -o <span class="org-keyword">randoms1.bin</span> -std=c++1z -g -O0 -Wall 

<span class="org-comment-delimiter"># </span><span class="org-comment">Using GCC</span>
$ gcc++ randoms1.cpp -o <span class="org-keyword">randoms1.bin</span> -std=c++1z -g -O0 -Wall 
</pre>
</div>

<ul class="org-ul">
<li><b>Experiment 1:</b> Running command <b>empty</b> =&gt; generates N normally
distributed numbers with mean 4 and standard deviation 10 without
setting the engine rngen's seed, aka initial state.</li>
</ul>

<div class="org-src-container">
<pre class="src src-text"># Fails! 

$ ./randoms1.bin 5 -empty
 [INFO] Running without setting the generator's seed
Next random is = 9.39017
Next random is = 4.56591
Next random is = 13.4214
Next random is = 4.62405
Next random is = 10.1663


$ ./randoms1.bin 5 -empty
 [INFO] Running without setting the generator's seed
Next random is = 9.39017
Next random is = 4.56591
Next random is = 13.4214
Next random is = 4.62405
Next random is = 10.1663
(base) 

$ ./randoms1.bin 8 -empty
 [INFO] Running without setting the generator's seed
Next random is = 9.39017
Next random is = 4.56591
Next random is = 13.4214
Next random is = 4.62405
Next random is = 10.1663
Next random is = 13.7242
Next random is = 10.168
Next random is = 7.36681
</pre>
</div>

<ul class="org-ul">
<li><b>Experiment 2:</b> Running command <b>auto</b> =&gt; generate N random numbers
with same features, but with a seed generated automatically by the
object <span class="underline">seed_gen</span> with type random_device.</li>
</ul>

<p>
Simulation run A:
</p>

<div class="org-src-container">
<pre class="src src-text">$ ./randoms1.bin 4 -auto
seed = 2138866676
Next random is = 6.58512
Next random is = 11.7181
Next random is = 9.55006
Next random is = 7.35961
</pre>
</div>

<p>
Simulation run B: 
</p>

<div class="org-src-container">
<pre class="src src-text">$ ./randoms1.bin 8 -auto
seed = 4200712391
Next random is = 0.575461
Next random is = 11.82
Next random is = 6.07653
Next random is = 13.8118
Next random is = 11.0999
Next random is = 7.04851
Next random is = 7.56055
Next random is = 3.67443
</pre>
</div>

<p>
Simulation run C:
</p>

<div class="org-src-container">
<pre class="src src-text">$ ./randoms1.bin 3 -auto
seed = 1536173647
Next random is = 13.4482
Next random is = 12.2431
Next random is = 12.2183
</pre>
</div>

<ul class="org-ul">
<li><b>Experiment 3:</b> The results of the simulation runs of experiment 2
can be reproduced by reusing the seed with command <b>-seed</b>.</li>
</ul>

<p>
Reproduce simulation run A: 
</p>

<div class="org-src-container">
<pre class="src src-cpp">$ ./randoms1.bin 4 -seed 2138866676
 <span class="org-rainbow-delimiters-depth-1">[</span>INFO<span class="org-rainbow-delimiters-depth-1">]</span> Using seed = 2138866676
Next random is = 6.58512
Next random is = 11.7181
Next random is = 9.55006
Next random is = 7.35961

$ ./randoms1.bin 8 -seed 2138866676
 <span class="org-rainbow-delimiters-depth-1">[</span>INFO<span class="org-rainbow-delimiters-depth-1">]</span> Using seed = 2138866676
Next random is = 6.58512
Next random is = 11.7181
Next random is = 9.55006
Next random is = 7.35961
Next random is = 3.621
Next random is = 8.41599
Next random is = 11.3628
Next random is = 8.27506
</pre>
</div>

<p>
Reproduce simulation run B:
</p>

<div class="org-src-container">
<pre class="src src-cpp">$ ./randoms1.bin 8 -seed 4200712391
 <span class="org-rainbow-delimiters-depth-1">[</span>INFO<span class="org-rainbow-delimiters-depth-1">]</span> Using seed = 4200712391
Next random is = 0.575461
Next random is = 11.82
Next random is = 6.07653
Next random is = 13.8118
Next random is = 11.0999
Next random is = 7.04851
Next random is = 7.56055
Next random is = 3.67443
</pre>
</div>
</div>
</div>

<div id="outline-container-org2718d7d" class="outline-4">
<h4 id="org2718d7d"><span class="section-number-4">1.4.4</span> Example - Class encapsulating uniform random distribution</h4>
<div class="outline-text-4" id="text-1-4-4">
<p>
Source: 
</p>
<ul class="org-ul">
<li>File: <a href="src/math/RandInt.cpp">file:src/math/RandInt.cpp</a></li>
<li>Online Compile: <a href="https://rextester.com/PNY72010">https://rextester.com/PNY72010</a></li>
</ul>

<p>
Headers: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">random</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iomanip</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">string</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
</pre>
</div>

<p>
Class RndInt =&gt; Class for generating random numbers between an integer
interval including both bounds in a simplified way similar to the old
C's rand() API: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">TInt</span> = <span class="org-type">int</span><span class="org-rainbow-delimiters-depth-1">&gt;</span>
<span class="org-keyword">class</span> <span class="org-type">RandInt</span> <span class="org-rainbow-delimiters-depth-1">{</span>
<span class="org-function-name">private</span>:
    <span class="org-constant">std</span>::<span class="org-type">random_device</span>                 <span class="org-variable-name">m_nextSeed</span>;  
    <span class="org-type">unsigned</span> <span class="org-type">int</span>                       <span class="org-variable-name">m_seed</span>;
    <span class="org-constant">std</span>::<span class="org-type">default_random_engine</span>         <span class="org-variable-name">m_engine</span>;
    <span class="org-constant">std</span>::<span class="org-type">uniform_int_distribution</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">&gt;</span> <span class="org-variable-name">m_dist</span>;
<span class="org-function-name">public</span>:
     <span class="org-keyword">using</span> <span class="org-type">TSeed</span> = <span class="org-type">long</span>;

     <span class="org-comment-delimiter">// </span><span class="org-comment">Intialize with a known seed </span>
     <span class="org-function-name">RandInt</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">TInt</span> <span class="org-variable-name">min</span>, <span class="org-type">TInt</span> <span class="org-variable-name">max</span>, <span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-variable-name">seed</span><span class="org-rainbow-delimiters-depth-2">)</span>
      : m_seed<span class="org-rainbow-delimiters-depth-2">(</span>seed<span class="org-rainbow-delimiters-depth-2">)</span>, m_engine<span class="org-rainbow-delimiters-depth-2">(</span>seed<span class="org-rainbow-delimiters-depth-2">)</span>, m_dist<span class="org-rainbow-delimiters-depth-2">(</span>min, max<span class="org-rainbow-delimiters-depth-2">)</span>
     <span class="org-rainbow-delimiters-depth-2">{</span>      
     <span class="org-rainbow-delimiters-depth-2">}</span>

     <span class="org-comment-delimiter">// </span><span class="org-comment">Initialize with a random seed </span>
     <span class="org-function-name">RandInt</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">TInt</span> <span class="org-variable-name">min</span>, <span class="org-type">TInt</span> <span class="org-variable-name">max</span><span class="org-rainbow-delimiters-depth-2">)</span>
       : m_nextSeed<span class="org-rainbow-delimiters-depth-2">{}</span>,
         m_seed<span class="org-rainbow-delimiters-depth-2">(</span>m_nextSeed<span class="org-rainbow-delimiters-depth-3">()</span><span class="org-rainbow-delimiters-depth-2">)</span>,
         m_engine<span class="org-rainbow-delimiters-depth-2">(</span>m_seed<span class="org-rainbow-delimiters-depth-2">)</span>,
         m_dist<span class="org-rainbow-delimiters-depth-2">(</span>min, max<span class="org-rainbow-delimiters-depth-2">)</span>
     <span class="org-rainbow-delimiters-depth-2">{</span>      
     <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-type">TInt</span>  <span class="org-function-name">Min</span><span class="org-rainbow-delimiters-depth-2">()</span>  <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-keyword">return</span> m_dist.min<span class="org-rainbow-delimiters-depth-3">()</span>; <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-type">TInt</span>  <span class="org-function-name">Max</span><span class="org-rainbow-delimiters-depth-2">()</span>  <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-keyword">return</span> m_dist.max<span class="org-rainbow-delimiters-depth-3">()</span>; <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-type">TSeed</span> <span class="org-function-name">Seed</span><span class="org-rainbow-delimiters-depth-2">()</span> <span class="org-keyword">const</span> <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-keyword">return</span> m_seed; <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-type">void</span>  <span class="org-function-name">Seed</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">TSeed</span> <span class="org-variable-name">seed</span><span class="org-rainbow-delimiters-depth-2">)</span>
     <span class="org-rainbow-delimiters-depth-2">{</span>
          m_seed = seed;
          m_engine.seed<span class="org-rainbow-delimiters-depth-3">(</span>seed<span class="org-rainbow-delimiters-depth-3">)</span>;
     <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">Set seed to a new random (non-deterministic) value and return it </span>
     <span class="org-type">TSeed</span> <span class="org-function-name">NextSeed</span><span class="org-rainbow-delimiters-depth-2">()</span>
     <span class="org-rainbow-delimiters-depth-2">{</span>
          m_seed = m_nextSeed<span class="org-rainbow-delimiters-depth-3">()</span>;
          m_engine.seed<span class="org-rainbow-delimiters-depth-3">(</span>m_seed<span class="org-rainbow-delimiters-depth-3">)</span>;
          <span class="org-keyword">return</span> m_seed;
     <span class="org-rainbow-delimiters-depth-2">}</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">Get NExt random </span>
     <span class="org-type">TInt</span> <span class="org-keyword">operator</span><span class="org-function-name"><span class="org-rainbow-delimiters-depth-2">()</span></span><span class="org-rainbow-delimiters-depth-2">()</span>
     <span class="org-rainbow-delimiters-depth-2">{</span>
          <span class="org-keyword">return</span> m_dist<span class="org-rainbow-delimiters-depth-3">(</span>m_engine<span class="org-rainbow-delimiters-depth-3">)</span>;
     <span class="org-rainbow-delimiters-depth-2">}</span>
<span class="org-rainbow-delimiters-depth-1">}</span>;
</pre>
</div>

<p>
Main function: 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-function-name">std</span>::cout &lt;&lt; <span class="org-string">"\n ===== Random numbers with a random seed ===="</span>
                  &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">{</span>
     <span class="org-type">RandInt</span> <span class="org-variable-name">rnd</span><span class="org-rainbow-delimiters-depth-2">(</span>1, 10<span class="org-rainbow-delimiters-depth-2">)</span>;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Seed() = "</span> &lt;&lt; rnd.Seed<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Min() = "</span>  &lt;&lt; rnd.Min<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Max() = "</span>  &lt;&lt; rnd.Max<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;

     <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; 15; i++<span class="org-rainbow-delimiters-depth-2">){</span>
         <span class="org-keyword">auto</span> <span class="org-variable-name">field</span> = <span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">" x["</span><span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-constant">std</span>::to_string<span class="org-rainbow-delimiters-depth-3">(</span>i<span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-string">"] = "</span>; 
         <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>10<span class="org-rainbow-delimiters-depth-3">)</span>
                   &lt;&lt; field
                   &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>5<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; rnd<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-rainbow-delimiters-depth-2">}</span>      
<span class="org-rainbow-delimiters-depth-1">}</span>   

<span class="org-function-name">std</span>::cout &lt;&lt; <span class="org-string">"\n ===== Random numbers with a non-random seed ===="</span>
          &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">{</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">Initialize Random generator object with known and fixed</span>
     <span class="org-comment-delimiter">// </span><span class="org-comment">seed to reproduce computation results. </span>
     <span class="org-type">long</span> <span class="org-variable-name">seed</span> = 1195785783;
     <span class="org-type">RandInt</span> <span class="org-variable-name">rnd</span><span class="org-rainbow-delimiters-depth-2">(</span>1, 10, seed<span class="org-rainbow-delimiters-depth-2">)</span>;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Seed() = "</span> &lt;&lt; rnd.Seed<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Min() = "</span>  &lt;&lt; rnd.Min<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" =&gt; rnd.Max() = "</span>  &lt;&lt; rnd.Max<span class="org-rainbow-delimiters-depth-2">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;

     <span class="org-comment-delimiter">/* </span><span class="org-comment">Expected sequence: 7, 10, 9, 2, 2, 1, 3, 1, 6, 5, 1, 2, 3, 2 ... */</span> 
     <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; 15; i++<span class="org-rainbow-delimiters-depth-2">){</span>
             <span class="org-keyword">auto</span> <span class="org-variable-name">field</span> = <span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">" x["</span><span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-constant">std</span>::to_string<span class="org-rainbow-delimiters-depth-3">(</span>i<span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-string">"] = "</span>; 
             <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>10<span class="org-rainbow-delimiters-depth-3">)</span>
                       &lt;&lt; field
                       &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>5<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; rnd<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
     <span class="org-rainbow-delimiters-depth-2">}</span>      
<span class="org-rainbow-delimiters-depth-1">}</span>   

<span class="org-keyword">return</span> 0;
</pre>
</div>

<p>
Compilation: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ g++ RandInt.cpp -o <span class="org-keyword">RandInt.bin</span> -std=c++1z -g -O0 -Wall 
$ clang++ RandInt.cpp -o <span class="org-keyword">RandInt.bin</span> -std=c++1z -g -O0 -Wall
</pre>
</div>

<p>
Sample program outpu: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ clang++ RandInt.cpp -o <span class="org-keyword">RandInt.bin</span> -std=c++1z -g -O0 -Wall &amp;&amp; ./RandInt.bin

 ===== Random numbers with a random seed ====
 =&gt; rnd.Seed() = 2611535369
 =&gt; rnd.Min() = 1
 =&gt; rnd.Max() = 10
   x[0] =     9
   x[1] =     1
   x[2] =    10
   x[3] =     6
   x[4] =    10
   x[5] =     5
   x[6] =     2
   x[7] =     9
   x[8] =     9
   x[9] =    10
  x[10] =     5
  x[11] =     9
  x[12] =     8
  x[13] =     5
  x[14] =     9

 ===== Random numbers with a non-random seed ====
 =&gt; rnd.Seed() = 1195785783
 =&gt; rnd.Min() = 1
 =&gt; rnd.Max() = 10
   x[0] =     7
   x[1] =    10
   x[2] =     9
   x[3] =     2
   x[4] =     2
   x[5] =     1
   x[6] =     3
   x[7] =     1
   x[8] =     6
   x[9] =     5
  x[10] =     1
  x[11] =     2
  x[12] =     1
  x[13] =     3
  x[14] =     2

</pre>
</div>
</div>
</div>

<div id="outline-container-orga751bca" class="outline-4">
<h4 id="orga751bca"><span class="section-number-4">1.4.5</span> Example - Functional wrapper for random uniform distribution</h4>
<div class="outline-text-4" id="text-1-4-5">
<p>
The function <b>make_uniform_random_distribution</b> returns a lambda object
(anonymous callable object) that generates uniformly distributed
randoms with a given seed. 
</p>

<p>
Sources: 
</p>
<ul class="org-ul">
<li>File:  <a href="src/math/rand_int_fun.cpp">file:src/math/rand_int_fun.cpp</a></li>
<li>Online Compiler: <a href="https://wandbox.org/permlink/g8C8n7Dq7LwgLoLT">https://wandbox.org/permlink/g8C8n7Dq7LwgLoLT</a></li>
</ul>

<p>
Headers:
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">random</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iomanip</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">string</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
</pre>
</div>

<ul class="org-ul">
<li>Function overloading 1 of <b>make_uniform_random_distribution</b> -
Returns a fuction (lambda object) that generates random integers
with a seed supplied by the calling code.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">FUNCTION OVERLOAD 1 </span>
<span class="org-comment-delimiter">//</span><span class="org-comment">-----------------------</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">Note: The return type of this function must not be set to std::function&lt;TInt (void)&gt;</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">or that will have a performance penalty as this container uses type erasure and heap allocation.</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">This function returns lambda or an anonymous callable object, in other words, an object that overloads</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the operator()(), generated by the compiler.</span>
<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">TInt</span><span class="org-rainbow-delimiters-depth-1">&gt;</span> 
<span class="org-keyword">auto</span> <span class="org-function-name">make_uniform_random_distribution</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">TInt</span> <span class="org-variable-name">a</span>, <span class="org-type">TInt</span> <span class="org-variable-name">b</span>, <span class="org-type">long</span> <span class="org-variable-name">seed</span><span class="org-rainbow-delimiters-depth-1">)</span> 
<span class="org-rainbow-delimiters-depth-1">{</span>       
    <span class="org-constant">std</span>::<span class="org-type">mt19937</span> <span class="org-variable-name">engine</span><span class="org-rainbow-delimiters-depth-2">(</span>seed<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-constant">std</span>::<span class="org-type">uniform_int_distribution</span><span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">TInt</span><span class="org-rainbow-delimiters-depth-2">&gt;</span> <span class="org-variable-name">dist</span><span class="org-rainbow-delimiters-depth-2">(</span>a, b<span class="org-rainbow-delimiters-depth-2">)</span>;        
    <span class="org-keyword">return</span> <span class="org-rainbow-delimiters-depth-2">[</span>=<span class="org-rainbow-delimiters-depth-2">]()</span> <span class="org-keyword">mutable</span> -&gt; TInt <span class="org-rainbow-delimiters-depth-2">{</span> <span class="org-keyword">return</span> dist<span class="org-rainbow-delimiters-depth-3">(</span>engine<span class="org-rainbow-delimiters-depth-3">)</span>; <span class="org-rainbow-delimiters-depth-2">}</span>;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<ul class="org-ul">
<li>Function overloading 2 of <b>make_uniform_random_distribution</b> -
Returns a "fuction" (lambda object) that generates random integers
with a random seed.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-comment-delimiter">// </span><span class="org-comment">FUNCTION OVERLOADING 2</span>
<span class="org-comment-delimiter">//</span><span class="org-comment">----------------------------</span>
<span class="org-keyword">template</span><span class="org-rainbow-delimiters-depth-1">&lt;</span><span class="org-keyword">typename</span> <span class="org-type">TInt</span><span class="org-rainbow-delimiters-depth-1">&gt;</span> 
<span class="org-keyword">auto</span> <span class="org-function-name">make_uniform_random_distribution</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">TInt</span> <span class="org-variable-name">a</span>, <span class="org-type">TInt</span> <span class="org-variable-name">b</span><span class="org-rainbow-delimiters-depth-1">)</span> 
<span class="org-rainbow-delimiters-depth-1">{</span>
   <span class="org-constant">std</span>::<span class="org-type">random_device</span> <span class="org-variable-name">rd</span>;
   <span class="org-keyword">return</span> make_uniform_random_distribution<span class="org-rainbow-delimiters-depth-2">(</span>a, b, rd<span class="org-rainbow-delimiters-depth-3">()</span><span class="org-rainbow-delimiters-depth-2">)</span> ;
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<ul class="org-ul">
<li>Main Function:</li>
</ul>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#if</span> 1 
 <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n ===== Random numbers with a random seed ===="</span>
           &lt;&lt; <span class="org-constant">std</span>::endl;
 <span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-keyword">auto</span> <span class="org-variable-name">rnd</span> = make_uniform_random_distribution<span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">&gt;(</span>1, 10<span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; 15; i++<span class="org-rainbow-delimiters-depth-2">){</span>
        <span class="org-keyword">auto</span> <span class="org-variable-name">field</span> = <span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">" x["</span><span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-constant">std</span>::to_string<span class="org-rainbow-delimiters-depth-3">(</span>i<span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-string">"] = "</span>; 
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>10<span class="org-rainbow-delimiters-depth-3">)</span>
                  &lt;&lt; field
                  &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>5<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; rnd<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-rainbow-delimiters-depth-2">}</span>       
 <span class="org-rainbow-delimiters-depth-1">}</span>  
<span class="org-preprocessor">#endif</span> 

<span class="org-function-name">std</span>::cout &lt;&lt; <span class="org-string">"\n ===== Random numbers with a non-random seed ===="</span>
          &lt;&lt; <span class="org-constant">std</span>::endl;
<span class="org-rainbow-delimiters-depth-1">{</span>
   <span class="org-comment-delimiter">// </span><span class="org-comment">Initialize Random generator object with known and fixed</span>
   <span class="org-comment-delimiter">// </span><span class="org-comment">seed to reproduce computation results. </span>
   <span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-variable-name">seed</span> = 1195785783;
   <span class="org-keyword">auto</span> <span class="org-variable-name">rnd</span> = make_uniform_random_distribution<span class="org-rainbow-delimiters-depth-2">&lt;</span><span class="org-type">int</span><span class="org-rainbow-delimiters-depth-2">&gt;(</span>1, 10, seed<span class="org-rainbow-delimiters-depth-2">)</span>;

   <span class="org-comment-delimiter">/* </span><span class="org-comment">Expected sequence: 7, 10, 9, 2, 2, 1, 3, 1, 6, 5, 1, 2, 3, 2 ... */</span> 
   <span class="org-keyword">for</span><span class="org-rainbow-delimiters-depth-2">(</span><span class="org-type">int</span> <span class="org-variable-name">i</span> = 0; i &lt; 15; i++<span class="org-rainbow-delimiters-depth-2">)</span>
   <span class="org-rainbow-delimiters-depth-2">{</span>
       <span class="org-keyword">auto</span> <span class="org-variable-name">field</span> = <span class="org-constant">std</span>::string<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">" x["</span><span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-constant">std</span>::to_string<span class="org-rainbow-delimiters-depth-3">(</span>i<span class="org-rainbow-delimiters-depth-3">)</span> + <span class="org-string">"] = "</span>; 
       <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>10<span class="org-rainbow-delimiters-depth-3">)</span>
                 &lt;&lt; field
                 &lt;&lt; <span class="org-constant">std</span>::setw<span class="org-rainbow-delimiters-depth-3">(</span>5<span class="org-rainbow-delimiters-depth-3">)</span> &lt;&lt; rnd<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>       
<span class="org-rainbow-delimiters-depth-1">}</span>   
</pre>
</div>

<p>
<b>Sample Output:</b> 
</p>

<p>
Compiling:  
</p>

<div class="org-src-container">
<pre class="src src-sh"><span class="org-comment-delimiter"># </span><span class="org-comment">Clang LLVM </span>
$ clang++ rand_int_fun.cpp -o <span class="org-keyword">rand_int_fun.bin</span> -std=c++1z -g -O0 -Wall 

<span class="org-comment-delimiter"># </span><span class="org-comment">GCC - GNU C/C++ Compiler </span>
$ g++ rand_int_fun.cpp -o <span class="org-keyword">rand_int_fun.bin</span> -std=c++1z -g -O0 -Wall 
</pre>
</div>

<p>
Running: (64 bits processor)
</p>

<div class="org-src-container">
<pre class="src src-sh">$ ./rand_int_fun.bin 

 ===== Random numbers with a random seed ====
   x[0] =     8
   x[1] =     4
   x[2] =     4
   x[3] =     7
   x[4] =     9
   x[5] =     2
   x[6] =     2
   x[7] =     6
   x[8] =     3
   x[9] =     8
  x[10] =     3
  x[11] =     1
  x[12] =     3
  x[13] =     1
  x[14] =    10

 ===== Random numbers with a non-random seed ====
   x[0] =     6
   x[1] =    10
   x[2] =     6
   x[3] =     2
   x[4] =     4
   x[5] =     1
   x[6] =     9
   x[7] =    10
   x[8] =     3
   x[9] =     6
  x[10] =    10
  x[11] =     6
  x[12] =     2
  x[13] =     1
  x[14] =     1

</pre>
</div>

<p>
Second for-loop output in 32 bits processor (x86) or with 32 bits
compiler:  
</p>

<div class="org-src-container">
<pre class="src src-text">===== Random numbers with a non-random seed ====
   x[0] =     3
   x[1] =     6
   x[2] =     1
   x[3] =     5
   x[4] =     4
   x[5] =     7
   x[6] =     2
   x[7] =     6
   x[8] =     7
   x[9] =     4
  x[10] =     8
  x[11] =     7
  x[12] =     2
  x[13] =     1
  x[14] =    10
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-orgffcdcd9" class="outline-3">
<h3 id="orgffcdcd9"><span class="section-number-3">1.5</span> Numerical Libraries Evaluation</h3>
<div class="outline-text-3" id="text-1-5">
</div>
<div id="outline-container-orgb65afce" class="outline-4">
<h4 id="orgb65afce"><span class="section-number-4">1.5.1</span> Eigen - Linear Algebra Library</h4>
<div class="outline-text-4" id="text-1-5-1">
</div>
<ol class="org-ol">
<li><a id="org4c6f11e"></a>Overview<br />
<div class="outline-text-5" id="text-1-5-1-1">
<p>
Eigen is a high-performance and header-only linear algebra library
suitable for a wide variety of applications, including, numerical
linear algebra, numerical statistics and numerical methods. 
</p>

<p>
Advantages: 
</p>

<ul class="org-ul">
<li>Permissive license</li>

<li>No linking issues: Eigen is header-only, all what is needed is to
add the path to eigen headers in the include-directories.</li>

<li>Many types of linear algebra operations:
<ul class="org-ul">
<li>scalar X vector operations</li>
<li>scalar X matrix operations</li>
<li>vector X matrix operations</li>
<li>matrix X matrix operations</li>
<li>solution of linear systems</li>
<li>norm of vectors and norm of matrices</li>
<li>eigenvalues and eigenvectors</li>
<li>Matrix decomposition: QR, SVD, LU, Cholesky and so on.</li>
</ul></li>
</ul>

<p>
Applications: 
</p>

<ul class="org-ul">
<li>Science</li>

<li>Physics</li>

<li>Engineering</li>

<li>Implementation of numerical methods which requires linear algebra.</li>

<li>Multivariate statistics</li>

<li>PDE - Partial Differential Equations</li>

<li>FEM - Finite Elements Methods</li>

<li>Computer graphics</li>
</ul>

<p>
Perofmance: Eigen uses the following techniques for achieving high performance.
</p>

<ul class="org-ul">
<li><span class="underline">Expression templates</span> and lazy evaluation for optmizing loops. For
instance, with just operator overloadings, the sum of three
vectors would require three loops. Due the usage of expression
templates, the sum of three vectors can be computed in a single
loop.</li>

<li><span class="underline">CRTP</span> Curious Recurring Template for virtual member-function call
overhead, specially in loops.</li>

<li>Classes for <span class="underline">sparse matrices</span> which avoids storing all non-zero
elements.</li>

<li>Specific matrices and vector classes for computer graphics of 2, 3
and 4 dimensions.</li>

<li>Fixed-size matrices without dynamic meory allocation.</li>
</ul>

<p>
Some high-profile projects using Eigen: 
</p>

<ul class="org-ul">
<li>Google's TensorFlow =&gt; Library for Machine Learning</li>

<li>Shogun =&gt; a large scale machine learning toolbox.</li>

<li><a href="https://github.com/gnudatalanguage/gdl">Gnu Data Language</a>, a GPL interpretor of IDL syntax codes.</li>

<li><a href="http://avogadro.cc/">Avogadro</a> - an opensource advanced molecular editor.</li>
</ul>


<p>
<b>Official Repository</b> 
</p>

<ul class="org-ul">
<li><a href="https://gitlab.com/libeigen/eigen/">https://gitlab.com/libeigen/eigen/</a></li>
</ul>

<p>
<b>Documentation</b> / Doxygen 
</p>

<ul class="org-ul">
<li><a href="https://eigen.tuxfamily.org/dox/index.html">https://eigen.tuxfamily.org/dox/index.html</a></li>

<li><a href="https://eigen.tuxfamily.org/dox/TopicCMakeGuide.html">https://eigen.tuxfamily.org/dox/TopicCMakeGuide.html</a></li>

<li><a href="https://eigen.tuxfamily.org/dox/TopicInsideEigenExample.html">Eigen: What happens inside Eigen, on a simple example</a></li>
</ul>

<p>
<b>Miscellaneous</b> 
</p>

<ul class="org-ul">
<li><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p1417r0.pdf">P1417R0: Historical lessons for C++ linear algebra librarystandardization</a></li>

<li><a href="https://indico.cern.ch/event/766995/contributions/3295785/attachments/1802777/2940991/Mikhail_Sizov_-_Efficient_C_implementation_of_custom_FEM_kernel_with_Eigen_FEM_Sizov.pdf">Efficient C++ implementation of custom FEM kernelwith Eigen</a> - CERN</li>

<li><a href="https://dritchie.github.io/csci2240/assignments/eigen_tutorial.pdf">Eigen Tutorial - CS2240 Interactive Computer Graphic</a></li>
</ul>
</div>
</li>
<li><a id="org4f23b83"></a>Sample CMake Project<br />
<div class="outline-text-5" id="text-1-5-1-2">
<p>
<b>Project Files</b> 
</p>

<p>
File: CMakeLists.txt 
</p>
<ul class="org-ul">
<li>This sample CmakeLists.txt requires any dependencies and no
previous installation of the Eigen library. It has a macro for
automating the library.</li>
</ul>

<div class="org-src-container">
<pre class="src src-cmake"><span class="org-function-name">cmake_minimum_required</span>(VERSION 3.5)
<span class="org-function-name">project</span>(Eigen_test)

<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD 17)
<span class="org-function-name">set</span>(CMAKE_CXX_STANDARD_REQUIRED ON)
<span class="org-function-name">set</span>(CMAKE_VERBOSE_MAKEFILE ON)

<span class="org-keyword">macro</span>(Download_Eigen version is_via_git)
    <span class="org-function-name">include</span>(FetchContent)
      <span class="org-keyword">IF</span>(${<span class="org-variable-name">is_via_git</span>})
       <span class="org-function-name">message</span>( [TRACE] <span class="org-string">" DOWNLOADING Eigen via GIT - Wait ...."</span>)
       <span class="org-function-name">FetchContent_Declare</span>(
        eigenlib
        GIT_REPOSITORY  https://gitlab.com/libeigen/eigen
        GIT_TAG         ${<span class="org-variable-name">version</span>}
        )
    <span class="org-keyword">ELSE</span>()
      <span class="org-function-name">message</span>( [TRACE] <span class="org-string">" DOWNLOADING Eigen ZIP source archive - Wait ...."</span>)
      <span class="org-function-name">FetchContent_Declare</span>(
        eigenlib
        URL https://gitlab.com/libeigen/eigen/-/archive/${<span class="org-variable-name">version</span>}/eigen-${<span class="org-variable-name">version</span>}.zip
        )
    <span class="org-keyword">ENDIF</span>()    
    <span class="org-function-name">FetchContent_GetProperties</span>(eigenlib)    
    <span class="org-keyword">if</span>(NOT eigenlib_POPULATED)
        <span class="org-function-name">FetchContent_Populate</span>(eigenlib)
    <span class="org-keyword">endif</span>()
    <span class="org-function-name">include_directories</span>(${<span class="org-variable-name">CMAKE_BINARY_DIR</span>}/_deps/eigenlib-src )
<span class="org-keyword">endmacro</span>()  

<span class="org-comment">#========== Target Configurations ================#</span>
<span class="org-function-name">Download_Eigen</span>(3.3.7 true)
<span class="org-function-name">add_executable</span>(main1 main1.cpp)
</pre>
</div>

<p>
File: main1.cpp 
</p>

<div class="org-src-container">
<pre class="src src-cpp"><span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iostream</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">iomanip</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>
<span class="org-preprocessor">#include</span> <span class="org-string"><span class="org-rainbow-delimiters-depth-1">&lt;</span></span><span class="org-string">Eigen/Dense</span><span class="org-string"><span class="org-rainbow-delimiters-depth-1">&gt;</span></span>

<span class="org-keyword">using</span> <span class="org-constant">Eigen</span>::<span class="org-type">MatrixXd</span>;

<span class="org-type">int</span> <span class="org-function-name">main</span><span class="org-rainbow-delimiters-depth-1">()</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 1] ========= Create Matrix ================"</span><span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-comment-delimiter">// </span><span class="org-comment">Matrix of variable size.</span>
    <span class="org-type">MatrixXd</span> <span class="org-variable-name">m</span><span class="org-rainbow-delimiters-depth-2">(</span>3,3<span class="org-rainbow-delimiters-depth-2">)</span>;

    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Matrix features "</span>
              &lt;&lt; <span class="org-string">"=&gt; rows = "</span> &lt;&lt; m.rows<span class="org-rainbow-delimiters-depth-2">()</span>
              &lt;&lt; <span class="org-string">"; cols = "</span> &lt;&lt; m.cols<span class="org-rainbow-delimiters-depth-2">()</span>
              &lt;&lt; <span class="org-constant">std</span>::endl;

    <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n  m = \n"</span> &lt;&lt; m &lt;&lt; <span class="org-constant">std</span>::endl;

    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 3] ====== Initialize Matrix  ================"</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-rainbow-delimiters-depth-2">{</span>

        m<span class="org-rainbow-delimiters-depth-3">(</span>0,0<span class="org-rainbow-delimiters-depth-3">)</span> = 3;
        m<span class="org-rainbow-delimiters-depth-3">(</span>1,0<span class="org-rainbow-delimiters-depth-3">)</span> = 2.5;
        m<span class="org-rainbow-delimiters-depth-3">(</span>0,1<span class="org-rainbow-delimiters-depth-3">)</span> = -1;
        m<span class="org-rainbow-delimiters-depth-3">(</span>0,2<span class="org-rainbow-delimiters-depth-3">)</span> = 9.23;

        m<span class="org-rainbow-delimiters-depth-3">(</span>1,1<span class="org-rainbow-delimiters-depth-3">)</span> = m<span class="org-rainbow-delimiters-depth-3">(</span>1,0<span class="org-rainbow-delimiters-depth-3">)</span> + m<span class="org-rainbow-delimiters-depth-3">(</span>0,1<span class="org-rainbow-delimiters-depth-3">)</span>;
        m<span class="org-rainbow-delimiters-depth-3">(</span>1,2<span class="org-rainbow-delimiters-depth-3">)</span> = 10.523;

        m<span class="org-rainbow-delimiters-depth-3">(</span>2, 0<span class="org-rainbow-delimiters-depth-3">)</span> = 7.24;
        m<span class="org-rainbow-delimiters-depth-3">(</span>2, 2<span class="org-rainbow-delimiters-depth-3">)</span> = 4.56;
        m<span class="org-rainbow-delimiters-depth-3">(</span>2, 1<span class="org-rainbow-delimiters-depth-3">)</span> = 2.5;
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" m = \n"</span> &lt;&lt; m &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n Transpose matrix =&gt;&gt;\n m^T = \n"</span> &lt;&lt; m.transpose<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n Inverse matrix =&gt;&gt;\n m^-1 = \n"</span> &lt;&lt; m.inverse<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 4] === Create Initialized Matrix ========="</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-type">MatrixXd</span> <span class="org-variable-name">A</span><span class="org-rainbow-delimiters-depth-3">(</span>3, 4<span class="org-rainbow-delimiters-depth-3">)</span>;
        A &lt;&lt;  10.255, -21.5, 5.15, 9.5
             ,9.251,   18.4, 7.25, 25.1
             ,56.13,   24.5, 8.25, 17.55;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" Matrix A  = \n"</span> &lt;&lt; A &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 5] === Multiply matrix by scalar ========="</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n 10 * m = \n"</span> &lt;&lt; 10.0 * m &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n m  / 5 = \n"</span> &lt;&lt; m / 5 &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 6] === Matrix-Matrix operations =========="</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-comment-delimiter">// </span><span class="org-comment">Create a 3 x 3 random matrix multiplied by 10</span>
        <span class="org-keyword">auto</span> <span class="org-variable-name">rndm1</span> =  10 * <span class="org-constant">MatrixXd</span>::Random<span class="org-rainbow-delimiters-depth-3">(</span>3, 3<span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n rndm1 = \n"</span> &lt;&lt; rndm1 &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n m + rndm1 = \n"</span> &lt;&lt; m + rndm1 &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n m * rndm1 = \n"</span> &lt;&lt; m * rndm1 &lt;&lt; <span class="org-constant">std</span>::endl;
        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n rndm1 * m = \n"</span> &lt;&lt; m * rndm1 &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>

    <span class="org-constant">std</span>::puts<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"\n &gt;&gt;&gt;[EXPERIMENT 7] === Eigenvalues and Eigenvectors =========="</span><span class="org-rainbow-delimiters-depth-2">)</span>;
    <span class="org-rainbow-delimiters-depth-2">{</span>
        <span class="org-type">MatrixXd</span> <span class="org-variable-name">A</span><span class="org-rainbow-delimiters-depth-3">(</span>3, 3<span class="org-rainbow-delimiters-depth-3">)</span>;

        A &lt;&lt;  2.50000E-02, 3.25000E-02,   1.75000E-03
             ,3.25000E-02, 2.17000E-01,  -2.15000E-03
             ,1.75000E-03, -2.15000E-03,  4.30000E-04;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-constant">std</span>::fixed &lt;&lt; <span class="org-constant">std</span>::setprecision<span class="org-rainbow-delimiters-depth-3">(</span>5<span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">" A = \n"</span> &lt;&lt; A &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-keyword">auto</span> <span class="org-variable-name">eigsolver</span> = <span class="org-constant">Eigen</span>::SelfAdjointEigenSolver<span class="org-rainbow-delimiters-depth-3">&lt;</span><span class="org-type">MatrixXd</span><span class="org-rainbow-delimiters-depth-3">&gt;(</span>A<span class="org-rainbow-delimiters-depth-3">)</span>;
        assert<span class="org-rainbow-delimiters-depth-3">(</span>eigsolver.info<span class="org-rainbow-delimiters-depth-4">()</span> == <span class="org-constant">Eigen</span>::Success
                &amp;&amp; <span class="org-string">"[ERROR] Unable to find eigenvalues"</span><span class="org-rainbow-delimiters-depth-3">)</span>;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n Eigenvalues = \n"</span>
                  &lt;&lt; eigsolver.eigenvalues<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;

        <span class="org-constant">std</span>::cout &lt;&lt; <span class="org-string">"\n Eigenvectiors = \n"</span>
                  &lt;&lt; eigsolver.eigenvectors<span class="org-rainbow-delimiters-depth-3">()</span> &lt;&lt; <span class="org-constant">std</span>::endl;
    <span class="org-rainbow-delimiters-depth-2">}</span>

<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>

<p>
<b>Program Output</b> 
</p>

<div class="org-src-container">
<pre class="src src-text"> &gt;&gt;&gt;[EXPERIMENT 1] ========= Create Matrix ================
 Matrix features =&gt; rows = 3; cols = 3

  m = 
0 0 0
0 0 0
0 0 0

 &gt;&gt;&gt;[EXPERIMENT 3] ====== Initialize Matrix  ================
 m = 
     3     -1   9.23
   2.5    1.5 10.523
  7.24    2.5   4.56

 Transpose matrix =&gt;&gt;
 m^T = 
     3    2.5   7.24
    -1    1.5    2.5
  9.23 10.523   4.56

 Inverse matrix =&gt;&gt;
 m^-1 = 
 0.117459 -0.166738  0.147026
-0.390894  0.320655 0.0512492
0.0278148 0.0889348 -0.042235

 &gt;&gt;&gt;[EXPERIMENT 4] === Create Initialized Matrix =========
 Matrix A  = 
10.255  -21.5   5.15    9.5
 9.251   18.4   7.25   25.1
 56.13   24.5   8.25  17.55

 &gt;&gt;&gt;[EXPERIMENT 5] === Multiply matrix by scalar =========

 10 * m = 
    30    -10   92.3
    25     15 105.23
  72.4     25   45.6

 m  / 5 = 
   0.6   -0.2  1.846
   0.5    0.3 2.1046
 1.448    0.5  0.912

 &gt;&gt;&gt;[EXPERIMENT 6] === Matrix-Matrix operations ==========

 rndm1 = 
 6.80375   5.9688 -3.29554
-2.11234  8.23295  5.36459
 5.66198 -6.04897 -4.44451

 m + rndm1 = 
  4.0794 -3.70431  17.5539
 2.04794  1.76802  13.2372
 9.81742  11.5446  8.90594

 m * rndm1 = 
-112.934  47.9796 -86.9588
 -116.51  40.2783  -98.052
-90.6609 -27.6275 -88.4288

 rndm1 * m = 
 -85.4597    14.787  -10.5057
 -63.8875   34.5262 -0.960369
 -57.3932    29.101   -20.442

 &gt;&gt;&gt;[EXPERIMENT 7] === Eigenvalues and Eigenvectors ==========
 A = 
 0.02500  0.03250  0.00175
 0.03250  0.21700 -0.00215
 0.00175 -0.00215  0.00043

 Eigenvalues = 
0.00019
0.01987
0.22237

 Eigenvectiors = 
 0.10336 -0.98130  0.16240
-0.02535  0.16062  0.98669
-0.99432 -0.10610 -0.00828

</pre>
</div>

<p>
<b>Project in QtCreator IDE</b> 
</p>

<p>
Just open the CMakeLists.txt file or run the following comamnd from
command line: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ qtcreator /path/to/project/CMakeLists.txt &amp; 
</pre>
</div>

<p>
<b>Project in CodeBlocks IDE</b>
</p>

<p>
Generate CodeBlocks project: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ cmake -B_build -H. -G <span class="org-string">"CodeBlocks - Unix Makefiles"</span> -DCMAKE_BUILD_TYPE=Debug
-- The C compiler identification is GNU 8.3.1
-- The CXX compiler identification is GNU 8.3.1
-- Check for working C compiler: /usr/lib64/ccache/cc
-- Check for working C compiler: /usr/lib64/ccache/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/lib64/ccache/c++
-- Check for working CXX compiler: /usr/lib64/ccache/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
[TRACE] DOWNLOADING Eigen via GIT - Wait ....
 ....  ....  ....  ....  ....  ....  ....  ....  .... 
 ....  ....  ....  ....  ....  ....  ....  ....  .... 
</pre>
</div>

<p>
List generated project files: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ ls _build/
CMakeFiles/  _deps/  CMakeCache.txt  cmake_install.cmake  Eigen_test.cbp  Makefile

$ file _build/Eigen_test.cbp 
<span class="org-function-name">_build/Eigen_test.cbp</span>: XML 1.0 document, ASCII text

$ ls _build/_deps/eigenlib-src/
bench/  doc/       test/           COPYING.LGPL       CTestCustom.cmake.in
blas/   Eigen/     unsupported/    COPYING.MINPACK    eigen3.pc.in
cmake/  failtest/  CMakeLists.txt  COPYING.MPL2       INSTALL
debug/  lapack/    COPYING.BSD     COPYING.README     README.md
demos/  scripts/   COPYING.GPL     CTestConfig.cmake  signature_of_eigen3_matrix_library
</pre>
</div>

<p>
Show CodeBlocks project file: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ head -n 10 _build/Eigen_test.cbp 

&lt;?xml <span class="org-variable-name">version</span>=<span class="org-string">"1.0"</span> <span class="org-variable-name">encoding</span>=<span class="org-string">"UTF-8"</span>?&gt;
&lt;CodeBlocks_project_file&gt;
        &lt;FileVersion <span class="org-variable-name">major</span>=<span class="org-string">"1"</span> <span class="org-variable-name">minor</span>=<span class="org-string">"6"</span>/&gt;
        &lt;Project&gt;
                &lt;Option <span class="org-variable-name">title</span>=<span class="org-string">"Eigen_test"</span>/&gt;
                &lt;Option <span class="org-variable-name">makefile_is_custom</span>=<span class="org-string">"1"</span>/&gt;
                &lt;Option <span class="org-variable-name">compiler</span>=<span class="org-string">"gcc"</span>/&gt;
                &lt;Option <span class="org-variable-name">virtualFolders</span>=<span class="org-string">"CMake Files\;"</span>/&gt;
                &lt;Build&gt;
                        &lt;Target <span class="org-variable-name">title</span>=<span class="org-string">"all"</span>&gt;
</pre>
</div>

<p>
Open the following file in CodeBlocks IDE
</p>

<ul class="org-ul">
<li>'/path/to/project-root-dir/_build/Eigen_test.cbp'</li>
</ul>

<p>
<b>Compiling from command line</b> 
</p>

<p>
Configuration step: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ cmake -B_build -H. -DCMAKE_BUILD_TYPE=Debug 
-- The C compiler identification is GNU 8.3.1
-- The CXX compiler identification is GNU 8.3.1
-- Check for working C compiler: /usr/lib64/ccache/cc
-- Check for working C compiler: /usr/lib64/ccache/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/lib64/ccache/c++
-- Check for working CXX compiler: /usr/lib64/ccache/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
[TRACE] DOWNLOADING Eigen via GIT - Wait ....
-- Configuring done
-- Generating done
-- Build files have been written to: /home/user/projects/eigen/_build

</pre>
</div>

<p>
Building step: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ cmake --build _build --target 
.... .... .... .... ... ... ... ... 
[100%] Linking CXX executable main1
/usr/bin/cmake -E cmake_link_script CMakeFiles/main1.dir/link.txt --verbose=1
/usr/lib64/ccache/c++  -g   CMakeFiles/main1.dir/main1.cpp.o  -o <span class="org-keyword">main1</span> 
<span class="org-function-name">gmake</span>[<span class="org-compilation-line-number">2</span>]: Leaving directory <span class="org-string">'/home/user/projects/eigen/_build'</span>
[100%] Built target main1
<span class="org-function-name">gmake</span>[<span class="org-compilation-line-number">1</span>]: Leaving directory <span class="org-string">'/home/user/projects/eigen/_build'</span>
/usr/bin/cmake -E cmake_progress_start /home/user/projects/eigen/_build/CMakeFiles 
</pre>
</div>

<p>
Running application: 
</p>

<div class="org-src-container">
<pre class="src src-sh">$ _build/main1 

 &gt;&gt;&gt;[EXPERIMENT 1] ========= Create Matrix ================
 Matrix features =&gt; rows = 3; cols = 3

... .... ... ... .... ... ... .... ... ... .... ... ... .... ... 
</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Created: 2020-02-22 Sat 13:26</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
